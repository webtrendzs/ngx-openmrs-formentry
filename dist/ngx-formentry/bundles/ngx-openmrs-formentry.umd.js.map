{"version":3,"file":"ngx-openmrs-formentry.umd.js.map","sources":["ng://ngx-openmrs-formentry/form-entry/services/debug-mode.service.ts","ng://ngx-openmrs-formentry/form-entry/services/form-errors.service.ts",null,"ng://ngx-openmrs-formentry/change-tracking/control-relation.ts","ng://ngx-openmrs-formentry/change-tracking/control-relations.ts","ng://ngx-openmrs-formentry/form-entry/control-hiders-disablers/hider-helpers.ts","ng://ngx-openmrs-formentry/form-entry/control-alerts/alert-helpers.ts","ng://ngx-openmrs-formentry/form-entry/control-hiders-disablers/disabler-helper.ts","ng://ngx-openmrs-formentry/form-entry/form-factory/form-node.ts","ng://ngx-openmrs-formentry/form-entry/question-models/validation.model.ts","ng://ngx-openmrs-formentry/form-entry/question-models/js-expression-validation.model.ts","ng://ngx-openmrs-formentry/form-entry/question-models/conditional-validation.model.ts","ng://ngx-openmrs-formentry/form-entry/form-factory/control-relations.factory.ts","ng://ngx-openmrs-formentry/form-entry/expression-runner/expression-runner.ts","ng://ngx-openmrs-formentry/abstract-controls-extension/afe-form-control.ts","ng://ngx-openmrs-formentry/abstract-controls-extension/afe-form-group.ts","ng://ngx-openmrs-formentry/abstract-controls-extension/afe-form-array.ts","ng://ngx-openmrs-formentry/abstract-controls-extension/afe-control-type.ts","ng://ngx-openmrs-formentry/form-entry/question-models/question-base.ts","ng://ngx-openmrs-formentry/form-entry/validators/conditional-required.validator.ts","ng://ngx-openmrs-formentry/form-entry/validators/conditional-answered.validator.ts","ng://ngx-openmrs-formentry/form-entry/validators/required.validator.ts","ng://ngx-openmrs-formentry/form-entry/validators/date.validator.ts","ng://ngx-openmrs-formentry/form-entry/validators/min.validator.ts","ng://ngx-openmrs-formentry/form-entry/validators/max.validator.ts","ng://ngx-openmrs-formentry/form-entry/validators/min-date.validator.ts","ng://ngx-openmrs-formentry/form-entry/validators/max-date.validator.ts","ng://ngx-openmrs-formentry/form-entry/validators/future-date-restriction.validator.ts","ng://ngx-openmrs-formentry/form-entry/helpers/js-expression-helper.ts","ng://ngx-openmrs-formentry/form-entry/validators/validations.ts","ng://ngx-openmrs-formentry/form-entry/validators/js-expression.validator.ts","ng://ngx-openmrs-formentry/form-entry/utils/messages.ts","ng://ngx-openmrs-formentry/form-entry/form-factory/validation.factory.ts","ng://ngx-openmrs-formentry/form-entry/form-factory/hiders-disablers.factory.ts","ng://ngx-openmrs-formentry/form-entry/form-factory/show-messages.factory.ts","ng://ngx-openmrs-formentry/form-entry/form-factory/form-control.service.ts","ng://ngx-openmrs-formentry/form-entry/form-renderer/form-renderer.component.css.ts","ng://ngx-openmrs-formentry/form-entry/data-sources/data-sources.ts","ng://ngx-openmrs-formentry/form-entry/form-renderer/form-renderer.component.ts","ng://ngx-openmrs-formentry/form-entry/error-renderer/error-renderer.component.ts","ng://ngx-openmrs-formentry/form-entry/helpers/historical-field-helper-service.ts","ng://ngx-openmrs-formentry/form-entry/directives/historical-value-directive.ts","ng://ngx-openmrs-formentry/components/select/select.component.style.ts","ng://ngx-openmrs-formentry/components/select/option.ts","ng://ngx-openmrs-formentry/components/select/diacritics.ts","ng://ngx-openmrs-formentry/components/select/option-list.ts","ng://ngx-openmrs-formentry/components/select/select.component.ts","ng://ngx-openmrs-formentry/components/select/select-dropdown.component.style.ts","ng://ngx-openmrs-formentry/components/select/select-dropdown.component.ts","ng://ngx-openmrs-formentry/components/select/select.module.ts","ng://ngx-openmrs-formentry/components/file-upload/secure.pipe.ts","ng://ngx-openmrs-formentry/shared.module.ts","ng://ngx-openmrs-formentry/components/file-upload/file-upload.component.ts","ng://ngx-openmrs-formentry/components/file-upload/file-upload.module.ts","ng://ngx-openmrs-formentry/components/date-time-picker/date-picker/date-picker.component.ts","ng://ngx-openmrs-formentry/components/date-time-picker/time-picker/time-picker.component.ts","ng://ngx-openmrs-formentry/components/date-time-picker/picker-modal/modal.component.ts","ng://ngx-openmrs-formentry/components/date-time-picker/pipes/moment.pipe.ts","ng://ngx-openmrs-formentry/components/date-time-picker/date-time-picker.component.ts","ng://ngx-openmrs-formentry/components/date-time-picker/date-time-picker.module.ts","ng://ngx-openmrs-formentry/components/ngx-date-time-picker/ngx-date-time-picker.component.ts","ng://ngx-openmrs-formentry/components/ngx-date-time-picker/ngx-date-time-picker.module.ts","ng://ngx-openmrs-formentry/form-entry/question-models/select-option.ts","ng://ngx-openmrs-formentry/components/afe-ng-select.component.ts","ng://ngx-openmrs-formentry/form-entry/services/form-schema-compiler.service.ts","ng://ngx-openmrs-formentry/form-entry/question-models/text-input-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/text-area-input-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/select-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/ui-select-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/date-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/multi-select-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/interfaces/nested-questions.ts","ng://ngx-openmrs-formentry/form-entry/question-models/group-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/repeating-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/checkbox.model.ts","ng://ngx-openmrs-formentry/form-entry/question-models/file-upload-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/test-order-question.ts","ng://ngx-openmrs-formentry/form-entry/question-models/date-validation.model.ts","ng://ngx-openmrs-formentry/form-entry/question-models/max-validation.model.ts","ng://ngx-openmrs-formentry/form-entry/question-models/min-validation.model.ts","ng://ngx-openmrs-formentry/form-entry/data-sources/dummy-data-source.ts","ng://ngx-openmrs-formentry/form-entry/services/historical-encounter-data.service.ts","ng://ngx-openmrs-formentry/form-entry/helpers/historical-expression-helper-service.ts","ng://ngx-openmrs-formentry/form-entry/form-factory/question.factory.ts","ng://ngx-openmrs-formentry/form-entry/form-factory/form.ts","ng://ngx-openmrs-formentry/form-entry/form-factory/form.factory.ts","ng://ngx-openmrs-formentry/form-entry/value-adapters/obs-adapter-helper.ts","ng://ngx-openmrs-formentry/form-entry/value-adapters/obs.adapter.ts","ng://ngx-openmrs-formentry/form-entry/value-adapters/order.adapter.ts","ng://ngx-openmrs-formentry/form-entry/value-adapters/encounter.adapter.ts","ng://ngx-openmrs-formentry/form-entry/value-adapters/person-attribute.adapter.ts","ng://ngx-openmrs-formentry/components/remote-select/remote-select.component.ts","ng://ngx-openmrs-formentry/components/remote-select/remote-select.module.ts","ng://ngx-openmrs-formentry/components/appointments-overview/appointments-overview.component.ts","ng://ngx-openmrs-formentry/encounter-viewer/encounter-viewer.service.ts","ng://ngx-openmrs-formentry/encounter-viewer/encounter-view/encounter-viewer.component.ts","ng://ngx-openmrs-formentry/encounter-viewer/encounter-pdf-viewer.service.ts","ng://ngx-openmrs-formentry/encounter-viewer/encounter-container/encounter-container.component.ts","ng://ngx-openmrs-formentry/encounter-viewer/display-controls/question-control.component.ts","ng://ngx-openmrs-formentry/encounter-viewer/display-controls/file-preview.component.ts","ng://ngx-openmrs-formentry/encounter-viewer/display-controls/remote-answer.component.ts","ng://ngx-openmrs-formentry/encounter-viewer/encounter-viewer.module.ts","ng://ngx-openmrs-formentry/components/check-box/checkbox.component.ts","ng://ngx-openmrs-formentry/components/check-box/checkbox.module.ts","ng://ngx-openmrs-formentry/form-entry/form-entry.module.ts","ng://ngx-openmrs-formentry/form-entry/question-models/pair.model.ts","ng://ngx-openmrs-formentry/form-entry/question-models/rendering-type.ts"],"sourcesContent":["/*\r\nThis service checks if the debug mode on ng2-amrs\r\nhas been enabled by checking cookies.\r\nIf the debug mode has been enabled then\r\nit returns true and all fields are displayed\r\nfor use by testers\r\n*/\r\n\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\n\r\nexport class DebugModeService {\r\n\r\n    public cookieKey = 'formDebug';\r\n\r\n    constructor() {\r\n    }\r\n   public debugEnabled(): boolean {\r\n\r\n             // check if the hidefield\r\n            return false;\r\n     }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { Observable } from 'rxjs';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { AfeFormControl } from '../../public_api';\r\nimport { AfeFormArray, AfeFormGroup } from '../../abstract-controls-extension';\r\n\r\n@Injectable()\r\nexport class FormErrorsService {\r\n\r\n  // Observable string sources\r\n  public static control: AfeFormControl | AfeFormArray | AfeFormGroup  = null;\r\n  public static tab: number = null;\r\n  public announceErrorFieldSource = new Subject<string>();\r\n  public announceErrorField$: Observable<any> = this.announceErrorFieldSource.asObservable();\r\n  public announceErrorField(error: string) {\r\n    this.announceErrorFieldSource.next(error);\r\n  }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { AbstractControl } from '@angular/forms';\r\n\r\n// import { CanHide } from '../form-entry/control-hiders-disablers/can-hide';\r\n// import { CanDisable } from '../form-entry/control-hiders-disablers/can-disable';\r\n\r\nexport class ControlRelation {\r\n    private _control: AbstractControl;\r\n    private _relatedTo: AbstractControl;\r\n    private _lastUpdateValue: any;\r\n\r\n    constructor(control: AbstractControl, relatedTo: AbstractControl) {\r\n        this._control = control;\r\n        this._relatedTo = relatedTo;\r\n        this._registerForChangesFromRelatedControl();\r\n    }\r\n\r\n    get control(): AbstractControl {\r\n        return this._control;\r\n    }\r\n\r\n    get relatedTo(): AbstractControl {\r\n        return this._relatedTo;\r\n    }\r\n\r\n    get lastUpdateValue(): any {\r\n        return this._lastUpdateValue;\r\n    }\r\n\r\n    updateControlBasedOnRelation(newValue: any): boolean {\r\n        if (newValue !== this._lastUpdateValue) {\r\n            this._lastUpdateValue = newValue;\r\n\r\n            if ((this._control as any).updateCalculatedValue) {\r\n              (this._control as any).updateCalculatedValue();\r\n            }\r\n\r\n            this._control.updateValueAndValidity();\r\n            if ((this._control as any).updateHiddenState) {\r\n                (this._control as any).updateHiddenState();\r\n            }\r\n\r\n            if ((this._control as any).updateDisabledState) {\r\n                (this._control as any).updateDisabledState();\r\n            }\r\n\r\n            if ((this._control as any).updateAlert) {\r\n                (this._control as any).updateAlert();\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private _registerForChangesFromRelatedControl() {\r\n\r\n      this._relatedTo.valueChanges.subscribe((value) => {\r\n        this.updateControlBasedOnRelation(value);\r\n      });\r\n    }\r\n}\r\n","import { AbstractControl } from '@angular/forms';\r\n\r\nimport { ControlRelation } from './control-relation';\r\n\r\nexport class ControlRelations {\r\n\r\n    private _relationFor: AbstractControl;\r\n    private _relations: ControlRelation[];\r\n    private _otherRelations: any = [];\r\n\r\n    constructor(relationFor: AbstractControl, relatedTo?: AbstractControl | AbstractControl[]) {\r\n        this._relationFor = relationFor;\r\n        this._relations = [];\r\n\r\n        if (relatedTo) {\r\n            this.addRelatedControls(relatedTo);\r\n        }\r\n    }\r\n\r\n    get relationsFor(): AbstractControl {\r\n        return this._relationFor;\r\n    }\r\n\r\n    get relations(): ControlRelation[] {\r\n        return this._relations;\r\n    }\r\n\r\n    get otherRelations() {\r\n      return this._otherRelations;\r\n    }\r\n\r\n    addRelatedControls(relatedTo: AbstractControl | AbstractControl[]) {\r\n        if (relatedTo instanceof AbstractControl) {\r\n            this.relations.push(new ControlRelation(this._relationFor, relatedTo));\r\n        }\r\n\r\n        if (relatedTo instanceof Array) {\r\n            for (let i = 0; i < relatedTo.length; i++) {\r\n                this.relations.push(new ControlRelation(this._relationFor, relatedTo[i]));\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { CanHide, Hider } from './can-hide';\r\nexport class HiderHelper {\r\n\r\n    public hideControl(control: CanHide) {\r\n        control.hidden = true;\r\n        if (control.disable) {\r\n            control.disable();\r\n        }\r\n    }\r\n\r\n    public showControl(control: CanHide) {\r\n        control.hidden = false;\r\n    }\r\n\r\n    public setHiderForControl(control: CanHide, hider: Hider) {\r\n        control.hiders.push(hider);\r\n    }\r\n\r\n    public clearHidersForControl(control: CanHide) {\r\n        control.hiders.splice(0);\r\n        control.hidden = false;\r\n    }\r\n\r\n    public evaluateControlHiders(control: CanHide) {\r\n\r\n        let hiddenValue = false;\r\n        control.hiders.forEach(hider => {\r\n            hider.reEvaluateHidingExpression();\r\n            if (hider.toHide === true) {\r\n                hiddenValue = true;\r\n            }\r\n        });\r\n\r\n        control.hidden = hiddenValue;\r\n        if (control.hidden && control.disable) {\r\n            control.disable();\r\n            // control.setValue(null);\r\n        }\r\n    }\r\n\r\n    public setUpReEvaluationWhenValueChanges(control: CanHide) {\r\n        if (control.updateHiddenState) {\r\n            control.valueChanges.subscribe((val) => {\r\n                control.updateHiddenState();\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n","import { CanGenerateAlert, Alert } from './can-generate-alert';\r\nexport class AlertHelper {\r\n\r\n    public hideAlert(control: Alert) {\r\n        control.shown = false;\r\n    }\r\n\r\n    public showAlert(control: Alert) {\r\n        control.shown = true;\r\n    }\r\n\r\n    public setAlertsForControl(control: CanGenerateAlert, alert: Alert) {\r\n        control.alerts.push(alert);\r\n    }\r\n\r\n    public clearAlertsForControl(control: CanGenerateAlert) {\r\n        control.alerts.splice(0);\r\n        control.alert = '';\r\n    }\r\n\r\n    public evaluateControlAlerts(control: CanGenerateAlert) {\r\n        let messageValue = '';\r\n        control.alerts.forEach(message => {\r\n            message.reEvaluateAlertExpression();\r\n            if (message.shown === true) {\r\n                messageValue = message.alertMessage;\r\n            } else {\r\n                messageValue = '';\r\n            }\r\n        });\r\n\r\n        control.alert = messageValue;\r\n        // if (control.message && control.disable) {\r\n        //     control.disable();\r\n        //     // control.setValue(null);\r\n        // }\r\n    }\r\n\r\n    public setUpReEvaluationWhenValueChanges(control: CanGenerateAlert) {\r\n        if (control.updateAlert) {\r\n            control.valueChanges.subscribe((val) => {\r\n                control.updateAlert();\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n","import { CanDisable, Disabler } from './can-disable';\r\nexport class DisablerHelper {\r\n\r\n    public setDisablerForControl(control: CanDisable, disabler: Disabler) {\r\n        control.disablers.push(disabler);\r\n    }\r\n\r\n    public clearDisablersForControl(control: CanDisable) {\r\n        control.disablers.splice(0);\r\n        control.disable();\r\n    }\r\n\r\n    public evaluateControlDisablers(control: CanDisable) {\r\n        let toDisable = false;\r\n        control.disablers.forEach(hider => {\r\n            hider.reEvaluateDisablingExpression();\r\n            if (hider.toDisable === true) {\r\n                toDisable = true;\r\n            }\r\n        });\r\n\r\n        // console.log('Control', control);\r\n\r\n        if (toDisable) {\r\n            control.disable();\r\n        } else {\r\n            control.enable();\r\n        }\r\n    }\r\n\r\n    public setUpReEvaluationWhenValueChanges(control: CanDisable) {\r\n        if (control.updateDisabledState) {\r\n            control.valueChanges.subscribe((val) => {\r\n                control.updateDisabledState();\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n","import { AbstractControl } from '@angular/forms';\r\n\r\nimport { FormFactory } from './form.factory';\r\nimport { Form } from './form';\r\n\r\n// import { AfeControlType, AfeFormArray, AfeFormGroup, AfeFormControl } from '../../abstract-controls-extension';\r\nimport { QuestionBase, RepeatingQuestion } from '../question-models/models';\r\nimport { AfeFormControl, AfeFormArray, AfeFormGroup } from '../../abstract-controls-extension';\r\nexport interface ChildNodeCreatedListener {\r\n\r\n    addChildNodeCreatedListener(func: any);\r\n\r\n    fireChildNodeCreatedListener(node: GroupNode);\r\n}\r\n\r\nexport type CreateArrayChildNodeFunction = (question: RepeatingQuestion, node: ArrayNode, factory?: FormFactory) => GroupNode;\r\n\r\nexport interface RemoveArrayChildNodeFunction {\r\n    (index: number, node: ArrayNode);\r\n}\r\n\r\nexport class NodeBase {\r\n    public children?: any;\r\n    private _control: AfeFormControl | AfeFormArray | AfeFormGroup;\r\n    private _questionModel: QuestionBase;\r\n    private _form: Form;\r\n    private _path: string;\r\n\r\n    public initialValue: any;\r\n\r\n    constructor(question: QuestionBase, control?: AfeFormControl | AfeFormArray | AfeFormGroup, form?: Form, parentPath?: string) {\r\n        this._control = control;\r\n        this._questionModel = question;\r\n        this._form = form;\r\n        this._path = parentPath ? parentPath + '.' + question.key : question.key;\r\n    }\r\n\r\n    public get question(): QuestionBase {\r\n        return this._questionModel;\r\n    }\r\n\r\n    public get control(): AfeFormControl | AfeFormArray | AfeFormGroup {\r\n        return this._control;\r\n    }\r\n\r\n    public get form(): Form {\r\n        return this._form;\r\n    }\r\n\r\n    public get path(): string {\r\n        return this._path;\r\n    }\r\n    removeAt(index: number) {}\r\n\r\n    createChildNode() {}\r\n    removeChildNode() {}\r\n\r\n}\r\n\r\nexport class LeafNode extends NodeBase {\r\n    constructor(question: QuestionBase, control?: AfeFormControl | AfeFormArray | AfeFormGroup,\r\n         parentControl?: AfeFormControl | AfeFormArray | AfeFormGroup, form?: Form, parentPath?: string) {\r\n        super(question, control, form, parentPath);\r\n    }\r\n}\r\n\r\nexport class GroupNode extends NodeBase {\r\n    private _children: any;\r\n    constructor(question: QuestionBase, control?: AfeFormControl | AfeFormArray | AfeFormGroup,\r\n        parentControl?: AfeFormControl | AfeFormArray | AfeFormGroup, form?: Form, parentPath?: string) {\r\n        super(question, control, form, parentPath);\r\n        this._children = {};\r\n    }\r\n\r\n    public get children(): any {\r\n        return this._children;\r\n    }\r\n\r\n    public setChild(key: string, node: NodeBase) {\r\n        this.children[key] = node;\r\n    }\r\n\r\n}\r\n\r\nexport class ArrayNode extends NodeBase implements ChildNodeCreatedListener {\r\n\r\n    private childNodeCreatedEvents: any[] = [];\r\n    private _children: GroupNode[];\r\n    public createChildFunc: CreateArrayChildNodeFunction;\r\n    public removeChildFunc: RemoveArrayChildNodeFunction;\r\n\r\n    constructor(question: QuestionBase, control?: AfeFormControl | AfeFormArray | AfeFormGroup,\r\n        parentControl?: AfeFormControl | AfeFormArray | AfeFormGroup, private formFactory?: FormFactory,\r\n        form?: Form, parentPath?: string) {\r\n        super(question, control, form, parentPath);\r\n        this._children = [];\r\n        this.childNodeCreatedEvents = [];\r\n    }\r\n\r\n    public get children(): GroupNode[] {\r\n        return this._children;\r\n    }\r\n\r\n    public createChildNode(): GroupNode {\r\n        if (this.createChildFunc) {\r\n            const g: GroupNode = this.createChildFunc(this.question as RepeatingQuestion, this, this.formFactory);\r\n            this.fireChildNodeCreatedListener(g);\r\n            return g;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public removeAt(index: number) {\r\n        if (this.removeChildFunc) {\r\n            this.removeChildFunc(index, this);\r\n        }\r\n    }\r\n\r\n    addChildNodeCreatedListener(func: any) {\r\n        this.childNodeCreatedEvents.push(func);\r\n    }\r\n\r\n    fireChildNodeCreatedListener(node: GroupNode) {\r\n        for (let i = 0; i < this.childNodeCreatedEvents.length; i++) {\r\n\r\n            const func: any = this.childNodeCreatedEvents[i];\r\n            func(node);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","\r\nexport class ValidationModel {\r\n\r\n  type: string;\r\n\r\n  message: string;\r\n\r\n  constructor(validations: any) {\r\n\r\n    this.type = validations.type;\r\n    this.message = validations.message || null;\r\n  }\r\n}\r\n","\r\nimport { ValidationModel } from './validation.model';\r\n\r\nexport class JsExpressionValidationModel extends ValidationModel {\r\n\r\n  failsWhenExpression: string;\r\n\r\n  constructor(validations: any) {\r\n    super(validations);\r\n    this.failsWhenExpression = validations.failsWhenExpression;\r\n  }\r\n}\r\n","import { ValidationModel } from './validation.model';\r\n\r\nexport class ConditionalValidationModel extends ValidationModel {\r\n\r\n  referenceQuestionId: string;\r\n  referenceQuestionAnswers: any;\r\n\r\n  constructor(validations: any) {\r\n    super(validations);\r\n    this.referenceQuestionId = validations.referenceQuestionId;\r\n    this.referenceQuestionAnswers = validations.referenceQuestionAnswers;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n// import { ControlRelation } from  '../../change-tracking/control-relation';\r\nimport { QuestionBase } from '../question-models/question-base';\r\nimport { JsExpressionValidationModel } from '../question-models/js-expression-validation.model';\r\nimport { ConditionalValidationModel } from '../question-models/conditional-validation.model';\r\nimport { NodeBase, GroupNode, LeafNode, ArrayNode } from './form-node';\r\nimport { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\nimport { AfeFormArray } from '../../abstract-controls-extension/afe-form-array';\r\nimport { Form } from './form';\r\n\r\n@Injectable()\r\nexport class ControlRelationsFactory {\r\n\r\n  constructor() { }\r\n\r\n  buildRelations(rootNode: GroupNode) {\r\n\r\n    const controlsStore: any = this.mapControlIds(rootNode, {});\r\n\r\n    for (const key in controlsStore) {\r\n      if (controlsStore.hasOwnProperty(key)) {\r\n        const nodeBase: NodeBase = controlsStore[key];\r\n\r\n        this.setRelations(controlsStore, nodeBase);\r\n      }\r\n    }\r\n  }\r\n\r\n  buildArrayNodeRelations(node: GroupNode) {\r\n\r\n    const form: Form = node.form;\r\n\r\n    if (!form) {\r\n      return;\r\n    }\r\n    const rootNode: GroupNode = form.rootNode;\r\n\r\n    // build relations for controls in the same array\r\n    this.buildRelations(node);\r\n\r\n    // build relations for control outside the array\r\n    const rootControlsStore: any = this.mapControlIds(rootNode, {});\r\n    const arrayControlStore: any = this.mapControlIds(node, {});\r\n\r\n    for (const key in rootControlsStore) {\r\n\r\n      if (rootControlsStore.hasOwnProperty(key)) {\r\n\r\n        const child: NodeBase = rootControlsStore[key];\r\n\r\n        if (child instanceof LeafNode) {\r\n\r\n          const questionBase: QuestionBase = (child as LeafNode).question;\r\n\r\n          if (questionBase.key && questionBase.key.length > 0) {\r\n            this.setRelations(arrayControlStore, child);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // define relations for controls outside the group to controls in this group\r\n    this.createRelationsToArrayControls(node);\r\n\r\n    // fire relations\r\n    for (const id in arrayControlStore) {\r\n      if (arrayControlStore.hasOwnProperty(id)) {\r\n\r\n        const child: NodeBase = arrayControlStore[id];\r\n        const control: AfeFormControl | AfeFormArray = child.control as AfeFormControl | AfeFormArray;\r\n        control.updateHiddenState();\r\n        control.updateAlert();\r\n      }\r\n    }\r\n  }\r\n\r\n  createRelationsToArrayControls(node: GroupNode) {\r\n\r\n    const form: Form = node.form;\r\n\r\n    const rootNode: GroupNode = form.rootNode;\r\n\r\n    // build relations for control outside the array\r\n    const rootControlsStore: any = this.mapControlIds(rootNode, {});\r\n    const arrayControlStore: any = this.mapControlIds(node, {});\r\n\r\n    // loop through form controls\r\n    for (const key in rootControlsStore) {\r\n      if (rootControlsStore.hasOwnProperty(key)) {\r\n\r\n        const rChild: NodeBase = rootControlsStore[key];\r\n\r\n        const parentNodePath = node.path.substring(0, node.path.lastIndexOf('.'));\r\n\r\n        if (rChild.path.indexOf(parentNodePath + '.') === -1) {\r\n\r\n          // loop through controls in the array group\r\n          for (const id in arrayControlStore) {\r\n            if (arrayControlStore.hasOwnProperty(id)) {\r\n\r\n              const aChild: NodeBase = arrayControlStore[id];\r\n              const aChildId = aChild.question.key;\r\n              if (this.hasRelation(aChildId, rChild.question)) {\r\n\r\n                const nodes: Array<NodeBase> = node.form.searchNodeByPath(rootNode, parentNodePath, []);\r\n                if (nodes.length > 0) {\r\n                  const an = nodes[0] as ArrayNode;\r\n                  const rootControl = (rChild.control as AfeFormControl | AfeFormArray);\r\n\r\n                  if (rootControl.controlRelations.otherRelations.indexOf(an) === -1) {\r\n                    rootControl.controlRelations.otherRelations.push(an);\r\n                  }\r\n\r\n                  (aChild.control as AfeFormControl | AfeFormArray).addValueChangeListener((value) => {\r\n\r\n                    if ((rootControl as any).updateCalculatedValue) {\r\n                      (rootControl as any).updateCalculatedValue();\r\n                    }\r\n\r\n                    rootControl.updateValueAndValidity();\r\n                    if ((rootControl as any).updateHiddenState) {\r\n                      (rootControl as any).updateHiddenState();\r\n                    }\r\n\r\n                    if ((rootControl as any).updateAlert) {\r\n                      (rootControl as any).updateAlert();\r\n                    }\r\n\r\n                    if ((rootControl as any).updateDisabledState) {\r\n                      (rootControl as any).updateDisabledState();\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getRelationsForControl(id, node: GroupNode): Array<AfeFormControl | AfeFormArray> {\r\n\r\n    const relations: Array<AfeFormControl | AfeFormArray> = new Array<AfeFormControl | AfeFormArray>();\r\n\r\n    const nodeBaseArray: Array<NodeBase> = node.form.searchNodeByQuestionId(id);\r\n\r\n    if (nodeBaseArray.length > 0) {\r\n\r\n      const nodeBase: NodeBase = nodeBaseArray[0];\r\n\r\n      const controlList: any = this.mapControlIds(node, {});\r\n\r\n      for (const key in controlList) {\r\n        if (controlList.hasOwnProperty(key)) {\r\n\r\n          if (this.hasRelation(controlList[key].question.key, nodeBase.question)) {\r\n            relations.push(controlList[key].control);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return relations;\r\n  }\r\n\r\n  mapControlIds(node: GroupNode, controlsStore: any) {\r\n\r\n    const children: NodeBase = node.children;\r\n\r\n    for (const key in children) {\r\n\r\n      if (children.hasOwnProperty(key)) {\r\n\r\n        const child: NodeBase = children[key];\r\n\r\n        if (child instanceof GroupNode) {\r\n\r\n          this.mapControlIds(child, controlsStore);\r\n        } else if (child instanceof LeafNode) {\r\n\r\n          const questionBase: QuestionBase = (child as LeafNode).question;\r\n\r\n          if (questionBase.key && questionBase.key.length > 0) {\r\n            controlsStore[questionBase.key] = child;\r\n          }\r\n        } else if (child instanceof ArrayNode) {\r\n\r\n          const questionBase: QuestionBase = (child as ArrayNode).question;\r\n\r\n          if (questionBase.key && questionBase.key.length > 0) {\r\n            controlsStore[questionBase.key] = child;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return controlsStore;\r\n  }\r\n\r\n  setRelations(controlsStore: any, nodeBase: NodeBase) {\r\n\r\n    const questionBase: QuestionBase = nodeBase.question;\r\n\r\n    const id = questionBase.key;\r\n\r\n    for (const key in controlsStore) {\r\n      if (controlsStore.hasOwnProperty(key) && key !== id) {\r\n\r\n        const node: NodeBase = controlsStore[key];\r\n        const question: QuestionBase = node.question;\r\n\r\n        if (this.hasRelation(id, question, nodeBase)) {\r\n          this.addRelationToControl(node.control as AfeFormControl | AfeFormArray, nodeBase.control as AfeFormControl | AfeFormArray);\r\n        }\r\n\r\n        // add conditional required and conditional answered relations\r\n        if (typeof question.required === 'object') {\r\n\r\n          const required: any = question.required;\r\n\r\n          if (required.type === 'conditionalRequired') {\r\n\r\n            if (required.referenceQuestionId === id) {\r\n              this.addRelationToControl(node.control as AfeFormControl | AfeFormArray,\r\n                nodeBase.control as AfeFormControl | AfeFormArray);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  hasRelation(id: string, questionBase: QuestionBase, nodeBase?: NodeBase) {\r\n\r\n    let hasRelation = false;\r\n\r\n    if (questionBase.validators && questionBase.validators.length > 0) {\r\n\r\n      questionBase.validators.forEach(element => {\r\n\r\n        if (element instanceof JsExpressionValidationModel) {\r\n\r\n          const model: JsExpressionValidationModel = element as JsExpressionValidationModel;\r\n\r\n          const failsWhenExpression: string = model.failsWhenExpression;\r\n          if (failsWhenExpression && failsWhenExpression.indexOf(id) !== -1) {\r\n            hasRelation = true;\r\n          }\r\n        } else if (element instanceof ConditionalValidationModel && element.type === 'conditionalAnswered'\r\n          && element.referenceQuestionId === id) {\r\n          hasRelation = true;\r\n        }\r\n      });\r\n    }\r\n\r\n    // add hiders and disablers relations\r\n    if (!hasRelation) {\r\n\r\n      if (typeof questionBase.hide === 'string') {\r\n\r\n        const hide: string = questionBase.hide as string;\r\n\r\n        if (hide.length > 0 && hide.indexOf(id) !== -1) {\r\n          hasRelation = true;\r\n        }\r\n      } else if (typeof questionBase.hide === 'object') {\r\n\r\n        const hideObj: any = questionBase.hide;\r\n\r\n        if (hideObj.field === id) {\r\n          hasRelation = true;\r\n        }\r\n      }\r\n\r\n     if ( questionBase.alert && typeof questionBase.alert === 'object') {\r\n        hasRelation = true;\r\n      }\r\n\r\n      if (typeof questionBase.disable === 'string') {\r\n\r\n        const disable: string = questionBase.disable as string;\r\n\r\n        if (disable.length > 0 && disable.indexOf(id) !== -1) {\r\n          hasRelation = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    // add calculate expressions relations\r\n    if (!hasRelation && questionBase.calculateExpression && questionBase.calculateExpression.length > 0\r\n      && questionBase.calculateExpression.indexOf(id) !== -1) {\r\n      hasRelation = true;\r\n    }\r\n\r\n    return hasRelation;\r\n  }\r\n\r\n  addRelationToControl(control: AfeFormControl | AfeFormArray, related: AfeFormControl | AfeFormArray) {\r\n\r\n    //  let relations = control.controlRelations.relations;\r\n    //\r\n    //  let hasRelation = false;\r\n    //\r\n    //   relations.forEach(element => {\r\n    //\r\n    //     let controlRelation: ControlRelation = element as ControlRelation;\r\n    //\r\n    //     let relation: AfeFormControl | AfeFormArray = controlRelation.control as AfeFormControl | AfeFormArray;\r\n    //\r\n    //     if ( control.uuid !== undefined && control.uuid === relation.uuid ) {\r\n    //       hasRelation = true;\r\n    //     }\r\n    //   });\r\n\r\n    // if ( !hasRelation ) {\r\n    control.controlRelations.addRelatedControls(related);\r\n    // }\r\n  }\r\n}\r\n","import { AbstractControl } from '@angular/forms';\r\nimport { AfeFormControl, AfeFormArray, AfeFormGroup } from '../../abstract-controls-extension/control-extensions';\r\nimport { ArrayNode } from '../form-factory/form-node';\r\nimport { ControlRelationsFactory } from '../form-factory/control-relations.factory';\r\nimport { Form } from '../form-factory/form';\r\nimport * as moment_ from 'moment';\r\n\r\nconst moment = moment_;\r\nexport class ExpressionRunner {\r\n    getRunnable(expression: string, control: AfeFormArray | AfeFormGroup | AfeFormControl,\r\n        helper: any, dataDependencies: any, form?: Form):\r\n        Runnable {\r\n        const runner = this;\r\n        const runnable: Runnable = {\r\n            run: () => {\r\n\r\n                /* tslint:disable */\r\n                let scope: any = {};\r\n                if (control.uuid) {\r\n                    scope[control.uuid] = control.value;\r\n                }\r\n                window['moment'] = moment;\r\n                // scope.moment = moment;\r\n                scope['myValue'] = control.value;\r\n                runner.getControlRelationValueString(control, scope);\r\n                runner.getHelperMethods(helper, scope);\r\n                runner.getDataDependencies(dataDependencies, scope);\r\n\r\n                if (form) {\r\n                    // console.error('Form defined', form);\r\n                    runner.getDataDependencies(form.dataSourcesContainer.dataSources, scope);\r\n                }\r\n\r\n                let paramList = '';\r\n                let argList = '';\r\n                for (let o in scope) {\r\n                    paramList = paramList === \"\" ? paramList + o : paramList + ',' + o;\r\n                    argList = argList === \"\" ? argList + \"scope['\" + o + \"']\" : argList + \",scope['\" + o + \"']\";\r\n                }\r\n\r\n                // prevent more than one return statements\r\n                if (expression.indexOf('return') === -1) {\r\n                    expression = '\"return ' + expression + '\"';\r\n                }\r\n\r\n                let funcDeclarationCode = 'var afeDynamicFunc = new Function(\"' + paramList + '\", ' + expression + ');';\r\n                let funcCallCode = 'afeDynamicFunc.call(this ' + (argList === '' ? '' : ',' + argList) + ');';\r\n\r\n                try {\r\n\r\n                    if (Object.keys(scope).indexOf('undefined') >= 0) {\r\n                        console.warn('Missing reference found', expression, scope);\r\n                        return false;\r\n                    }\r\n                    //console.info('results: ', expression, eval(funcDeclarationCode + funcCallCode));\r\n                    return eval(funcDeclarationCode + funcCallCode);\r\n                } catch (e) {\r\n                    // if (window['error_count']) {\r\n                    //     window['error_count'] = window['error_count'] + 1;\r\n                    // } else {\r\n                    //     window['error_count'] = 1;\r\n                    // }\r\n                    // console.error(window['error_count'] + ' Error running expression:' + expression + '. ',\r\n                    //     e, control, 'Effective Expression', (funcDeclarationCode + funcCallCode));\r\n                    // console.error('Error running expression:' + expression + '. ',\r\n                    //     e, control, 'Effective Expression', (funcDeclarationCode + funcCallCode));\r\n\r\n                    // Uncomment the line above during debugging\r\n                    // console.error('Error running expression:' + expression, scope);\r\n\r\n                    return false;\r\n                }\r\n                /* tslint:enable */\r\n            }\r\n        };\r\n        return runnable;\r\n    }\r\n\r\n    private getControlRelationValueString(control: AfeFormArray | AfeFormGroup | AfeFormControl, scope: any) {\r\n        if (control && control.controlRelations && control.controlRelations.relations) {\r\n            control.controlRelations.relations.forEach(relation => {\r\n                if (relation.relatedTo) {\r\n                    const related = relation.relatedTo as any;\r\n                    const relatedAsControl = relation.relatedTo as AbstractControl;\r\n                    if (relatedAsControl && Array.isArray(relatedAsControl.value)) {\r\n                        scope[related.uuid] = relation.relatedTo.value;\r\n                    } else {\r\n                        scope[related.uuid] = relation.relatedTo.value && relation.relatedTo.value.value ?\r\n                            relation.relatedTo.value.value : relation.relatedTo.value;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        if (control && control.controlRelations && control.controlRelations.otherRelations\r\n            && control.controlRelations.otherRelations.length > 0) {\r\n\r\n            control.controlRelations.otherRelations.forEach(node => {\r\n                if (node instanceof ArrayNode) {\r\n                    const arrayNode: ArrayNode = node as ArrayNode;\r\n                    const uuid = control.uuid;\r\n\r\n                    const controlRelationsFactory: ControlRelationsFactory = new ControlRelationsFactory();\r\n                    let relationsForControl: Array<AfeFormControl | AfeFormArray> = [];\r\n                    // get all related controls\r\n                    arrayNode.children.forEach(child => {\r\n                        relationsForControl = relationsForControl.concat(controlRelationsFactory.getRelationsForControl(uuid, child));\r\n\r\n                    });\r\n\r\n                    this.setControlArrayValues(control as AfeFormControl | AfeFormArray, relationsForControl, scope);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private setControlArrayValues(control: AfeFormControl | AfeFormArray,\r\n        relationsForControl: Array<AfeFormControl | AfeFormArray>, scope: any) {\r\n        const keys: Array<string> = this._getFormControlKeys(relationsForControl);\r\n\r\n        keys.forEach(key => {\r\n            const values: any = this._getValuesForKey(key, relationsForControl);\r\n            scope[key] = values;\r\n        });\r\n    }\r\n\r\n    private _getFormControlKeys(array: Array<AfeFormControl | AfeFormArray>): Array<string> {\r\n\r\n        const keys: Array<string> = [];\r\n        array.forEach(control => {\r\n\r\n            if (keys.indexOf(control.uuid) === -1) {\r\n                keys.push(control.uuid);\r\n            }\r\n        });\r\n\r\n        return keys;\r\n    }\r\n\r\n    private _getValuesForKey(key: string, array: Array<AfeFormControl | AfeFormArray>): any {\r\n        const values: any = [];\r\n\r\n        array.forEach(control => {\r\n\r\n            if (control.uuid === key) {\r\n                values.push(control.value);\r\n            }\r\n        });\r\n\r\n        return values;\r\n    }\r\n\r\n    private getHelperMethods(obj: any, scope?: any) {\r\n        for (const key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                scope[key] = obj[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    private getDataDependencies(obj: any, scope?: any) {\r\n        for (const key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                scope[key] = obj[key];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport interface Runnable {\r\n    run();\r\n}\r\n","import { FormControl, ValidatorFn, AsyncValidatorFn, AbstractControlOptions } from '@angular/forms';\r\n\r\nimport { ControlRelations } from '../change-tracking/control-relations';\r\nimport { ValueChangeListener } from './value-change.listener';\r\nimport { CanHide, Hider } from '../form-entry/control-hiders-disablers/can-hide';\r\nimport { CanDisable, Disabler } from '../form-entry/control-hiders-disablers/can-disable';\r\nimport { CanGenerateAlert, Alert } from '../form-entry/control-alerts/can-generate-alert';\r\nimport { HiderHelper } from '../form-entry/control-hiders-disablers/hider-helpers';\r\nimport { AlertHelper } from '../form-entry/control-alerts/alert-helpers';\r\nimport { DisablerHelper } from '../form-entry/control-hiders-disablers/disabler-helper';\r\nimport { CanCalculate } from '../form-entry/control-calculators/can-calculate';\r\nimport { ExpressionRunner } from '../form-entry/expression-runner/expression-runner';\r\n\r\nclass AfeFormControl extends FormControl implements CanHide, CanDisable, CanCalculate, CanGenerateAlert, ValueChangeListener {\r\n    private _controlRelations: ControlRelations;\r\n    private _valueChangeListener: any;\r\n    private _previousValue;\r\n    public uuid: string;\r\n    public pathFromRoot: string;\r\n\r\n    hidden = false;\r\n    hiders: Hider[];\r\n    alert: string;\r\n    alerts: Alert[];\r\n    calculator: Function;\r\n    disablers: Disabler[];\r\n\r\n    private hiderHelper: HiderHelper = new HiderHelper();\r\n    private disablerHelper: DisablerHelper = new DisablerHelper();\r\n    private AlertHelper: AlertHelper = new AlertHelper();\r\n    constructor(formState?: any, validator?: ValidatorFn | ValidatorFn[] | AbstractControlOptions | null,\r\n        asyncValidator?: AsyncValidatorFn | AsyncValidatorFn[] | null) {\r\n        super(formState, validator, asyncValidator);\r\n        this._controlRelations = new ControlRelations(this);\r\n        this.hiders = [];\r\n        this.disablers = [];\r\n        this.alerts = [];\r\n\r\n        this.valueChanges.subscribe((value) => {\r\n            if (this._previousValue !== value) {\r\n                this.fireValueChangeListener(value);\r\n                this._previousValue = value;\r\n            }\r\n        });\r\n    }\r\n\r\n    get controlRelations(): ControlRelations {\r\n        return this._controlRelations;\r\n    }\r\n\r\n    disable(param?: { onlySelf?: boolean, emitEvent?: boolean }) {\r\n        super.disable(param);\r\n        super.setValue('');\r\n    }\r\n\r\n    hide() {\r\n        this.hiderHelper.hideControl(this);\r\n    }\r\n\r\n    show() {\r\n        this.hiderHelper.showControl(this);\r\n    }\r\n\r\n    setHidingFn(newHider: Hider) {\r\n        this.hiderHelper.setHiderForControl(this, newHider);\r\n    }\r\n\r\n    setCalculatorFn(newCalculator: Function) {\r\n        this.calculator = newCalculator;\r\n    }\r\n\r\n    updateCalculatedValue() {\r\n        if (this.calculator) {\r\n            const _val = this.calculator.call(ExpressionRunner, {});\r\n            this.setValue(_val);\r\n        }\r\n    }\r\n\r\n    clearHidingFns() {\r\n        this.hiderHelper.clearHidersForControl(this);\r\n    }\r\n\r\n    updateHiddenState() {\r\n        this.hiderHelper.evaluateControlHiders(this);\r\n    }\r\n\r\n    setDisablingFn(newDisabler: Disabler) {\r\n        this.disablerHelper.setDisablerForControl(this, newDisabler);\r\n    }\r\n\r\n    clearDisablingFns() {\r\n        this.disablerHelper.clearDisablersForControl(this);\r\n    }\r\n\r\n    updateDisabledState() {\r\n        this.disablerHelper.evaluateControlDisablers(this);\r\n    }\r\n\r\n    setAlertFn(newHider: Alert) {\r\n        this.AlertHelper.setAlertsForControl(this, newHider);\r\n    }\r\n\r\n    clearMessageFns() {\r\n        this.AlertHelper.clearAlertsForControl(this);\r\n    }\r\n\r\n    updateAlert() {\r\n        this.AlertHelper.evaluateControlAlerts(this);\r\n    }\r\n\r\n    addValueChangeListener(func: any) {\r\n        this._valueChangeListener = func;\r\n    }\r\n\r\n    fireValueChangeListener(value: any) {\r\n        if (this._valueChangeListener && typeof this._valueChangeListener === 'function') {\r\n            this._valueChangeListener(value);\r\n        }\r\n    }\r\n\r\n    setValue(value: any) {\r\n        super.setValue(value);\r\n    }\r\n}\r\nexport { AfeFormControl };\r\n","import { FormGroup, ValidatorFn, AsyncValidatorFn, AbstractControl } from '@angular/forms';\r\n\r\nimport { ControlRelations } from '../change-tracking/control-relations';\r\n\r\nimport { CanHide, Hider } from '../form-entry/control-hiders-disablers/can-hide';\r\nimport { CanDisable, Disabler } from '../form-entry/control-hiders-disablers/can-disable';\r\nimport { CanGenerateAlert, Alert } from '../form-entry/control-alerts/can-generate-alert';\r\nimport { HiderHelper } from '../form-entry/control-hiders-disablers/hider-helpers';\r\nimport { DisablerHelper } from '../form-entry/control-hiders-disablers/disabler-helper';\r\nimport { AlertHelper } from '../form-entry/control-alerts/alert-helpers';\r\n\r\nexport class AfeFormGroup extends FormGroup implements CanHide, CanDisable , CanGenerateAlert {\r\n    private _controlRelations: ControlRelations;\r\n\r\n    public uuid: string;\r\n    public pathFromRoot: string;\r\n\r\n    hidden: false;\r\n    hiders: Hider[];\r\n    alert: string;\r\n    alerts: Alert[];\r\n\r\n    disablers: Disabler[];\r\n\r\n    private hiderHelper: HiderHelper = new HiderHelper();\r\n    private disablerHelper: DisablerHelper = new DisablerHelper();\r\n    private AlertHelper: AlertHelper = new AlertHelper();\r\n\r\n    constructor(controls: { [key: string]: AbstractControl }, validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        super(controls, validator, asyncValidator);\r\n        this._controlRelations = new ControlRelations(this);\r\n        this.hiders = [];\r\n        this.disablers = [];\r\n        this.alerts = [];\r\n    }\r\n\r\n    get controlRelations(): ControlRelations {\r\n        return this._controlRelations;\r\n    }\r\n\r\n    hide() {\r\n        this.hiderHelper.hideControl(this);\r\n    }\r\n\r\n    show() {\r\n        this.hiderHelper.showControl(this);\r\n    }\r\n\r\n    disable(param?: { onlySelf?: boolean, emitEvent?: boolean }) {\r\n        super.disable(param);\r\n        super.setValue({});\r\n    }\r\n\r\n    setHidingFn(newHider: Hider) {\r\n        this.hiderHelper.setHiderForControl(this, newHider);\r\n    }\r\n\r\n    clearHidingFns() {\r\n        this.hiderHelper.clearHidersForControl(this);\r\n    }\r\n\r\n    updateHiddenState() {\r\n        this.hiderHelper.evaluateControlHiders(this);\r\n    }\r\n\r\n    setDisablingFn(newDisabler: Disabler) {\r\n        this.disablerHelper.setDisablerForControl(this, newDisabler);\r\n    }\r\n\r\n    clearDisablingFns() {\r\n        this.disablerHelper.clearDisablersForControl(this);\r\n    }\r\n\r\n    updateDisabledState() {\r\n        this.disablerHelper.evaluateControlDisablers(this);\r\n    }\r\n\r\n    setAlertFn(newHider: Alert) {\r\n        this.AlertHelper.setAlertsForControl(this, newHider);\r\n    }\r\n\r\n    clearMessageFns() {\r\n        this.AlertHelper.clearAlertsForControl(this);\r\n    }\r\n\r\n     updateAlert() {\r\n        this.AlertHelper.evaluateControlAlerts(this);\r\n    }\r\n    setValue(value: any) {\r\n        super.setValue(value);\r\n    }\r\n\r\n}\r\n","import { FormArray, ValidatorFn, AsyncValidatorFn, AbstractControl } from '@angular/forms';\r\n\r\nimport { ControlRelations } from '../change-tracking/control-relations';\r\nimport { ValueChangeListener } from './value-change.listener';\r\nimport { CanHide, Hider } from '../form-entry/control-hiders-disablers/can-hide';\r\nimport { CanGenerateAlert, Alert } from '../form-entry/control-alerts/can-generate-alert';\r\nimport { CanDisable, Disabler } from '../form-entry/control-hiders-disablers/can-disable';\r\nimport { HiderHelper } from '../form-entry/control-hiders-disablers/hider-helpers';\r\nimport { AlertHelper } from '../form-entry/control-alerts/alert-helpers';\r\nimport { DisablerHelper } from '../form-entry/control-hiders-disablers/disabler-helper';\r\n\r\n\r\nexport class AfeFormArray extends FormArray implements CanHide, CanDisable, CanGenerateAlert, ValueChangeListener {\r\n    private _controlRelations: ControlRelations;\r\n    private _valueChangeListener: any;\r\n    private _previousValue;\r\n    private _uuid: string;\r\n    public pathFromRoot: string;\r\n\r\n    hidden: false;\r\n    hiders: Hider[];\r\n\r\n    alert: string;\r\n    alerts: Alert[];\r\n\r\n    disablers: Disabler[];\r\n\r\n    private hiderHelper: HiderHelper = new HiderHelper();\r\n    private AlertHelper: AlertHelper = new AlertHelper();\r\n    private disablerHelper: DisablerHelper = new DisablerHelper();\r\n\r\n    constructor(controls: AbstractControl[], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        super(controls, validator, asyncValidator);\r\n        this._controlRelations = new ControlRelations(this);\r\n        this.hiders = [];\r\n        this.alerts = [];\r\n        this.disablers = [];\r\n\r\n        this.valueChanges.subscribe((value) => {\r\n          if (this._previousValue !== value) {\r\n            this.fireValueChangeListener(value);\r\n            this._previousValue = value;\r\n          }\r\n        });\r\n    }\r\n\r\n    get uuid(): string {\r\n        return this._uuid;\r\n    }\r\n    set uuid(val: string) {\r\n        this._uuid = val;\r\n    }\r\n\r\n    get controlRelations(): ControlRelations {\r\n        return this._controlRelations;\r\n    }\r\n\r\n    hide() {\r\n        this.hiderHelper.hideControl(this);\r\n    }\r\n\r\n    show() {\r\n        this.hiderHelper.showControl(this);\r\n    }\r\n\r\n    disable(param?: { onlySelf?: boolean, emitEvent?: boolean }) {\r\n        super.disable(param);\r\n        super.setValue([]);\r\n    }\r\n\r\n    setHidingFn(newHider: Hider) {\r\n        this.hiderHelper.setHiderForControl(this, newHider);\r\n    }\r\n\r\n    clearHidingFns() {\r\n        this.hiderHelper.clearHidersForControl(this);\r\n    }\r\n\r\n    updateHiddenState() {\r\n        this.hiderHelper.evaluateControlHiders(this);\r\n    }\r\n\r\n    setDisablingFn(newDisabler: Disabler) {\r\n        this.disablerHelper.setDisablerForControl(this, newDisabler);\r\n    }\r\n\r\n    clearDisablingFns() {\r\n        this.disablerHelper.clearDisablersForControl(this);\r\n    }\r\n\r\n    updateDisabledState() {\r\n        this.disablerHelper.evaluateControlDisablers(this);\r\n    }\r\n\r\n    setAlertFn(newHider: Alert) {\r\n        this.AlertHelper.setAlertsForControl(this, newHider);\r\n    }\r\n\r\n    clearMessageFns() {\r\n        this.AlertHelper.clearAlertsForControl(this);\r\n    }\r\n\r\n     updateAlert() {\r\n        this.AlertHelper.evaluateControlAlerts(this);\r\n    }\r\n\r\n    addValueChangeListener(func: any) {\r\n      this._valueChangeListener = func;\r\n    }\r\n\r\n    fireValueChangeListener(value: any) {\r\n      if (this.alerts.length > 0) {\r\n        this.updateAlert();\r\n      }\r\n      if (this._valueChangeListener && typeof this._valueChangeListener === 'function') {\r\n        this._valueChangeListener(value);\r\n      }\r\n    }\r\n\r\n    setValue(value: any) {\r\n        super.setValue(value);\r\n    }\r\n\r\n}\r\n","export enum AfeControlType {\r\n    AfeFormControl,\r\n    AfeFormArray,\r\n    AfeFormGroup,\r\n    None\r\n}\r\n","import { BaseOptions } from './interfaces/base-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\nimport { ValidationModel } from './validation.model';\r\n\r\nexport class QuestionBase implements BaseOptions {\r\n    type: string;\r\n    order?: number;\r\n    questionOptions?: any;\r\n    questions?: any;\r\n    placeholder?: any;\r\n    hidden?: any;\r\n    showTime?: any;\r\n    showWeek?: any;\r\n    historicalDisplay?: any;\r\n    rows?: any;\r\n    showWeeksAdder?: any;\r\n    key: string;    alert?: any;\r\n\r\n    label?: string;\r\n    renderingType: string;\r\n\r\n    defaultValue?: any;\r\n    originalValue?: any;\r\n    enableHistoricalValue?: boolean;\r\n    showHistoricalValueDate?: boolean;\r\n    historicalDataValue?: any;\r\n    extras?: any;\r\n    dataSource?: string;\r\n    dataSourceOptions?: any;\r\n\r\n    controlType?: AfeControlType;\r\n    validators?: Array<ValidationModel>;\r\n    required?: boolean;\r\n    hide?: string | boolean;\r\n    disable?: string | boolean;\r\n    calculateExpression?: string;\r\n    options?: any;\r\n\r\n    constructor(options: BaseOptions) {\r\n\r\n        this.defaultValue = options.defaultValue;\r\n        this.originalValue = options.originalValue;\r\n        this.extras = options.extras;\r\n        this.renderingType = options.type;\r\n        this.key = options.key || '';\r\n        this.label = options.label || '';\r\n        this.validators = options.validators || [];\r\n        this.required = options.required;\r\n        this.hide = options.hide;\r\n        this.disable = options.disable;\r\n        this.alert = options.alert;\r\n        this.historicalDataValue = options.historicalDataValue;\r\n        this.calculateExpression = options.calculateExpression;\r\n    }\r\n\r\n    setHistoricalValue(v: boolean) {\r\n        this.enableHistoricalValue = v;\r\n    }\r\n    showHistoricalEncounterDate(v?: boolean) {\r\n      this.showHistoricalValueDate = v === undefined ? true : v;\r\n    }\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\nimport { ConditionalValidationModel } from '../question-models/conditional-validation.model';\r\n\r\nexport class ConditionalRequiredValidator {\r\n\r\n  constructor() {}\r\n\r\n  validate(model: ConditionalValidationModel) {\r\n\r\n    // convert helper functions to string\r\n    return (control: AfeFormControl): { [key: string]: any } => {\r\n\r\n      const value = control.value;\r\n      let relationValue = null;\r\n      const referenceQuestionId: string = model.referenceQuestionId;\r\n      const referenceQuestionAnswers: any = model.referenceQuestionAnswers;\r\n      let isRequired: boolean;\r\n\r\n      if (control && control.controlRelations && control.controlRelations.relations) {\r\n          control.controlRelations.relations.forEach(relation => {\r\n\r\n            const relatedAsControl = relation.relatedTo as any;\r\n            if (relatedAsControl.uuid === referenceQuestionId) {\r\n              if (relatedAsControl && Array.isArray(relatedAsControl.value)) {\r\n                  relationValue = relation.relatedTo.value;\r\n              } else {\r\n                  relationValue = relation.relatedTo.value && relation.relatedTo.value.value ?\r\n                      relation.relatedTo.value.value : relation.relatedTo.value;\r\n              }\r\n            }\r\n          });\r\n      }\r\n\r\n      if (typeof referenceQuestionAnswers === 'object' && referenceQuestionAnswers.indexOf(relationValue) !== -1) {\r\n        isRequired = true;\r\n      }\r\n\r\n      if (isRequired && !value) {\r\n        return { 'conditional_required': { message:  model.message  } };\r\n      }\r\n\r\n      return null;\r\n    };\r\n  }\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\nimport { ConditionalValidationModel } from '../question-models/conditional-validation.model';\r\n\r\nexport class ConditionalAnsweredValidator {\r\n\r\n  constructor() {}\r\n\r\n  validate(model: ConditionalValidationModel) {\r\n\r\n    return (control: AfeFormControl): { [key: string]: any } => {\r\n\r\n      const value = control.value;\r\n      let relationValue = null;\r\n      const referenceQuestionId: string = model.referenceQuestionId;\r\n      const referenceQuestionAnswers: any = model.referenceQuestionAnswers;\r\n      let successCondition: any = true;\r\n\r\n      if (value) {\r\n        if (control && control.controlRelations && control.controlRelations.relations) {\r\n            control.controlRelations.relations.forEach(relation => {\r\n\r\n              const relatedAsControl = relation.relatedTo as any;\r\n              if (relatedAsControl.uuid === referenceQuestionId) {\r\n                if (Array.isArray(relatedAsControl.value)) {\r\n                    relationValue = relatedAsControl.value;\r\n                } else {\r\n                    relationValue = relatedAsControl.value && typeof relatedAsControl.value === 'object' && relatedAsControl.value.value ?\r\n                        relatedAsControl.value.value : relatedAsControl.value;\r\n                }\r\n              }\r\n\r\n              if (!relationValue) {\r\n                successCondition = false;\r\n              } else if (typeof referenceQuestionAnswers === 'object' && referenceQuestionAnswers.indexOf(relationValue) === -1) {\r\n                successCondition = false;\r\n              }\r\n            });\r\n        }\r\n      }\r\n\r\n      if (!successCondition) {\r\n        return { 'conditional_answered': { message:  model.message  } };\r\n      }\r\n\r\n      return null;\r\n    };\r\n  }\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\n\r\nexport class RequiredValidator {\r\n\r\n  validate(control: AfeFormControl) {\r\n\r\n    if (control.hidden) {\r\n      return null;\r\n    }\r\n\r\n    const value: any = control.value;\r\n    const isEmpty: boolean = value == null || typeof value === 'string' && value.length === 0;\r\n\r\n    return isEmpty ? { 'required': true } : null;\r\n  }\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\n\r\n\r\nexport class DateValidator {\r\n\r\n  constructor() { }\r\n\r\n  validate(control: AfeFormControl) {\r\n\r\n    if (control.hidden) {\r\n      return null;\r\n    }\r\n\r\n    const value = control.value;\r\n\r\n    if (value && value.length !== 0) {\r\n\r\n      // YYYY-MM-DD or DD-MM-YYYY\r\n      const test: boolean = !/Invalid|NaN/.test(new Date(value).toString());\r\n\r\n      return test ? null : { 'date': true };\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\n\r\nexport class MinValidator {\r\n\r\n\r\n  validate(min: number) {\r\n\r\n    return (control: AfeFormControl): { [key: string]: any } => {\r\n\r\n      if (control.hidden) {\r\n        return null;\r\n      }\r\n      if (control.value && control.value.length !== 0) {\r\n\r\n        const v: number = control.value;\r\n        return v >= min ? null : { 'min': { requiredValue: min, actualValue: v } };\r\n      }\r\n\r\n      return null;\r\n    };\r\n  }\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\n\r\nexport class MaxValidator {\r\n\r\n  validate(max: number) {\r\n\r\n    return (control: AfeFormControl): { [key: string]: any } => {\r\n\r\n      if (control.hidden) {\r\n        return null;\r\n      }\r\n\r\n      if (control.value && control.value.length !== 0) {\r\n\r\n        const v: number = control.value;\r\n        return v <= max ? null : { 'max': { requiredValue: max, actualValue: v } };\r\n      }\r\n\r\n      return null;\r\n    };\r\n  }\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\nimport { DateValidator } from './date.validator';\r\n\r\nexport class MinDateValidator {\r\n\r\n  validate(min: Date) {\r\n\r\n    return (control: AfeFormControl): { [key: string]: any } => {\r\n\r\n      if (control.hidden) {\r\n        return null;\r\n      }\r\n\r\n      if (control.value && control.value.length !== 0) {\r\n\r\n        if (!new DateValidator().validate(control.value)) {\r\n\r\n          const newDate: Date = new Date(control.value);\r\n\r\n          return newDate.getTime() < min.getTime() ? { 'mindate': { 'requiredDate': min, actualDate: newDate } } : null;\r\n        } else {\r\n\r\n          return { 'mindate': { 'requiredDate': min } };\r\n        }\r\n      }\r\n\r\n      return null;\r\n    };\r\n  }\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\nimport { DateValidator } from './date.validator';\r\n\r\nexport class MaxDateValidator {\r\n\r\n  validate(max: Date) {\r\n\r\n    return (control: AfeFormControl): { [key: string]: any } => {\r\n\r\n      if (control.hidden) {\r\n        return null;\r\n      }\r\n\r\n      if (control.value && control.value.length !== 0) {\r\n\r\n        if (!new DateValidator().validate(control.value)) {\r\n\r\n          const newDate: Date = new Date(control.value);\r\n\r\n          return newDate.getTime() > max.getTime() ? { 'maxdate': { 'requiredDate': max, actualDate: newDate } } : null;\r\n        } else {\r\n\r\n          return { 'maxdate': { 'requiredDate': max } };\r\n        }\r\n      }\r\n\r\n      return null;\r\n    };\r\n  }\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\nimport { DateValidator } from './date.validator';\r\n\r\nexport class FutureDateRestrictionValidator {\r\n\r\n  constructor() { }\r\n\r\n  validate(control: AfeFormControl) {\r\n\r\n    if (control.hidden) {\r\n      return null;\r\n    }\r\n\r\n    const value = control.value;\r\n    const now: Date = new Date();\r\n\r\n    if (value && value.length !== 0) {\r\n\r\n      if (!new DateValidator().validate(value)) {\r\n\r\n        const d: Date = new Date(value);\r\n\r\n        return d.getTime() > now.getTime() ? { 'futureDateRestriction': true } : null;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","\r\nimport * as _ from 'lodash';\r\nexport class JsExpressionHelper {\r\n\r\n  calcBMI(height, weight) {\r\n\r\n    let r;\r\n    if (height && weight) {\r\n      r = (weight / (height / 100 * height / 100)).toFixed(1);\r\n    }\r\n    return height && weight ? parseFloat(r) : null;\r\n  }\r\n\r\n  calcBMIForAgeZscore(bmiForAgeRef, height, weight) {\r\n   let bmi;\r\n   const maxAgeInDays = 1856;\r\n    if (height && weight) {\r\n      bmi = (weight / (height / 100 * height / 100)).toFixed(1);\r\n    }\r\n    const refSectionObject = _.first(bmiForAgeRef);\r\n    let formattedSDValue;\r\n    if (refSectionObject) {\r\n      const refObjectValues = Object.keys(refSectionObject).map(\r\n        (key) => refSectionObject[key]).map( (x) => x);\r\n        const refObjectKeys = Object.keys(refSectionObject);\r\n        const minimumValue = refObjectValues[1];\r\n        const minReferencePoint = [];\r\n        if (bmi < minimumValue) {\r\n          minReferencePoint.push(minimumValue);\r\n        } else {\r\n          _.forEach(refObjectValues, (value) => {\r\n          if (value <= bmi) {\r\n          minReferencePoint.push(value);\r\n          }\r\n          });\r\n        }\r\n        const lastReferenceValue = _.last(minReferencePoint);\r\n        const lastValueIndex = _.findIndex(refObjectValues, (o) => {\r\n        return o === lastReferenceValue;\r\n        });\r\n        const SDValue = refObjectKeys[lastValueIndex];\r\n        formattedSDValue = SDValue.replace('SD', '');\r\n        if (formattedSDValue.includes('neg')) {\r\n          formattedSDValue = formattedSDValue.substring(1, 0);\r\n          formattedSDValue = '-' + formattedSDValue;\r\n        }\r\n\r\n        if ( formattedSDValue === 'S' || formattedSDValue === 'L' || formattedSDValue === 'M' || formattedSDValue === '-5') {\r\n          formattedSDValue = '-4';\r\n        }\r\n\r\n    }\r\n\r\n    return  bmi && refSectionObject ?  formattedSDValue : null;\r\n  }\r\n  calcWeightForHeightZscore(weightForHeightRef, height, weight) {\r\n    let refSection ;\r\n    let formattedSDValue;\r\n    if (height && weight) {\r\n      height = parseFloat(height).toFixed(1);\r\n    }\r\n    const standardHeightMin = 45;\r\n    const standardMaxHeight = 110;\r\n    if ( height < standardHeightMin || height > standardMaxHeight) {\r\n      formattedSDValue = -4;\r\n    } else {\r\n        refSection = _.filter(weightForHeightRef, (refObject) => {\r\n        return parseFloat(refObject['Length']).toFixed(1) === height;\r\n      });\r\n    }\r\n\r\n    const refSectionObject = _.first(refSection);\r\n    if (refSectionObject) {\r\n      const refObjectValues = Object.keys(refSectionObject).map(\r\n        (key) => refSectionObject[key]).map( (x) => x);\r\n        const refObjectKeys = Object.keys(refSectionObject);\r\n        const minimumValue = refObjectValues[1];\r\n        const minReferencePoint = [];\r\n        if (weight < minimumValue) {\r\n          minReferencePoint.push(minimumValue);\r\n        } else {\r\n          _.forEach(refObjectValues, (value) => {\r\n          if (value <= weight) {\r\n          minReferencePoint.push(value);\r\n          }\r\n          });\r\n\r\n        }\r\n        const lastReferenceValue = _.last(minReferencePoint);\r\n        const lastValueIndex = _.findIndex(refObjectValues, (o) => {\r\n        return o === lastReferenceValue;\r\n        });\r\n        const SDValue = refObjectKeys[lastValueIndex];\r\n        formattedSDValue = SDValue.replace('SD', '');\r\n        if (formattedSDValue.includes('neg')) {\r\n          formattedSDValue = formattedSDValue.substring(1, 0);\r\n          formattedSDValue = '-' + formattedSDValue;\r\n        }\r\n        if ( formattedSDValue === 'S' || formattedSDValue === 'L' || formattedSDValue === 'M'  || formattedSDValue === '-5') {\r\n          formattedSDValue = '-4';\r\n        }\r\n\r\n    }\r\n\r\n    return  height && weight  ?  formattedSDValue : null;\r\n  }\r\n\r\n  calcHeightForAgeZscore(heightForAgeRef, height, weight) {\r\n\r\n    const refSectionObject = _.first(heightForAgeRef);\r\n    let formattedSDValue;\r\n    if (refSectionObject) {\r\n      const refObjectValues = Object.keys(refSectionObject).map(\r\n        (key) => refSectionObject[key]).map( (x) => x);\r\n        const refObjectKeys = Object.keys(refSectionObject);\r\n        const minimumValue = refObjectValues[1];\r\n        const minReferencePoint = [];\r\n        if (height < minimumValue) {\r\n          minReferencePoint.push(minimumValue);\r\n        } else {\r\n          _.forEach(refObjectValues, (value) => {\r\n          if (value <= height) {\r\n          minReferencePoint.push(value);\r\n          }\r\n          });\r\n        }\r\n        const lastReferenceValue = _.last(minReferencePoint);\r\n        const lastValueIndex = _.findIndex(refObjectValues, (o) => {\r\n        return o === lastReferenceValue;\r\n        });\r\n        const SDValue = refObjectKeys[lastValueIndex];\r\n        formattedSDValue = SDValue.replace('SD', '');\r\n        if (formattedSDValue.includes('neg')) {\r\n          formattedSDValue = formattedSDValue.substring(1, 0);\r\n          formattedSDValue = '-' + formattedSDValue;\r\n        }\r\n\r\n        if ( formattedSDValue === 'S' || formattedSDValue === 'L' || formattedSDValue === 'M'  || formattedSDValue === '-5') {\r\n          formattedSDValue = '-4';\r\n        }\r\n\r\n    }\r\n\r\n    return  height && weight && refSectionObject ?  formattedSDValue : null;\r\n  }\r\n\r\n  isEmpty(val) {\r\n\r\n    if (val === undefined || val === null || val === '' || val === 'null' || val === 'undefined') {\r\n      return true;\r\n    }\r\n\r\n    if (Array.isArray(val) && val.length === 0) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  arrayContains(array, members) {\r\n\r\n    if (Array.isArray(members)) {\r\n\r\n      if (members.length === 0) {\r\n        return true;\r\n      }\r\n\r\n      let contains = true;\r\n\r\n      for (let i = 0; i < members.length; i++) {\r\n        const val = members[i];\r\n        if (array.indexOf(val) === -1) {\r\n          contains = false;\r\n        }\r\n      }\r\n\r\n      return contains;\r\n    } else {\r\n      return array.indexOf(members) !== -1;\r\n    }\r\n  }\r\n  extractRepeatingGroupValues(key, array) {\r\n    const values = array.map(function(item) {\r\n    return item[key];\r\n    });\r\n  return values;\r\n  }\r\n  formatDate(value, format, offset) {\r\n\r\n    format = format || 'yyyy-MM-dd';\r\n    offset = offset || '+0300';\r\n\r\n    if (!(value instanceof Date)) {\r\n\r\n      value = new Date(value);\r\n      if (value === null || value === undefined) {\r\n        throw new Error('DateFormatException: value passed ' +\r\n          'is not a valid date');\r\n      }\r\n    }\r\n\r\n    return value; // TODO implement this\r\n    // return $filter('date')(value, format, offset);\r\n  }\r\n\r\n  arrayContainsAny(array, members) {\r\n\r\n    if (Array.isArray(members)) {\r\n      if (members.length === 0) {\r\n        return true;\r\n      }\r\n      let contains = false;\r\n\r\n      for (let i = 0; i < members.length; i++) {\r\n\r\n        const val = members[i];\r\n        if (array.indexOf(val) !== -1) {\r\n          contains = true;\r\n        }\r\n      }\r\n      return contains;\r\n    } else {\r\n      return array.indexOf(members) !== -1;\r\n    }\r\n  }\r\n\r\n  get helperFunctions() {\r\n    const helper = this;\r\n    return {\r\n      arrayContainsAny: helper.arrayContainsAny,\r\n      calcBMI: helper.calcBMI,\r\n      calcBMIForAgeZscore: helper.calcBMIForAgeZscore,\r\n      calcWeightForHeightZscore: helper.calcWeightForHeightZscore,\r\n      calcHeightForAgeZscore: helper.calcHeightForAgeZscore,\r\n      isEmpty: helper.isEmpty,\r\n      arrayContains: helper.arrayContains,\r\n      extractRepeatingGroupValues: helper.extractRepeatingGroupValues\r\n    };\r\n  }\r\n}\r\n","\r\n\r\nexport class Validations {\r\n\r\n  public static JSExpressionValidatorsEnabled = false;\r\n\r\n  constructor() {}\r\n}\r\n","import { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\nimport { ExpressionRunner } from '../expression-runner/expression-runner';\r\nimport { JsExpressionHelper } from '../helpers/js-expression-helper';\r\nimport { JsExpressionValidationModel } from '../question-models/js-expression-validation.model';\r\nimport { Validations } from './validations';\r\n\r\nexport class JsExpressionValidator {\r\n\r\n  constructor() {}\r\n\r\n  validate(model: JsExpressionValidationModel, form?: any) {\r\n\r\n    // convert helper functions to string\r\n    return (control: AfeFormControl): { [key: string]: any } => {\r\n\r\n      if (!Validations.JSExpressionValidatorsEnabled) {\r\n        return null;\r\n      }\r\n\r\n      const expression = model.failsWhenExpression;\r\n      const helper = new JsExpressionHelper();\r\n      const dataDependencies = {};\r\n\r\n      const helperFunctions = helper.helperFunctions;\r\n      const runnable = new ExpressionRunner().getRunnable(expression, control, helperFunctions, dataDependencies, form);\r\n\r\n      if (runnable.run()) {\r\n\r\n        return { 'js_expression': { 'expression': expression, message:  model.message } };\r\n      }\r\n\r\n      return null;\r\n    };\r\n  }\r\n}\r\n","\r\nexport class Messages {\r\n\r\n  public static readonly REQUIRED_FIELD_MSG = 'This field is required!';\r\n\r\n  public static readonly INVALID_DATE_MSG = 'Provided date is invalid!';\r\n\r\n  public static readonly FUTURE_DATE_RESTRICTION_MSG = 'Future date is not allowed!';\r\n\r\n  public static readonly MIN_LENGTH_MSG = 'Min Length should be {minLength}';\r\n\r\n  public static readonly MAX_LENGTH_MSG = 'Max Length should be {maxLength}';\r\n\r\n  public static readonly MAX_DATE_MSG = 'Max Date should be {maxDate}';\r\n\r\n  public static readonly MIN_DATE_MSG = 'Min Date should be {minDate}';\r\n\r\n  public static readonly MAX_MSG = 'Max value should be {max}';\r\n\r\n  public static readonly MIN_MSG = 'Min value should be {min}';\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport { Validators } from '@angular/forms';\r\nimport * as _ from 'lodash';\r\n\r\nimport { ConditionalRequiredValidator } from '../validators/conditional-required.validator';\r\nimport { ConditionalAnsweredValidator } from '../validators/conditional-answered.validator';\r\nimport { RequiredValidator } from '../validators/required.validator';\r\nimport { DateValidator } from '../validators/date.validator';\r\nimport { MinValidator } from '../validators/min.validator';\r\nimport { MaxValidator } from '../validators/max.validator';\r\nimport { MinDateValidator } from '../validators/min-date.validator';\r\nimport { MaxDateValidator } from '../validators/max-date.validator';\r\nimport { FutureDateRestrictionValidator } from '../validators/future-date-restriction.validator';\r\nimport { JsExpressionValidator } from '../validators/js-expression.validator';\r\nimport { QuestionBase } from '../question-models/question-base';\r\nimport { Messages } from '../utils/messages';\r\nimport { ValidationModel } from '../question-models/validation.model';\r\nimport { DateValidationModel } from '../question-models/date-validation.model';\r\nimport { MaxValidationModel} from '../question-models/max-validation.model';\r\nimport { MinValidationModel} from '../question-models/min-validation.model';\r\nimport { JsExpressionValidationModel } from '../question-models/js-expression-validation.model';\r\nimport { ConditionalValidationModel } from '../question-models/conditional-validation.model';\r\n\r\n@Injectable()\r\nexport class ValidationFactory {\r\n\r\n  constructor() {}\r\n\r\n  getValidators(question: QuestionBase, form?: any) {\r\n\r\n    const list: Array<any> = [];\r\n\r\n    if (question.validators) {\r\n\r\n      _.forEach(question.validators, (validator: ValidationModel) => {\r\n\r\n        switch (validator.type) {\r\n          case 'date':\r\n            list.push(this.dateValidator);\r\n            const allowFutureDates: boolean = ( <DateValidationModel>validator ).allowFutureDates;\r\n\r\n            if (!allowFutureDates) {\r\n              list.push(this.futureDateRestrictionValidator);\r\n            }\r\n            break;\r\n          case 'js_expression':\r\n            list.push(this.jsExpressionValidator.validate(<JsExpressionValidationModel>validator, form));\r\n            break;\r\n          case 'max':\r\n            list.push(this.getMaxValueValidator((<MaxValidationModel>validator).max));\r\n            break;\r\n          case 'min':\r\n            list.push(this.getMinValueValidator((<MinValidationModel>validator).min));\r\n            break;\r\n          case 'conditionalRequired':\r\n            list.push(this.conditionalRequiredValidator.validate(<ConditionalValidationModel>validator));\r\n            break;\r\n          case 'conditionalAnswered':\r\n            list.push(this.conditionalAnsweredValidator.validate(<ConditionalValidationModel>validator));\r\n            break;\r\n        }\r\n      });\r\n    }\r\n\r\n    if (question.required && typeof(question.required) === 'string' && question.required === 'true') {\r\n      list.push(this.requiredValidator);\r\n    } else {\r\n\r\n      // TODO - handle custom required validator\r\n    }\r\n\r\n    return list;\r\n  }\r\n\r\n  get conditionalRequiredValidator(): ConditionalRequiredValidator {\r\n    return new ConditionalRequiredValidator();\r\n  }\r\n\r\n  get conditionalAnsweredValidator(): ConditionalAnsweredValidator {\r\n    return new ConditionalAnsweredValidator();\r\n  }\r\n\r\n  get requiredValidator(): any {\r\n    return new RequiredValidator().validate;\r\n  }\r\n\r\n  get dateValidator(): any {\r\n    return new DateValidator().validate;\r\n  }\r\n\r\n  get futureDateRestrictionValidator(): any {\r\n    return new FutureDateRestrictionValidator().validate;\r\n  }\r\n\r\n  get maxDateValidator(): any {\r\n    return new MaxDateValidator().validate;\r\n  }\r\n\r\n  get minDateValidator(): any {\r\n    return new MinDateValidator().validate;\r\n  }\r\n\r\n  get minLengthValidator(): any {\r\n    return Validators.minLength;\r\n  }\r\n\r\n  get maxLengthValidator() {\r\n    return Validators.maxLength;\r\n  }\r\n\r\n  public getMinValueValidator(min: number): any {\r\n    return new MinValidator().validate(min);\r\n  }\r\n\r\n  public getMaxValueValidator(max: number): any {\r\n\r\n    return new MaxValidator().validate(max);\r\n  }\r\n\r\n  get jsExpressionValidator() {\r\n\r\n    return new JsExpressionValidator();\r\n  }\r\n\r\n  public errors(errors: any, question: QuestionBase): Array<string> {\r\n\r\n    const messages: Array<string> = [];\r\n\r\n    for (const property in errors) {\r\n        if (errors.hasOwnProperty(property)) {\r\n\r\n            switch (property) {\r\n              case 'required':\r\n                messages.push(Messages.REQUIRED_FIELD_MSG);\r\n                break;\r\n              case 'date':\r\n                messages.push(Messages.INVALID_DATE_MSG);\r\n                break;\r\n              case 'futureDateRestriction':\r\n                messages.push(Messages.FUTURE_DATE_RESTRICTION_MSG);\r\n                break;\r\n              case 'minlength':\r\n                messages.push(Messages.MIN_LENGTH_MSG.replace('{minLength}', errors.minlength.requiredLength));\r\n                break;\r\n              case 'maxlength':\r\n                messages.push(Messages.MIN_LENGTH_MSG.replace('{maxLength}', errors.maxlength.requiredLength));\r\n                break;\r\n              case 'maxdate':\r\n                messages.push(Messages.MAX_DATE_MSG.replace('{maxDate}', errors.maxdate.requiredDate));\r\n                break;\r\n              case 'mindate':\r\n                messages.push(Messages.MIN_DATE_MSG.replace('{minDate}', errors.mindate.requiredDate));\r\n                break;\r\n              case 'max':\r\n                messages.push(Messages.MAX_MSG.replace('{max}', errors.max.requiredValue));\r\n                break;\r\n              case 'min':\r\n                messages.push(Messages.MIN_MSG.replace('{min}', errors.min.requiredValue));\r\n                break;\r\n              case 'js_expression':\r\n                messages.push(errors['js_expression'].message);\r\n                break;\r\n              case 'conditional_required':\r\n                messages.push(errors['conditional_required'].message);\r\n                break;\r\n              case 'conditional_answered':\r\n                messages.push(errors['conditional_answered'].message);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return messages;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Disabler } from '../control-hiders-disablers/can-disable';\r\nimport { Hider } from '../control-hiders-disablers/can-hide';\r\n\r\nimport { ExpressionRunner, Runnable } from '../expression-runner/expression-runner';\r\nimport { AfeFormControl, AfeFormArray, AfeFormGroup\r\n} from '../../abstract-controls-extension';\r\nimport { QuestionBase } from '../question-models/question-base';\r\nimport { JsExpressionHelper } from '../helpers/js-expression-helper';\r\nimport { Form } from './form';\r\n// Add ability to display all fields for debugging\r\nimport { DebugModeService } from './../services/debug-mode.service';\r\n\r\n@Injectable()\r\nexport class HidersDisablersFactory {\r\n\r\n    constructor(private expressionRunner: ExpressionRunner,\r\n     private expressionHelper: JsExpressionHelper,\r\n     private _debugModeService: DebugModeService) {\r\n    }\r\n\r\n    getJsExpressionDisabler(question: QuestionBase, control: AfeFormControl | AfeFormArray | AfeFormGroup,\r\n        form?: Form): Disabler {\r\n        const runnable: Runnable =\r\n            this.expressionRunner.getRunnable(question.disable as string, control,\r\n                this.expressionHelper.helperFunctions, {}, form);\r\n        const disabler: Disabler = {\r\n            toDisable: false,\r\n            disableWhenExpression: question.disable as string,\r\n            reEvaluateDisablingExpression: () => {\r\n                const result = runnable.run();\r\n                disabler.toDisable = result;\r\n            }\r\n        };\r\n        return disabler;\r\n    }\r\n\r\n    getJsExpressionHider(question: QuestionBase, control: AfeFormControl | AfeFormArray | AfeFormGroup,\r\n        form?: Form): Hider {\r\n\r\n        const hide: any = question.hide;\r\n        const value: string = typeof hide === 'object' ? this.convertHideObjectToString(hide) : question.hide as string;\r\n\r\n        // check if debugging has been enabled\r\n\r\n        const debugEnabled = this._debugModeService.debugEnabled();\r\n\r\n        const runnable: Runnable = this.expressionRunner.getRunnable(value, control,\r\n        this.expressionHelper.helperFunctions, {}, form);\r\n\r\n        const hider: Hider = {\r\n            toHide: false,\r\n            hideWhenExpression: value,\r\n            reEvaluateHidingExpression: () => {\r\n                 /* if debug is enabled then hiders to be false\r\n                 else run the normal eveluator i.e runnable.run()\r\n                 */\r\n                if (debugEnabled === true) {\r\n                      hider.toHide = false ;\r\n                  } else {\r\n                      hider.toHide =  runnable.run();\r\n                  }\r\n            }\r\n        };\r\n        return hider;\r\n    }\r\n\r\n    convertHideObjectToString(hide: any) {\r\n\r\n      if (hide.value instanceof Array) {\r\n\r\n        const arrayStr: string = '\\'' + hide.value.join('\\',\\'') + '\\'';\r\n        const exp = '!arrayContains([' + arrayStr + '],' + hide.field + ')';\r\n        return exp;\r\n      }\r\n\r\n      return '';\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Alert } from '../control-alerts/can-generate-alert';\r\n\r\nimport { ExpressionRunner, Runnable } from '../expression-runner/expression-runner';\r\nimport { AfeFormControl, AfeFormArray, AfeFormGroup } from '../../abstract-controls-extension';\r\nimport { QuestionBase } from '../question-models/question-base';\r\nimport { JsExpressionHelper } from '../helpers/js-expression-helper';\r\nimport { Form} from './form';\r\n\r\n@Injectable()\r\nexport class AlertsFactory {\r\n    constructor(private expressionRunner: ExpressionRunner, private expressionHelper: JsExpressionHelper) {\r\n    }\r\n    getJsExpressionshowAlert(question: QuestionBase, control: AfeFormControl | AfeFormArray | AfeFormGroup,\r\n        form?: Form): Alert {\r\n        const runnable: Runnable =\r\n            this.expressionRunner.getRunnable(question.alert.alertWhenExpression, control,\r\n                this.expressionHelper.helperFunctions, {}, form);\r\n        const showAlert: Alert = {\r\n            shown: false,\r\n            alertWhenExpression: question.alert.alertWhenExpression,\r\n            alertMessage: question.alert.message,\r\n            reEvaluateAlertExpression: () => {\r\n                const result = runnable.run();\r\n                showAlert.shown = result;\r\n            }\r\n        };\r\n        return showAlert;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\n\r\nimport { AfeFormControl, AfeFormArray, AfeFormGroup, AfeControlType\r\n} from '../../abstract-controls-extension';\r\n\r\nimport { NestedQuestion } from '../question-models/interfaces/nested-questions';\r\n\r\nimport { QuestionBase } from '../question-models/question-base';\r\nimport { QuestionGroup } from '../question-models/group-question';\r\nimport { ValidationFactory } from '../form-factory/validation.factory';\r\nimport { HidersDisablersFactory } from './hiders-disablers.factory';\r\nimport { AlertsFactory } from './show-messages.factory';\r\nimport { Form } from './form';\r\nimport { ExpressionRunner, Runnable } from '../expression-runner/expression-runner';\r\nimport { JsExpressionHelper } from '../helpers/js-expression-helper';\r\n\r\n\r\n@Injectable()\r\nexport class FormControlService {\r\n    controls = [];\r\n    validationFactory: ValidationFactory;\r\n    hidersDisablersFactory: HidersDisablersFactory;\r\n\r\n    constructor(validationFactory: ValidationFactory,\r\n        hidersDisablersFactory: HidersDisablersFactory, private alertsFactory: AlertsFactory) {\r\n        this.validationFactory = validationFactory;\r\n        this.hidersDisablersFactory = hidersDisablersFactory;\r\n    }\r\n\r\n    generateControlModel(questionModel: QuestionBase | NestedQuestion, parentControl: AfeFormGroup,\r\n        generateChildren: boolean, form?: Form): AfeFormControl | AfeFormArray | AfeFormGroup {\r\n        if (questionModel instanceof QuestionBase) {\r\n            if (questionModel.controlType === AfeControlType.AfeFormArray) {\r\n                return this.generateFormArray(questionModel, parentControl, form);\r\n            }\r\n            if (questionModel.controlType === AfeControlType.AfeFormGroup) {\r\n                return this.generateFormGroupModel(questionModel, generateChildren, parentControl, form);\r\n            }\r\n\r\n            if (questionModel.controlType === AfeControlType.AfeFormControl) {\r\n                return this.generateFormControl(questionModel, parentControl, form);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    generateFormGroupModel(question: QuestionBase, generateChildren: boolean,\r\n        parentControl?: AfeFormGroup, form?: Form): AfeFormGroup {\r\n        const formGroup = new AfeFormGroup({});\r\n        this.wireHidersDisablers(question, formGroup, form);\r\n        this.wireAlerts(question, formGroup, form);\r\n        if (parentControl instanceof AfeFormGroup) {\r\n            parentControl.setControl(question.key, formGroup);\r\n        }\r\n\r\n        const asGroup = question as QuestionGroup;\r\n\r\n        if (generateChildren && asGroup && asGroup.questions.length > 0) {\r\n            this._generateFormGroupChildrenModel(asGroup.questions, formGroup, form);\r\n        }\r\n\r\n        return formGroup;\r\n    }\r\n\r\n    _generateFormGroupChildrenModel(questions: QuestionBase[], parentControl: AfeFormGroup, form?: Form) {\r\n\r\n        if (questions.length > 0) {\r\n            questions.forEach(element => {\r\n                const generated = this.generateControlModel(element, parentControl, true, form);\r\n                if (generated !== null) {\r\n                    parentControl.addControl(element.key, generated);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    generateFormArray(question: QuestionBase, parentControl?: AfeFormGroup, form?: Form): AfeFormArray {\r\n\r\n        const validators = this.validationFactory.getValidators(question, form);\r\n         let formArray: AfeFormArray;\r\n         if (validators && validators.length > 0) {\r\n             formArray = new AfeFormArray([], validators[0]);\r\n         } else {\r\n            formArray = new AfeFormArray([]);\r\n         }\r\n        formArray.uuid = question.key;\r\n        this.wireHidersDisablers(question, formArray, form);\r\n        this.wireAlerts(question, formArray, form);\r\n        if (parentControl instanceof AfeFormGroup) {\r\n            parentControl.setControl(question.key, formArray);\r\n        }\r\n\r\n        return formArray;\r\n    }\r\n\r\n    generateFormControl(question: QuestionBase, parentControl?: AfeFormGroup, form?: Form): AfeFormControl {\r\n\r\n        const value = question.defaultValue || '';\r\n        const validators = this.validationFactory.getValidators(question, form);\r\n\r\n        const control = new AfeFormControl(value, validators);\r\n        control.uuid = question.key;\r\n        this.wireHidersDisablers(question, control, form);\r\n        this.wireAlerts(question, control, form);\r\n        this.wireCalculator(question, control, (form ? form.dataSourcesContainer.dataSources : null));\r\n\r\n        if (parentControl instanceof AfeFormGroup) {\r\n            parentControl.setControl(question.key, control);\r\n        }\r\n\r\n        return control;\r\n    }\r\n\r\n    private wireAlerts(question: QuestionBase,\r\n        control: AfeFormArray | AfeFormGroup | AfeFormControl, form?: Form) {\r\n        if (question.alert && question.alert !== '') {\r\n            const alert = this.alertsFactory.getJsExpressionshowAlert(question, control, form);\r\n            control.setAlertFn(alert);\r\n        }\r\n    }\r\n    private wireHidersDisablers(question: QuestionBase,\r\n        control: AfeFormArray | AfeFormGroup | AfeFormControl, form?: Form) {\r\n        if (question.hide && question.hide !== '') {\r\n            const hider = this.hidersDisablersFactory.getJsExpressionHider(question, control, form);\r\n            control.setHidingFn(hider);\r\n        }\r\n\r\n        if (question.disable && question.disable !== '') {\r\n            const disable =\r\n                this.hidersDisablersFactory.getJsExpressionDisabler(question, control, form);\r\n            control.setDisablingFn(disable);\r\n        }\r\n    }\r\n\r\n    private wireCalculator(question: QuestionBase,\r\n        control: AfeFormControl, dataSource?: any) {\r\n        if (question.calculateExpression && question.calculateExpression !== '') {\r\n            const helper: JsExpressionHelper = new JsExpressionHelper();\r\n            const runner: ExpressionRunner = new ExpressionRunner();\r\n            const runnable: Runnable = runner.getRunnable(question.calculateExpression\r\n                , control,\r\n                helper.helperFunctions,\r\n                dataSource);\r\n            // this functionality strictly assumes the calculateExpression function has been defined in the JsExpressionHelper class\r\n            control.setCalculatorFn(runnable.run);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","export const DEFAULT_STYLES = `a {\r\n      color: white;\r\n      text-decoration: none;\r\n      font-size: 12px;\r\n      text-transform: uppercase;\r\n    }\r\n\r\n    ul {\r\n      list-style-type: none;\r\n      margin: 2px auto;\r\n      position: relative;\r\n    }\r\n\r\n    li {\r\n      display: block;\r\n      padding: 10px 20px;\r\n      white-space: nowrap;\r\n      transition: all 0.3s ease-in;\r\n      border-bottom: 4px solid transparent;\r\n    }\r\n\r\n    li:hover {\r\n      border-bottom: 4px solid white;\r\n      opacity: 0.7;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .owl-theme .owl-controls .owl-nav {\r\n      position: absolute;\r\n      width: 100%;\r\n      top: 0;\r\n    }\r\n\r\n    .owl-theme .owl-controls .owl-nav [class*=\"owl-\"] {\r\n      position: absolute;\r\n      background: none;\r\n      color: black;\r\n    }\r\n\r\n    .owl-theme .owl-controls .owl-nav [class*=\"owl-\"]:hover {\r\n      background: none;\r\n      color: black;\r\n    }\r\n\r\n    .owl-theme .owl-controls .owl-nav .owl-next {\r\n      right: 0;\r\n      transform: translate(120%);\r\n    }\r\n\r\n    .owl-theme .owl-controls .owl-nav .owl-prev {\r\n      left: 0;\r\n      transform: translate(-120%);\r\n    }\r\n\r\n    .slick-initialized .swipe-tab-content {\r\n      position: relative;\r\n      min-height: 365px;\r\n    }\r\n    @media screen and (min-width: 767px) {\r\n      .slick-initialized .swipe-tab-content {\r\n        min-height: 500px;\r\n      }\r\n    }\r\n    .slick-initialized .swipe-tab {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: 50px;\r\n      background: none;\r\n      border: 0;\r\n      color: #757575;\r\n      cursor: pointer;\r\n      text-align: center;\r\n      border-bottom: 2px solid rgba(51, 122, 183, 0);\r\n      transition: all 0.5s;\r\n    }\r\n    .slick-initialized .swipe-tab:hover {\r\n      color: #337AB7;\r\n    }\r\n    .slick-initialized .swipe-tab.active-tab {\r\n      border-bottom-color: #337AB7;\r\n      color: #337AB7;\r\n      font-weight: bold;\r\n    }\r\n\r\n    .disabled {\r\n      opacity: .5;\r\n      pointer-events: none;\r\n    }\r\n\r\n    .select2-container {\r\n      margin-top: -5px;\r\n    }\r\n\r\n    .btn {\r\n      padding: 0px 12px !important;\r\n    }\r\n\r\n    .form-tooltip{\r\n      color:rgb(51, 122, 183);\r\n      display: inline-block;\r\n    }\r\n    .question-info{\r\n          opacity:0;\r\n          height:0px;\r\n          display: none;\r\n          transition-duration: opacity 1s ease-out;\r\n          transtion-delay: 0.5s;\r\n          padding-top: 2px;\r\n          padding-bottom: 2px;\r\n          color: #696969;\r\n          border-style: ridge;\r\n          border-width: 1px;\r\n          border-color: #337ab7;\r\n          margin-top: 2px;\r\n    }\r\n    .hide-info{\r\n      display:none;\r\n      height:0px;\r\n    }\r\n    .form-tooltip:hover ~ .question-info {\r\n          display:block;\r\n          opacity:1;\r\n          height:auto;\r\n     }\r\n    .form-tooltip .tooltipcontent::after {\r\n          content: \" \";\r\n          position: absolute;\r\n          bottom: 100%;  /* At the top of the tooltip */\r\n          right: 0%;\r\n          margin-left: -5px;\r\n          border-width: 5px;\r\n          border-style: solid;\r\n          border-top-color: transparent;\r\n          border-right-color: transparent;\r\n          border-bottom-color: #337ab7;\r\n          border-left-color: transparent;\r\n }\r\n\r\n    ng-select.form-control {\r\n      padding-top: 0;\r\n      height: auto;\r\n      padding-bottom: 0;\r\n    }\r\n\r\n .forms-dropdown-menu {\r\n     max-height: 450px;\r\n     overflow-y: scroll;\r\n }\r\n .no-border {\r\n  border: 0;\r\n  box-shadow: none;\r\n}\r\n\r\n    `;\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class DataSources {\r\n    private _dataSources: any = {};\r\n    constructor() {\r\n    }\r\n\r\n    get dataSources(): any {\r\n        return this._dataSources;\r\n    }\r\n\r\n    registerDataSource(key: string, dataSource: any, unWrap = false) {\r\n        if (unWrap) {\r\n            // tslint:disable-next-line:forin\r\n            for (const o in dataSource) {\r\n                console.log('registering', o, dataSource[o]);\r\n                this.registerDataSource(o, dataSource[o], false);\r\n            }\r\n        }\r\n        if (this.dataSources[key]) {\r\n            console.warn('Overriding registered data source', key);\r\n        }\r\n        this._dataSources[key] = dataSource;\r\n    }\r\n\r\n    clearDataSource(key: string) {\r\n        delete this._dataSources[key];\r\n    }\r\n\r\n}\r\n","import {\r\n  Component, OnInit, Input, Inject, OnChanges, SimpleChanges\r\n} from '@angular/core';\r\nimport 'hammerjs';\r\nimport { DEFAULT_STYLES } from './form-renderer.component.css';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { DataSources } from '../data-sources/data-sources';\r\nimport { NodeBase, LeafNode, GroupNode } from '../form-factory/form-node';\r\nimport { AfeFormGroup } from '../../abstract-controls-extension/afe-form-group';\r\nimport { ValidationFactory } from '../form-factory/validation.factory';\r\nimport { DataSource } from '../question-models/interfaces/data-source';\r\nimport { FormErrorsService } from '../services/form-errors.service';\r\nimport { QuestionGroup } from '../question-models/group-question';\r\n// import { concat, of, Observable, Subject, BehaviorSubject } from 'rxjs';\r\n// import * as _ from 'lodash';\r\n\r\n// import { debounceTime, distinctUntilChanged, tap, switchMap, catchError, map } from 'rxjs/operators';\r\n// import { QuestionBase } from '../question-models';\r\n\r\n@Component({\r\n  selector: 'form-renderer',\r\n  template: `<!--CONTAINERS-->\r\n<div *ngIf=\"node.question.renderingType === 'form'\">\r\n  <div class=\"dropdown dropdown-tabs forms-dropdown\">\r\n    <a class=\"btn dropdown-toggle\" data-toggle=\"dropdown\">\r\n      <i class=\"fa fa-angle-double-down\"></i>\r\n    </a>\r\n    <ul class=\"dropdown-menu dropdown-menu-right forms-dropdown-menu\" role=\"menu\" aria-labelledby=\"dropdownMenu\">\r\n      <li *ngFor=\"let question of node.question.questions; let i = index;\" (click)=\"clickTab(i)\">\r\n        {{question.label}}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <mat-tab-group (selectedIndexChange)='tabSelected($event)' [selectedIndex]='activeTab'>\r\n    <mat-tab [label]='question.label' *ngFor=\"let question of node.question.questions; let i = index;\">\r\n      <div (swipeLeft)='loadNextTab()' (swipeRight)='loadPreviousTab()'>\r\n        <form-renderer [node]=\"node.children[question.key]\" [parentComponent]=\"this\" [parentGroup]=\"node.control\"></form-renderer>\r\n      </div>\r\n    </mat-tab>\r\n  </mat-tab-group>\r\n\r\n  <div style=\"text-align: center;\">\r\n    <button type=\"button\" class=\"btn btn-default\" (click)=\"loadPreviousTab()\" [ngClass]=\"{disabled: isCurrentTabFirst()}\">&lt;&lt;</button>\r\n    <button type=\"button\" class=\"btn btn-default\" (click)=\"loadNextTab()\" [ngClass]=\"{disabled: isCurrentTabLast()}\">\r\n      &gt;&gt;</button>\r\n  </div>\r\n</div>\r\n<div *ngIf=\"node.question.renderingType === 'page'\">\r\n  <!--<h2>{{node.question.label}}</h2>-->\r\n  <form-renderer *ngFor=\"let question of node.question.questions\" [parentComponent]=\"this\" [node]=\"node.children[question.key]\"\r\n    [parentGroup]=\"parentGroup\"></form-renderer>\r\n</div>\r\n<div *ngIf=\"node.question.renderingType === 'section' && checkSection(node)\"> \r\n  <div class=\"panel  panel-primary\">\r\n    <div class=\"panel-heading\">\r\n      <button type=\"button\" class=\"btn btn-primary pull-right\" (click)=\"isCollapsed = !isCollapsed\">\r\n        {{isCollapsed ? 'Show' : 'Hide'}}\r\n      </button> {{node.question.label}}\r\n    </div>\r\n    <div class=\"panel-body\" [collapse]=\"isCollapsed\">\r\n      <form-renderer *ngFor=\"let question of node.question.questions\" [parentComponent]=\"this\" [node]=\"node.children[question.key]\"\r\n        [parentGroup]=\"parentGroup\"></form-renderer>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- MESSAGES -->\r\n<div *ngIf=\"node.control && node.control.alert && node.control.alert !== ''\" class=\"alert alert-warning\">\r\n  <a class=\"close\" data-dismiss=\"alert\">&times;</a> {{node.control.alert}}\r\n</div>\r\n\r\n<!--CONTROLS-->\r\n\r\n<div *ngIf=\"node.question.controlType === 0\" class=\"form-group\" [formGroup]=\"parentGroup\" [hidden]=\"node.control.hidden\"\r\n  [ngClass]=\"{disabled: node.control.disabled}\">\r\n  <!--LEAF CONTROL-->\r\n  <div class=\"question-area\">\r\n    <a class=\"form-tooltip pull-right\" (click)=\"toggleInformation(node.question.extras.id)\" data-placement=\"right\"\r\n      *ngIf=\"node.question && node.question.extras.questionInfo  && node.question.extras.questionInfo !== ''  && node.question.extras.questionInfo !== ' '\">\r\n      <i class=\"glyphicon glyphicon-question-sign\" aria-hidden=\"true\"></i>\r\n    </a>\r\n\r\n    <label *ngIf=\"node.question.label\" [style.color]=\"hasErrors()? 'red' :''\" class=\"control-label\" [attr.for]=\"node.question.key\">\r\n      {{node.question.required ? '*':''}} {{node.question.label}}\r\n    </label>\r\n    <div [ngSwitch]=\"node.question.renderingType\">\r\n      <select class=\"form-control\" *ngSwitchCase=\"'select'\" [formControlName]=\"node.question.key\" [id]=\"node.question.key + 'id'\">\r\n        <option *ngFor=\"let o of node.question.options\" [ngValue]=\"o.value\">{{o.label}}\r\n        </option>\r\n      </select>\r\n\r\n      <remote-file-upload *ngSwitchCase=\"'file'\" [dataSource]=\"dataSource\" [formControlName]=\"node.question.key\" [id]=\"node.question.key + 'id'\"\r\n        (fileChanged)=\"upload($event)\">\r\n      </remote-file-upload>\r\n      <textarea [placeholder]=\"node.question.placeholder\" [rows]=\"node.question.rows\" class=\"form-control\"\r\n        *ngSwitchCase=\"'textarea'\" [formControlName]=\"node.question.key\" [id]=\"node.question.key + 'id'\">\r\n      </textarea>\r\n      <!--\r\n      <ng-select *ngSwitchCase=\"'remote-select'\" [items]=\"items$ | async\" bindLabel=\"label\" bindValue=\"value\" placeholder=\"{{node.question.placeholder}}\"\r\n        [hideSelected]=\"true\" [loading]=\"itemsLoading\"  [typeahead]=\"itemsInput$\" [formControlName]=\"node.question.key\" [id]=\"node.question.key + 'id'\">\r\n      </ng-select>\r\n    -->\r\n      <remote-select *ngSwitchCase=\"'remote-select'\" [placeholder]=\"node.question.placeholder\" tabindex=\"0\"\r\n        [dataSource]=\"dataSource\" [componentID]=\"node.question.key + 'id'\" [formControlName]=\"node.question.key\" [id]=\"node.question.key + 'id'\"></remote-select>\r\n      <!--  \r\n      <date-time-picker *ngSwitchCase=\"'date'\" [showTime]=\"node.question.showTime\" tabindex=\"0\" [weeks]='node.question.extras.questionOptions.weeksList'\r\n        (onDateChange)=\"onDateChanged(node)\" [showWeeks]=\"node.question.showWeeksAdder\" [formControlName]=\"node.question.key\"\r\n        [id]=\"node.question.key + 'id'\"></date-time-picker>\r\n  -->\r\n\r\n      <ngx-date-time-picker *ngSwitchCase=\"'date'\" [showTime]=\"node.question.showTime\" [id]=\"node.question.key + 'id'\"\r\n        [formControlName]=\"node.question.key\" [weeks]='node.question.extras.questionOptions.weeksList' (onDateChange)=\"onDateChanged(node)\"\r\n        [showWeeks]=\"node.question.showWeeksAdder\"></ngx-date-time-picker>\r\n      <ng-select *ngSwitchCase=\"'multi-select'\" [style.height]=\"'auto'\"  [style.overflow-x]=\"'hidden'\" tabindex=\"0\" [formControlName]=\"node.question.key\" [id]=\"node.question.key + 'id'\"\r\n          [options]=\"node.question.options\" [multiple]=\"true\">\r\n      </ng-select>\r\n      <ng-select *ngSwitchCase=\"'single-select'\" [style.height]='auto'  tabindex=\"0\" [formControlName]=\"node.question.key\"\r\n        [id]=\"node.question.key + 'id'\" [options]=\"node.question.options\" [multiple]=\"false\">\r\n      </ng-select>\r\n      <input class=\"form-control\" *ngSwitchCase=\"'number'\" [formControlName]=\"node.question.key \" [attr.placeholder]=\"node.question.placeholder \"\r\n        [type]=\"'number'\" [id]=\"node.question.key + 'id' \" [step]=\"'any'\" [min]=\"node.question.extras.questionOptions.min\"\r\n        [max]=\"node.question.extras.questionOptions.max\">\r\n      <input class=\"form-control\" *ngSwitchDefault [formControlName]=\"node.question.key \" [attr.placeholder]=\"node.question.placeholder \"\r\n        [type]=\"node.question.renderingType\" [id]=\"node.question.key + 'id' \">\r\n\r\n      <div *ngSwitchCase=\"'radio'\">\r\n        <div *ngFor=\"let o of node.question.options\">\r\n          <label class=\"form-control no-border\">\r\n            <input type=\"radio\" [formControlName]=\"node.question.key\" [id]=\"node.question.key + 'id'\" [value]=\"o.value\">\r\n            {{ o.label }}\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngSwitchCase=\"'checkbox'\">\r\n        <checkbox [id]=\"node.question.key + 'id'\" [formControlName]=\"node.question.key\" [options]=\"node.question.options\"></checkbox>\r\n      </div>\r\n\r\n      <div *ngIf=\"node.question.enableHistoricalValue && node.question.historicalDisplay\" style=\"margin-top: 2px;\">\r\n        <div class=\"container-fluid\">\r\n          <div class=\"row\">\r\n            <div class=\"col-xs-9\">\r\n              <span class=\"text-warning\">Previous Value: </span>\r\n              <strong>{{node.question.historicalDisplay?.text}}</strong>\r\n              <span *ngIf=\"node.question.showHistoricalValueDate\">\r\n                <span> | </span>\r\n                <strong class=\"text-primary\">{{node.question.historicalDisplay?._date}} </strong>\r\n                <span class=\"text-primary\" *ngIf=\"node.question.historicalDisplay && node.question.historicalDisplay._date \"> ({{node.question.historicalDisplay._date | timeAgo}})</span>\r\n              </span>\r\n\r\n            </div>\r\n            <button type=\"button\" [node]=\"node\" [name]=\"'historyValue'\" class=\"btn btn-primary btn-small col-xs-3\">Use\r\n              Value\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <appointments-overview [node]=\"node\"></appointments-overview>\r\n      <div *ngIf=\"hasErrors() \">\r\n        <p *ngFor=\"let e of errors() \">\r\n          <span class=\"text-danger \">{{e}}</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"question-info col-md-12 col-lg-12 col-sm-12\" id=\"{{node.question.extras.id}}\" *ngIf=\"node.question && node.question.extras.questionInfo  && node.question.extras.questionInfo !== ''  && node.question.extras.questionInfo !== ' '\">\r\n      {{node.question.extras.questionInfo}}\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n<div *ngIf=\"node.question.controlType === 1\" [hidden]=\"node.control.hidden\" [ngClass]=\"{disabled: node.control.disabled}\">\r\n\r\n\r\n  <!--ARRAY CONTROL-->\r\n  <div [ngSwitch]=\"node.question.renderingType \">\r\n    <div class='well' style=\"padding: 2px; \" *ngSwitchCase=\" 'repeating' \">\r\n      <h4 style=\"margin: 2px; font-weight: bold;\">{{node.question.label}}</h4>\r\n      <hr style=\"margin-left:-2px; margin-right:-2px; margin-bottom:4px; margin-top:8px; border-width:2px;\" />\r\n      <div [ngSwitch]=\"node.question.extras.type\">\r\n        <div *ngSwitchCase=\"'testOrder'\">\r\n          <div *ngFor=\"let child of node.children; let i=index \">\r\n            <form-renderer *ngFor=\"let question of child.question.questions \" [parentComponent]=\"this\" [node]=\"child.children[question.key]\r\n            \"\r\n              [parentGroup]=\"child.control \"></form-renderer>\r\n            <div>{{child.orderNumber}}</div>\r\n            <button type=\"button \" class='btn btn-sm btn-danger' (click)=\"node.removeAt(i) \">Remove</button>\r\n            <br />\r\n            <hr style=\"margin-left:-2px; margin-right:-2px; margin-bottom:4px; margin-top:8px; border-width:1px;\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngSwitchCase=\"'obsGroup'\" style=\"margin-bottom:20px;\">\r\n          <div *ngFor=\"let child of node.children; let i=index \">\r\n            <form-renderer *ngFor=\"let question of child.question.questions \" [parentComponent]=\"this\" [node]=\"child.children[question.key]\r\n            \"\r\n              [parentGroup]=\"child.control \"></form-renderer>\r\n            <button type=\"button \" class='btn btn-sm btn-danger' (click)=\"node.removeAt(i) \">Remove</button>\r\n            <br />\r\n            <hr style=\"margin-left:-2px; margin-right:-2px; margin-bottom:4px; margin-top:8px; border-width:1px;\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <button type=\"button \" class='btn btn-primary' (click)=\"node.createChildNode() \">Add</button>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n<div *ngIf=\"node.question.controlType === 2\" [hidden]=\"node.control.hidden\" [ngClass]=\"{disabled: node.control.disabled}\">\r\n\r\n  <!--GROUP-->\r\n  <div [ngSwitch]=\"node.question.renderingType \">\r\n    <div *ngSwitchCase=\" 'group' \">\r\n      <form-renderer *ngFor=\"let question of node.question.questions \" [parentComponent]=\"this\" [node]=\"node.children[question.key]\r\n            \"\r\n        [parentGroup]=\"node.control \"></form-renderer>\r\n    </div>\r\n    <div *ngSwitchCase=\" 'field-set' \" style=\"border: 1px solid #eeeeee; padding: 2px; margin: 2px;\">\r\n      <form-renderer *ngFor=\"let question of node.question.questions \" [parentComponent]=\"this\" [node]=\"node.children[question.key]\r\n            \"\r\n        [parentGroup]=\"node.control \"></form-renderer>\r\n    </div>\r\n  </div>\r\n\r\n</div>`,\r\n  styles: ['../../style/app.css', DEFAULT_STYLES]\r\n})\r\nexport class FormRendererComponent implements OnInit {\r\n\r\n\r\n  @Input() public parentComponent: FormRendererComponent;\r\n  @Input() public node: NodeBase;\r\n  @Input() public parentGroup: AfeFormGroup;\r\n  public childComponents: FormRendererComponent[] = [];\r\n  public showTime: boolean;\r\n  public showWeeks: boolean;\r\n  public activeTab: number;\r\n  public dataSource: DataSource;\r\n  public isCollapsed = false;\r\n  public auto: any;\r\n\r\n  // items$: Observable<any[]>;\r\n  // itemsLoading = false;\r\n  // itemsInput$ = new Subject<string>();\r\n\r\n  constructor(\r\n    private validationFactory: ValidationFactory,\r\n    private dataSources: DataSources,\r\n    private formErrorsService: FormErrorsService,\r\n    @Inject(DOCUMENT) private document: any) {\r\n    this.activeTab = 0;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    this.setUpRemoteSelect();\r\n    this.setUpFileUpload();\r\n    if (this.node && this.node.form) {\r\n      const tab = this.node.form.valueProcessingInfo.lastFormTab;\r\n      if (tab && tab !== this.activeTab) {\r\n        this.activeTab = tab;\r\n      }\r\n    }\r\n    if (this.node && this.node.question.renderingType === 'form') {\r\n      this.formErrorsService.announceErrorField$.subscribe(\r\n        (error) => {\r\n          this.scrollToControl(error);\r\n        });\r\n    }\r\n\r\n    if (this.node && this.node.question.renderingType === 'section') {\r\n      this.isCollapsed = !(this.node.question as QuestionGroup).isExpanded;\r\n    }\r\n\r\n    if (this.parentComponent) {\r\n      this.parentComponent.addChildComponent(this);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  public addChildComponent(child: FormRendererComponent) {\r\n    this.childComponents.push(child);\r\n  }\r\n\r\n  public setUpRemoteSelect() {\r\n    if (this.node && this.node.question.extras &&\r\n      this.node.question.renderingType === 'remote-select') {\r\n      // let selectQuestion = this.node.form.searchNodeByQuestionId(this.node.question.key)[0];\r\n      this.dataSource = this.dataSources.dataSources[this.node.question.dataSource];\r\n     /*\r\n      let defaltValues = of([]);\r\n      if (this.dataSource.resolveSelectedValue(selectQuestion.control.value)) {\r\n        defaltValues = this.dataSource.resolveSelectedValue(selectQuestion.control.value).pipe(\r\n          catchError(() => of([])), // empty list on error\r\n        );\r\n      }\r\n      this.items$ = concat(\r\n        defaltValues,\r\n        this.itemsInput$.pipe(\r\n          debounceTime(200),\r\n          distinctUntilChanged(),\r\n          tap(() => this.itemsLoading = true),\r\n          switchMap(term => this.dataSource.searchOptions(term).pipe(\r\n            catchError(() => of([])), // empty list on error\r\n            tap(() => {\r\n              this.itemsLoading = false\r\n            })\r\n          ))\r\n        )\r\n      );\r\n      */\r\n      if (this.dataSource && this.node.question.dataSourceOptions) {\r\n        this.dataSource.dataSourceOptions = this.node.question.dataSourceOptions;\r\n      }\r\n    }\r\n  }\r\n\r\n  public setUpFileUpload() {\r\n    if (this.node && this.node.question.extras && this.node.question.renderingType === 'file') {\r\n      this.dataSource = this.dataSources.dataSources[this.node.question.dataSource];\r\n      // console.log('Key', this.node.question);\r\n      // console.log('Data source', this.dataSource);\r\n    }\r\n\r\n  }\r\n\r\n  checkSection(node: NodeBase) {\r\n    if (node.question.renderingType === 'section') {\r\n      let groupChildrenHidden = false;\r\n      let allSectionControlsHidden = Object.keys(node.children).every((k) => {\r\n        let innerNode = node.children[k];\r\n        if (innerNode instanceof GroupNode) {\r\n          groupChildrenHidden = Object.keys(innerNode.children).every((i) => innerNode.children[i].control.hidden)\r\n        }\r\n        return node.children[k].control.hidden || groupChildrenHidden;\r\n      });\r\n      return !allSectionControlsHidden;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public clickTab(tabNumber) {\r\n    this.activeTab = tabNumber;\r\n  }\r\n\r\n  public loadPreviousTab() {\r\n    if (!this.isCurrentTabFirst()) {\r\n      this.clickTab(this.activeTab - 1);\r\n      document.body.scrollTop = 0;\r\n    }\r\n  }\r\n\r\n  public isCurrentTabFirst() {\r\n    return this.activeTab === 0;\r\n  }\r\n\r\n  public isCurrentTabLast() {\r\n    return this.activeTab === this.node.question['questions'].length - 1;\r\n  }\r\n\r\n  public loadNextTab() {\r\n    if (!this.isCurrentTabLast()) {\r\n      this.clickTab(this.activeTab + 1);\r\n      document.body.scrollTop = 0;\r\n    }\r\n  }\r\n  public tabSelected($event) {\r\n    this.activeTab = $event;\r\n    this.setPreviousTab();\r\n  }\r\n  public setPreviousTab() {\r\n    if (this.node && this.node.form) {\r\n      this.node.form.valueProcessingInfo['lastFormTab'] = this.activeTab;\r\n    }\r\n\r\n  }\r\n  public hasErrors() {\r\n    return this.node.control.touched && !this.node.control.valid;\r\n  }\r\n\r\n  public errors() {\r\n    return this.getErrors(this.node);\r\n  }\r\n\r\n\r\n  public scrollToControl(error: string) {\r\n\r\n    const tab: number = +error.split(',')[0];\r\n    const elSelector = error.split(',')[1] + 'id';\r\n\r\n    // the tab components\r\n    const tabComponent: FormRendererComponent = this.childComponents[tab];\r\n\r\n    this.clickTab(tab);\r\n\r\n    setTimeout(() => {\r\n\r\n      // expand all sections\r\n      tabComponent.childComponents.forEach((section) => {\r\n        section.isCollapsed = false;\r\n\r\n        setTimeout(() => {\r\n          const element: any = this.document.getElementById(elSelector);\r\n          if (element !== null && element.focus) {\r\n            element.focus();\r\n            element.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n          }\r\n        }, 100);\r\n      });\r\n\r\n    }, 200);\r\n  }\r\n\r\n  public onDateChanged(node: LeafNode) {\r\n    // console.log('Node', node);\r\n    this.node = node;\r\n  }\r\n\r\n  public upload(event) {\r\n    // console.log('Event', event);\r\n    // console.log('Data', this.dataSource);\r\n  }\r\n\r\n  public toggleInformation(infoId) {\r\n    const e = document.getElementById(infoId);\r\n\r\n    if (e.style.display === 'block') {\r\n      e.style.display = 'none';\r\n    } else {\r\n      e.style.display = 'block';\r\n    }\r\n\r\n\r\n    console.log('InfoId', infoId);\r\n  }\r\n\r\n\r\n  private getErrors(node: NodeBase) {\r\n    const errors: any = node.control.errors;\r\n\r\n    if (errors) {\r\n\r\n      return this.validationFactory.errors(errors, node.question);\r\n    }\r\n\r\n    return [];\r\n  }\r\n}\r\n","import {\r\n    Component, OnInit, Input\r\n} from '@angular/core';\r\nimport * as _ from 'lodash';\r\n\r\nimport { Form } from '../form-factory/form';\r\nimport { ValidationFactory } from '../form-factory/validation.factory';\r\nimport { NodeBase, LeafNode } from '../form-factory/form-node';\r\nimport { QuestionGroup } from '../question-models/group-question';\r\nimport { FormErrorsService } from '../services/form-errors.service';\r\n\r\n@Component({\r\n    selector: 'error-renderer',\r\n    template: `<div *ngIf=\"showErrors()\" class=\"container\">\r\n<ul class=\"list-group\">\r\n  <li class=\"list-group-item list-group-item-warning\" *ngFor=\"let errorNode of errorNodes\" (click)=announceErrorField(errorNode)>\r\n    <div class=\"error\" *ngIf=\"errorNode.control.valid == false\">\r\n      <h4>{{errorNode.question.label}}</h4>\r\n      <span class=\"text-danger\"> {{getControlError(errorNode)}}</span>\r\n    </div>\r\n  </li>\r\n</ul>\r\n</div>\r\n`,\r\n    styles: [`ul{list-style:none}.list-group-item{padding:2px 15px;cursor:pointer}ul li:hover{background-color:#fff}h4{margin-top:7px;margin-bottom:7px}`]\r\n})\r\nexport class ErrorRendererComponent implements OnInit {\r\n\r\n  @Input() form: Form;\r\n\r\n  constructor(private validationFactory: ValidationFactory, private formErrorsService: FormErrorsService) {}\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  showErrors() {\r\n    return !this.form.valid && this.form.showErrors;\r\n  }\r\n\r\n  get errorNodes() {\r\n\r\n    const invalidControls = this.form.markInvalidControls(this.form.rootNode, []);\r\n    return invalidControls;\r\n  }\r\n\r\n  getControlError(node: LeafNode) {\r\n      const errors: any = node.control.errors;\r\n\r\n      if (errors) {\r\n\r\n          return this.validationFactory.errors(errors, node.question);\r\n      }\r\n\r\n      return [];\r\n  }\r\n\r\n  announceErrorField(errorNode: LeafNode) {\r\n\r\n    const nodes: Array<NodeBase> = this.form.searchNodeByQuestionId(errorNode.path.substring(0, errorNode.path.indexOf('.')));\r\n\r\n    _.forEach(nodes, (node: NodeBase) => {\r\n\r\n      if (node.question.renderingType === 'page') {\r\n        const pageIndex: number = this.getPageIndex(node);\r\n        this.formErrorsService.announceErrorField(pageIndex + ',' + errorNode.question.key);\r\n      }\r\n    });\r\n  }\r\n\r\n  getPageIndex(node: NodeBase) {\r\n     const questionGroup: QuestionGroup = this.form.rootNode.question as QuestionGroup;\r\n     return questionGroup.questions.indexOf(node.question);\r\n  }\r\n}\r\n","import * as _ from 'lodash';\r\nimport { QuestionBase } from '../question-models/question-base';\r\n\r\nexport class HistoricalFieldHelperService {\r\n\r\n  public getDisplayTextFromOptions(question: QuestionBase , valueProperty: string, displayProperty: string): string {\r\n\r\n    let displayText = '';\r\n    const historicalValue = question.historicalDataValue;\r\n    if (_.isArray(historicalValue.value)) {\r\n      let valueConverted = 0;\r\n      _.each(historicalValue.value, (val) => {\r\n        _.each(question.options, (option) => {\r\n\r\n          if (option[valueProperty] === val) {\r\n            if (valueConverted === 0) {\r\n              displayText = displayText + option[displayProperty];\r\n            } else {\r\n              displayText = displayText + ', ' + option[displayProperty];\r\n            }\r\n            valueConverted++;\r\n          }\r\n        });\r\n      });\r\n\r\n    } else {\r\n      _.each(question.options, (option) => {\r\n        if (option[valueProperty] === historicalValue.value) {\r\n          displayText = option[displayProperty];\r\n        }\r\n      });\r\n    }\r\n    return displayText ;\r\n  }\r\n\r\n\r\n}\r\n","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { HistoricalFieldHelperService } from '../helpers/historical-field-helper-service';\r\nimport * as _ from 'lodash';\r\nimport { NodeBase } from '../form-factory/form-node';\r\n\r\n@Directive({\r\n  selector: `[node]`\r\n})\r\n\r\nexport class HistoricalValueDirective {\r\n\r\n  @Input() _node: NodeBase;\r\n  @Output() _nodeChange = new EventEmitter<Object>();\r\n\r\n  historicalDisplay: string;\r\n\r\n  constructor(private historicalFieldHelper: HistoricalFieldHelperService) {\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  setValue(e) {\r\n\r\n    if (e.target.name === 'historyValue') {\r\n\r\n      if (this._node && (!this.compareString(this._node.question.renderingType, 'page')\r\n        || !this.compareString(this._node.question.renderingType, 'section'))) {\r\n\r\n        this._node.control.setValue(this._node.question.historicalDataValue.value);\r\n\r\n        this._node.question['historicalValue'] = this._node.question.historicalDataValue;\r\n        e.stopPropagation();\r\n        this._nodeChange.emit(this._node);\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n  private compareString(a, b) {\r\n    if (a === b) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  @Input()\r\n  set node(node: NodeBase) {\r\n\r\n    if (node) {\r\n      this._node = node;\r\n      if (this._node.question.enableHistoricalValue && !_.isUndefined(this._node.question.historicalDataValue)) {\r\n        const display: any = { text: '', _date: '' };\r\n        if ((this._node.question.renderingType === 'select'\r\n          || this._node.question.renderingType === 'multi-select'\r\n          || this._node.question.renderingType === 'single-select')) {\r\n\r\n          display.text = this.historicalFieldHelper.getDisplayTextFromOptions(\r\n            this._node.question,\r\n            'value',\r\n            'label'\r\n          );\r\n          display._date = this._node.question.historicalDataValue.valueDate;\r\n\r\n          this._node.question['historicalDisplay'] = display;\r\n\r\n        } else if (!_.isUndefined(this._node.question.historicalDataValue)) {\r\n\r\n          display.text = this._node.question.historicalDataValue.value;\r\n          display._date = this._node.question.historicalDataValue.valueDate;\r\n\r\n          this._node.question['historicalDisplay'] = display;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","export const STYLE = `\r\nng-select {\r\n  display: inline-block;\r\n  margin: 0;\r\n  position: relative;\r\n  vertical-align: middle;\r\n  width: 100%;\r\n}\r\nng-select * {\r\n  box-sizing: border-box;\r\n  font-family: Sans-Serif;\r\n}\r\nng-select > div {\r\n  border: 1px solid #ddd;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  width: 100%;\r\n}\r\nng-select > div.disabled {\r\n  background-color: #eee;\r\n  color: #aaa;\r\n  cursor: default;\r\n  pointer-events: none;\r\n}\r\nng-select > div > div.single {\r\n  display: flex;\r\n  height: 30px;\r\n  width: 100%;\r\n}\r\nng-select > div > div.single > div.value,\r\nng-select > div > div.single > div.placeholder {\r\n  flex: 1;\r\n  line-height: 30px;\r\n  overflow: hidden;\r\n  padding: 0 10px;\r\n  white-space: nowrap;\r\n}\r\nng-select > div > div.single > div.placeholder {\r\n  color: #a9a9a9;\r\n}\r\nng-select > div > div.single > div.clear,\r\nng-select > div > div.single > div.toggle {\r\n  color: #aaa;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  width: 30px;\r\n}\r\nng-select > div > div.single > div.clear:hover,\r\nng-select > div > div.single > div.toggle:hover {\r\n  background-color: #ececec;\r\n}\r\nng-select > div > div.single > div.clear {\r\n  font-size: 18px;\r\n}\r\nng-select > div > div.single > div.toggle {\r\n  font-size: 14px;\r\n}\r\nng-select > div > div.multiple {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  height: 100%;\r\n  min-height: 30px;\r\n  padding: 0 10px;\r\n  width: 100%;\r\n}\r\nng-select > div > div.multiple > div.option {\r\n  background-color: #eee;\r\n  border: 1px solid #aaa;\r\n  border-radius: 4px;\r\n  color: #333;\r\n  cursor: default;\r\n  display: inline-block;\r\n  flex-shrink: 0;\r\n  font-size: 14px;\r\n  line-height: 22px;\r\n  margin: 3px 5px 3px 0;\r\n  padding: 0 4px;\r\n}\r\nng-select > div > div.multiple > div.option span.deselect-option {\r\n  color: #aaa;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  height: 20px;\r\n  line-height: 20px;\r\n}\r\nng-select > div > div.multiple > div.option span.deselect-option:hover {\r\n  color: #555;\r\n}\r\nng-select > div > div.multiple input {\r\n  background-color: transparent;\r\n  border: none;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding: 0;\r\n}\r\nng-select > div > div.multiple input:focus {\r\n  outline: none;\r\n}\r\n`;\r\n","export class Option {\r\n\r\n    value: string;\r\n    label: string;\r\n\r\n    disabled: boolean;\r\n    highlighted: boolean;\r\n    selected: boolean;\r\n    shown: boolean;\r\n\r\n    constructor(value: string, label: string) {\r\n        this.value = value;\r\n        this.label = label;\r\n\r\n        this.disabled = false;\r\n        this.highlighted = false;\r\n        this.selected = false;\r\n        this.shown = true;\r\n    }\r\n\r\n    show() {\r\n        this.shown = true;\r\n    }\r\n\r\n    hide() {\r\n        this.shown = false;\r\n    }\r\n\r\n    disable() {\r\n        this.disabled = true;\r\n    }\r\n\r\n    enable() {\r\n        this.disabled = false;\r\n    }\r\n\r\n    undecoratedCopy() {\r\n        return {\r\n            label: this.label,\r\n            value: this.value\r\n        };\r\n    }\r\n}\r\n","export class Diacritics {\r\n\r\n    static DIACRITICS = {\r\n        '\\u24B6': 'A',\r\n        '\\uFF21': 'A',\r\n        '\\u00C0': 'A',\r\n        '\\u00C1': 'A',\r\n        '\\u00C2': 'A',\r\n        '\\u1EA6': 'A',\r\n        '\\u1EA4': 'A',\r\n        '\\u1EAA': 'A',\r\n        '\\u1EA8': 'A',\r\n        '\\u00C3': 'A',\r\n        '\\u0100': 'A',\r\n        '\\u0102': 'A',\r\n        '\\u1EB0': 'A',\r\n        '\\u1EAE': 'A',\r\n        '\\u1EB4': 'A',\r\n        '\\u1EB2': 'A',\r\n        '\\u0226': 'A',\r\n        '\\u01E0': 'A',\r\n        '\\u00C4': 'A',\r\n        '\\u01DE': 'A',\r\n        '\\u1EA2': 'A',\r\n        '\\u00C5': 'A',\r\n        '\\u01FA': 'A',\r\n        '\\u01CD': 'A',\r\n        '\\u0200': 'A',\r\n        '\\u0202': 'A',\r\n        '\\u1EA0': 'A',\r\n        '\\u1EAC': 'A',\r\n        '\\u1EB6': 'A',\r\n        '\\u1E00': 'A',\r\n        '\\u0104': 'A',\r\n        '\\u023A': 'A',\r\n        '\\u2C6F': 'A',\r\n        '\\uA732': 'AA',\r\n        '\\u00C6': 'AE',\r\n        '\\u01FC': 'AE',\r\n        '\\u01E2': 'AE',\r\n        '\\uA734': 'AO',\r\n        '\\uA736': 'AU',\r\n        '\\uA738': 'AV',\r\n        '\\uA73A': 'AV',\r\n        '\\uA73C': 'AY',\r\n        '\\u24B7': 'B',\r\n        '\\uFF22': 'B',\r\n        '\\u1E02': 'B',\r\n        '\\u1E04': 'B',\r\n        '\\u1E06': 'B',\r\n        '\\u0243': 'B',\r\n        '\\u0182': 'B',\r\n        '\\u0181': 'B',\r\n        '\\u24B8': 'C',\r\n        '\\uFF23': 'C',\r\n        '\\u0106': 'C',\r\n        '\\u0108': 'C',\r\n        '\\u010A': 'C',\r\n        '\\u010C': 'C',\r\n        '\\u00C7': 'C',\r\n        '\\u1E08': 'C',\r\n        '\\u0187': 'C',\r\n        '\\u023B': 'C',\r\n        '\\uA73E': 'C',\r\n        '\\u24B9': 'D',\r\n        '\\uFF24': 'D',\r\n        '\\u1E0A': 'D',\r\n        '\\u010E': 'D',\r\n        '\\u1E0C': 'D',\r\n        '\\u1E10': 'D',\r\n        '\\u1E12': 'D',\r\n        '\\u1E0E': 'D',\r\n        '\\u0110': 'D',\r\n        '\\u018B': 'D',\r\n        '\\u018A': 'D',\r\n        '\\u0189': 'D',\r\n        '\\uA779': 'D',\r\n        '\\u01F1': 'DZ',\r\n        '\\u01C4': 'DZ',\r\n        '\\u01F2': 'Dz',\r\n        '\\u01C5': 'Dz',\r\n        '\\u24BA': 'E',\r\n        '\\uFF25': 'E',\r\n        '\\u00C8': 'E',\r\n        '\\u00C9': 'E',\r\n        '\\u00CA': 'E',\r\n        '\\u1EC0': 'E',\r\n        '\\u1EBE': 'E',\r\n        '\\u1EC4': 'E',\r\n        '\\u1EC2': 'E',\r\n        '\\u1EBC': 'E',\r\n        '\\u0112': 'E',\r\n        '\\u1E14': 'E',\r\n        '\\u1E16': 'E',\r\n        '\\u0114': 'E',\r\n        '\\u0116': 'E',\r\n        '\\u00CB': 'E',\r\n        '\\u1EBA': 'E',\r\n        '\\u011A': 'E',\r\n        '\\u0204': 'E',\r\n        '\\u0206': 'E',\r\n        '\\u1EB8': 'E',\r\n        '\\u1EC6': 'E',\r\n        '\\u0228': 'E',\r\n        '\\u1E1C': 'E',\r\n        '\\u0118': 'E',\r\n        '\\u1E18': 'E',\r\n        '\\u1E1A': 'E',\r\n        '\\u0190': 'E',\r\n        '\\u018E': 'E',\r\n        '\\u24BB': 'F',\r\n        '\\uFF26': 'F',\r\n        '\\u1E1E': 'F',\r\n        '\\u0191': 'F',\r\n        '\\uA77B': 'F',\r\n        '\\u24BC': 'G',\r\n        '\\uFF27': 'G',\r\n        '\\u01F4': 'G',\r\n        '\\u011C': 'G',\r\n        '\\u1E20': 'G',\r\n        '\\u011E': 'G',\r\n        '\\u0120': 'G',\r\n        '\\u01E6': 'G',\r\n        '\\u0122': 'G',\r\n        '\\u01E4': 'G',\r\n        '\\u0193': 'G',\r\n        '\\uA7A0': 'G',\r\n        '\\uA77D': 'G',\r\n        '\\uA77E': 'G',\r\n        '\\u24BD': 'H',\r\n        '\\uFF28': 'H',\r\n        '\\u0124': 'H',\r\n        '\\u1E22': 'H',\r\n        '\\u1E26': 'H',\r\n        '\\u021E': 'H',\r\n        '\\u1E24': 'H',\r\n        '\\u1E28': 'H',\r\n        '\\u1E2A': 'H',\r\n        '\\u0126': 'H',\r\n        '\\u2C67': 'H',\r\n        '\\u2C75': 'H',\r\n        '\\uA78D': 'H',\r\n        '\\u24BE': 'I',\r\n        '\\uFF29': 'I',\r\n        '\\u00CC': 'I',\r\n        '\\u00CD': 'I',\r\n        '\\u00CE': 'I',\r\n        '\\u0128': 'I',\r\n        '\\u012A': 'I',\r\n        '\\u012C': 'I',\r\n        '\\u0130': 'I',\r\n        '\\u00CF': 'I',\r\n        '\\u1E2E': 'I',\r\n        '\\u1EC8': 'I',\r\n        '\\u01CF': 'I',\r\n        '\\u0208': 'I',\r\n        '\\u020A': 'I',\r\n        '\\u1ECA': 'I',\r\n        '\\u012E': 'I',\r\n        '\\u1E2C': 'I',\r\n        '\\u0197': 'I',\r\n        '\\u24BF': 'J',\r\n        '\\uFF2A': 'J',\r\n        '\\u0134': 'J',\r\n        '\\u0248': 'J',\r\n        '\\u24C0': 'K',\r\n        '\\uFF2B': 'K',\r\n        '\\u1E30': 'K',\r\n        '\\u01E8': 'K',\r\n        '\\u1E32': 'K',\r\n        '\\u0136': 'K',\r\n        '\\u1E34': 'K',\r\n        '\\u0198': 'K',\r\n        '\\u2C69': 'K',\r\n        '\\uA740': 'K',\r\n        '\\uA742': 'K',\r\n        '\\uA744': 'K',\r\n        '\\uA7A2': 'K',\r\n        '\\u24C1': 'L',\r\n        '\\uFF2C': 'L',\r\n        '\\u013F': 'L',\r\n        '\\u0139': 'L',\r\n        '\\u013D': 'L',\r\n        '\\u1E36': 'L',\r\n        '\\u1E38': 'L',\r\n        '\\u013B': 'L',\r\n        '\\u1E3C': 'L',\r\n        '\\u1E3A': 'L',\r\n        '\\u0141': 'L',\r\n        '\\u023D': 'L',\r\n        '\\u2C62': 'L',\r\n        '\\u2C60': 'L',\r\n        '\\uA748': 'L',\r\n        '\\uA746': 'L',\r\n        '\\uA780': 'L',\r\n        '\\u01C7': 'LJ',\r\n        '\\u01C8': 'Lj',\r\n        '\\u24C2': 'M',\r\n        '\\uFF2D': 'M',\r\n        '\\u1E3E': 'M',\r\n        '\\u1E40': 'M',\r\n        '\\u1E42': 'M',\r\n        '\\u2C6E': 'M',\r\n        '\\u019C': 'M',\r\n        '\\u24C3': 'N',\r\n        '\\uFF2E': 'N',\r\n        '\\u01F8': 'N',\r\n        '\\u0143': 'N',\r\n        '\\u00D1': 'N',\r\n        '\\u1E44': 'N',\r\n        '\\u0147': 'N',\r\n        '\\u1E46': 'N',\r\n        '\\u0145': 'N',\r\n        '\\u1E4A': 'N',\r\n        '\\u1E48': 'N',\r\n        '\\u0220': 'N',\r\n        '\\u019D': 'N',\r\n        '\\uA790': 'N',\r\n        '\\uA7A4': 'N',\r\n        '\\u01CA': 'NJ',\r\n        '\\u01CB': 'Nj',\r\n        '\\u24C4': 'O',\r\n        '\\uFF2F': 'O',\r\n        '\\u00D2': 'O',\r\n        '\\u00D3': 'O',\r\n        '\\u00D4': 'O',\r\n        '\\u1ED2': 'O',\r\n        '\\u1ED0': 'O',\r\n        '\\u1ED6': 'O',\r\n        '\\u1ED4': 'O',\r\n        '\\u00D5': 'O',\r\n        '\\u1E4C': 'O',\r\n        '\\u022C': 'O',\r\n        '\\u1E4E': 'O',\r\n        '\\u014C': 'O',\r\n        '\\u1E50': 'O',\r\n        '\\u1E52': 'O',\r\n        '\\u014E': 'O',\r\n        '\\u022E': 'O',\r\n        '\\u0230': 'O',\r\n        '\\u00D6': 'O',\r\n        '\\u022A': 'O',\r\n        '\\u1ECE': 'O',\r\n        '\\u0150': 'O',\r\n        '\\u01D1': 'O',\r\n        '\\u020C': 'O',\r\n        '\\u020E': 'O',\r\n        '\\u01A0': 'O',\r\n        '\\u1EDC': 'O',\r\n        '\\u1EDA': 'O',\r\n        '\\u1EE0': 'O',\r\n        '\\u1EDE': 'O',\r\n        '\\u1EE2': 'O',\r\n        '\\u1ECC': 'O',\r\n        '\\u1ED8': 'O',\r\n        '\\u01EA': 'O',\r\n        '\\u01EC': 'O',\r\n        '\\u00D8': 'O',\r\n        '\\u01FE': 'O',\r\n        '\\u0186': 'O',\r\n        '\\u019F': 'O',\r\n        '\\uA74A': 'O',\r\n        '\\uA74C': 'O',\r\n        '\\u01A2': 'OI',\r\n        '\\uA74E': 'OO',\r\n        '\\u0222': 'OU',\r\n        '\\u24C5': 'P',\r\n        '\\uFF30': 'P',\r\n        '\\u1E54': 'P',\r\n        '\\u1E56': 'P',\r\n        '\\u01A4': 'P',\r\n        '\\u2C63': 'P',\r\n        '\\uA750': 'P',\r\n        '\\uA752': 'P',\r\n        '\\uA754': 'P',\r\n        '\\u24C6': 'Q',\r\n        '\\uFF31': 'Q',\r\n        '\\uA756': 'Q',\r\n        '\\uA758': 'Q',\r\n        '\\u024A': 'Q',\r\n        '\\u24C7': 'R',\r\n        '\\uFF32': 'R',\r\n        '\\u0154': 'R',\r\n        '\\u1E58': 'R',\r\n        '\\u0158': 'R',\r\n        '\\u0210': 'R',\r\n        '\\u0212': 'R',\r\n        '\\u1E5A': 'R',\r\n        '\\u1E5C': 'R',\r\n        '\\u0156': 'R',\r\n        '\\u1E5E': 'R',\r\n        '\\u024C': 'R',\r\n        '\\u2C64': 'R',\r\n        '\\uA75A': 'R',\r\n        '\\uA7A6': 'R',\r\n        '\\uA782': 'R',\r\n        '\\u24C8': 'S',\r\n        '\\uFF33': 'S',\r\n        '\\u1E9E': 'S',\r\n        '\\u015A': 'S',\r\n        '\\u1E64': 'S',\r\n        '\\u015C': 'S',\r\n        '\\u1E60': 'S',\r\n        '\\u0160': 'S',\r\n        '\\u1E66': 'S',\r\n        '\\u1E62': 'S',\r\n        '\\u1E68': 'S',\r\n        '\\u0218': 'S',\r\n        '\\u015E': 'S',\r\n        '\\u2C7E': 'S',\r\n        '\\uA7A8': 'S',\r\n        '\\uA784': 'S',\r\n        '\\u24C9': 'T',\r\n        '\\uFF34': 'T',\r\n        '\\u1E6A': 'T',\r\n        '\\u0164': 'T',\r\n        '\\u1E6C': 'T',\r\n        '\\u021A': 'T',\r\n        '\\u0162': 'T',\r\n        '\\u1E70': 'T',\r\n        '\\u1E6E': 'T',\r\n        '\\u0166': 'T',\r\n        '\\u01AC': 'T',\r\n        '\\u01AE': 'T',\r\n        '\\u023E': 'T',\r\n        '\\uA786': 'T',\r\n        '\\uA728': 'TZ',\r\n        '\\u24CA': 'U',\r\n        '\\uFF35': 'U',\r\n        '\\u00D9': 'U',\r\n        '\\u00DA': 'U',\r\n        '\\u00DB': 'U',\r\n        '\\u0168': 'U',\r\n        '\\u1E78': 'U',\r\n        '\\u016A': 'U',\r\n        '\\u1E7A': 'U',\r\n        '\\u016C': 'U',\r\n        '\\u00DC': 'U',\r\n        '\\u01DB': 'U',\r\n        '\\u01D7': 'U',\r\n        '\\u01D5': 'U',\r\n        '\\u01D9': 'U',\r\n        '\\u1EE6': 'U',\r\n        '\\u016E': 'U',\r\n        '\\u0170': 'U',\r\n        '\\u01D3': 'U',\r\n        '\\u0214': 'U',\r\n        '\\u0216': 'U',\r\n        '\\u01AF': 'U',\r\n        '\\u1EEA': 'U',\r\n        '\\u1EE8': 'U',\r\n        '\\u1EEE': 'U',\r\n        '\\u1EEC': 'U',\r\n        '\\u1EF0': 'U',\r\n        '\\u1EE4': 'U',\r\n        '\\u1E72': 'U',\r\n        '\\u0172': 'U',\r\n        '\\u1E76': 'U',\r\n        '\\u1E74': 'U',\r\n        '\\u0244': 'U',\r\n        '\\u24CB': 'V',\r\n        '\\uFF36': 'V',\r\n        '\\u1E7C': 'V',\r\n        '\\u1E7E': 'V',\r\n        '\\u01B2': 'V',\r\n        '\\uA75E': 'V',\r\n        '\\u0245': 'V',\r\n        '\\uA760': 'VY',\r\n        '\\u24CC': 'W',\r\n        '\\uFF37': 'W',\r\n        '\\u1E80': 'W',\r\n        '\\u1E82': 'W',\r\n        '\\u0174': 'W',\r\n        '\\u1E86': 'W',\r\n        '\\u1E84': 'W',\r\n        '\\u1E88': 'W',\r\n        '\\u2C72': 'W',\r\n        '\\u24CD': 'X',\r\n        '\\uFF38': 'X',\r\n        '\\u1E8A': 'X',\r\n        '\\u1E8C': 'X',\r\n        '\\u24CE': 'Y',\r\n        '\\uFF39': 'Y',\r\n        '\\u1EF2': 'Y',\r\n        '\\u00DD': 'Y',\r\n        '\\u0176': 'Y',\r\n        '\\u1EF8': 'Y',\r\n        '\\u0232': 'Y',\r\n        '\\u1E8E': 'Y',\r\n        '\\u0178': 'Y',\r\n        '\\u1EF6': 'Y',\r\n        '\\u1EF4': 'Y',\r\n        '\\u01B3': 'Y',\r\n        '\\u024E': 'Y',\r\n        '\\u1EFE': 'Y',\r\n        '\\u24CF': 'Z',\r\n        '\\uFF3A': 'Z',\r\n        '\\u0179': 'Z',\r\n        '\\u1E90': 'Z',\r\n        '\\u017B': 'Z',\r\n        '\\u017D': 'Z',\r\n        '\\u1E92': 'Z',\r\n        '\\u1E94': 'Z',\r\n        '\\u01B5': 'Z',\r\n        '\\u0224': 'Z',\r\n        '\\u2C7F': 'Z',\r\n        '\\u2C6B': 'Z',\r\n        '\\uA762': 'Z',\r\n        '\\u24D0': 'a',\r\n        '\\uFF41': 'a',\r\n        '\\u1E9A': 'a',\r\n        '\\u00E0': 'a',\r\n        '\\u00E1': 'a',\r\n        '\\u00E2': 'a',\r\n        '\\u1EA7': 'a',\r\n        '\\u1EA5': 'a',\r\n        '\\u1EAB': 'a',\r\n        '\\u1EA9': 'a',\r\n        '\\u00E3': 'a',\r\n        '\\u0101': 'a',\r\n        '\\u0103': 'a',\r\n        '\\u1EB1': 'a',\r\n        '\\u1EAF': 'a',\r\n        '\\u1EB5': 'a',\r\n        '\\u1EB3': 'a',\r\n        '\\u0227': 'a',\r\n        '\\u01E1': 'a',\r\n        '\\u00E4': 'a',\r\n        '\\u01DF': 'a',\r\n        '\\u1EA3': 'a',\r\n        '\\u00E5': 'a',\r\n        '\\u01FB': 'a',\r\n        '\\u01CE': 'a',\r\n        '\\u0201': 'a',\r\n        '\\u0203': 'a',\r\n        '\\u1EA1': 'a',\r\n        '\\u1EAD': 'a',\r\n        '\\u1EB7': 'a',\r\n        '\\u1E01': 'a',\r\n        '\\u0105': 'a',\r\n        '\\u2C65': 'a',\r\n        '\\u0250': 'a',\r\n        '\\uA733': 'aa',\r\n        '\\u00E6': 'ae',\r\n        '\\u01FD': 'ae',\r\n        '\\u01E3': 'ae',\r\n        '\\uA735': 'ao',\r\n        '\\uA737': 'au',\r\n        '\\uA739': 'av',\r\n        '\\uA73B': 'av',\r\n        '\\uA73D': 'ay',\r\n        '\\u24D1': 'b',\r\n        '\\uFF42': 'b',\r\n        '\\u1E03': 'b',\r\n        '\\u1E05': 'b',\r\n        '\\u1E07': 'b',\r\n        '\\u0180': 'b',\r\n        '\\u0183': 'b',\r\n        '\\u0253': 'b',\r\n        '\\u24D2': 'c',\r\n        '\\uFF43': 'c',\r\n        '\\u0107': 'c',\r\n        '\\u0109': 'c',\r\n        '\\u010B': 'c',\r\n        '\\u010D': 'c',\r\n        '\\u00E7': 'c',\r\n        '\\u1E09': 'c',\r\n        '\\u0188': 'c',\r\n        '\\u023C': 'c',\r\n        '\\uA73F': 'c',\r\n        '\\u2184': 'c',\r\n        '\\u24D3': 'd',\r\n        '\\uFF44': 'd',\r\n        '\\u1E0B': 'd',\r\n        '\\u010F': 'd',\r\n        '\\u1E0D': 'd',\r\n        '\\u1E11': 'd',\r\n        '\\u1E13': 'd',\r\n        '\\u1E0F': 'd',\r\n        '\\u0111': 'd',\r\n        '\\u018C': 'd',\r\n        '\\u0256': 'd',\r\n        '\\u0257': 'd',\r\n        '\\uA77A': 'd',\r\n        '\\u01F3': 'dz',\r\n        '\\u01C6': 'dz',\r\n        '\\u24D4': 'e',\r\n        '\\uFF45': 'e',\r\n        '\\u00E8': 'e',\r\n        '\\u00E9': 'e',\r\n        '\\u00EA': 'e',\r\n        '\\u1EC1': 'e',\r\n        '\\u1EBF': 'e',\r\n        '\\u1EC5': 'e',\r\n        '\\u1EC3': 'e',\r\n        '\\u1EBD': 'e',\r\n        '\\u0113': 'e',\r\n        '\\u1E15': 'e',\r\n        '\\u1E17': 'e',\r\n        '\\u0115': 'e',\r\n        '\\u0117': 'e',\r\n        '\\u00EB': 'e',\r\n        '\\u1EBB': 'e',\r\n        '\\u011B': 'e',\r\n        '\\u0205': 'e',\r\n        '\\u0207': 'e',\r\n        '\\u1EB9': 'e',\r\n        '\\u1EC7': 'e',\r\n        '\\u0229': 'e',\r\n        '\\u1E1D': 'e',\r\n        '\\u0119': 'e',\r\n        '\\u1E19': 'e',\r\n        '\\u1E1B': 'e',\r\n        '\\u0247': 'e',\r\n        '\\u025B': 'e',\r\n        '\\u01DD': 'e',\r\n        '\\u24D5': 'f',\r\n        '\\uFF46': 'f',\r\n        '\\u1E1F': 'f',\r\n        '\\u0192': 'f',\r\n        '\\uA77C': 'f',\r\n        '\\u24D6': 'g',\r\n        '\\uFF47': 'g',\r\n        '\\u01F5': 'g',\r\n        '\\u011D': 'g',\r\n        '\\u1E21': 'g',\r\n        '\\u011F': 'g',\r\n        '\\u0121': 'g',\r\n        '\\u01E7': 'g',\r\n        '\\u0123': 'g',\r\n        '\\u01E5': 'g',\r\n        '\\u0260': 'g',\r\n        '\\uA7A1': 'g',\r\n        '\\u1D79': 'g',\r\n        '\\uA77F': 'g',\r\n        '\\u24D7': 'h',\r\n        '\\uFF48': 'h',\r\n        '\\u0125': 'h',\r\n        '\\u1E23': 'h',\r\n        '\\u1E27': 'h',\r\n        '\\u021F': 'h',\r\n        '\\u1E25': 'h',\r\n        '\\u1E29': 'h',\r\n        '\\u1E2B': 'h',\r\n        '\\u1E96': 'h',\r\n        '\\u0127': 'h',\r\n        '\\u2C68': 'h',\r\n        '\\u2C76': 'h',\r\n        '\\u0265': 'h',\r\n        '\\u0195': 'hv',\r\n        '\\u24D8': 'i',\r\n        '\\uFF49': 'i',\r\n        '\\u00EC': 'i',\r\n        '\\u00ED': 'i',\r\n        '\\u00EE': 'i',\r\n        '\\u0129': 'i',\r\n        '\\u012B': 'i',\r\n        '\\u012D': 'i',\r\n        '\\u00EF': 'i',\r\n        '\\u1E2F': 'i',\r\n        '\\u1EC9': 'i',\r\n        '\\u01D0': 'i',\r\n        '\\u0209': 'i',\r\n        '\\u020B': 'i',\r\n        '\\u1ECB': 'i',\r\n        '\\u012F': 'i',\r\n        '\\u1E2D': 'i',\r\n        '\\u0268': 'i',\r\n        '\\u0131': 'i',\r\n        '\\u24D9': 'j',\r\n        '\\uFF4A': 'j',\r\n        '\\u0135': 'j',\r\n        '\\u01F0': 'j',\r\n        '\\u0249': 'j',\r\n        '\\u24DA': 'k',\r\n        '\\uFF4B': 'k',\r\n        '\\u1E31': 'k',\r\n        '\\u01E9': 'k',\r\n        '\\u1E33': 'k',\r\n        '\\u0137': 'k',\r\n        '\\u1E35': 'k',\r\n        '\\u0199': 'k',\r\n        '\\u2C6A': 'k',\r\n        '\\uA741': 'k',\r\n        '\\uA743': 'k',\r\n        '\\uA745': 'k',\r\n        '\\uA7A3': 'k',\r\n        '\\u24DB': 'l',\r\n        '\\uFF4C': 'l',\r\n        '\\u0140': 'l',\r\n        '\\u013A': 'l',\r\n        '\\u013E': 'l',\r\n        '\\u1E37': 'l',\r\n        '\\u1E39': 'l',\r\n        '\\u013C': 'l',\r\n        '\\u1E3D': 'l',\r\n        '\\u1E3B': 'l',\r\n        '\\u017F': 'l',\r\n        '\\u0142': 'l',\r\n        '\\u019A': 'l',\r\n        '\\u026B': 'l',\r\n        '\\u2C61': 'l',\r\n        '\\uA749': 'l',\r\n        '\\uA781': 'l',\r\n        '\\uA747': 'l',\r\n        '\\u01C9': 'lj',\r\n        '\\u24DC': 'm',\r\n        '\\uFF4D': 'm',\r\n        '\\u1E3F': 'm',\r\n        '\\u1E41': 'm',\r\n        '\\u1E43': 'm',\r\n        '\\u0271': 'm',\r\n        '\\u026F': 'm',\r\n        '\\u24DD': 'n',\r\n        '\\uFF4E': 'n',\r\n        '\\u01F9': 'n',\r\n        '\\u0144': 'n',\r\n        '\\u00F1': 'n',\r\n        '\\u1E45': 'n',\r\n        '\\u0148': 'n',\r\n        '\\u1E47': 'n',\r\n        '\\u0146': 'n',\r\n        '\\u1E4B': 'n',\r\n        '\\u1E49': 'n',\r\n        '\\u019E': 'n',\r\n        '\\u0272': 'n',\r\n        '\\u0149': 'n',\r\n        '\\uA791': 'n',\r\n        '\\uA7A5': 'n',\r\n        '\\u01CC': 'nj',\r\n        '\\u24DE': 'o',\r\n        '\\uFF4F': 'o',\r\n        '\\u00F2': 'o',\r\n        '\\u00F3': 'o',\r\n        '\\u00F4': 'o',\r\n        '\\u1ED3': 'o',\r\n        '\\u1ED1': 'o',\r\n        '\\u1ED7': 'o',\r\n        '\\u1ED5': 'o',\r\n        '\\u00F5': 'o',\r\n        '\\u1E4D': 'o',\r\n        '\\u022D': 'o',\r\n        '\\u1E4F': 'o',\r\n        '\\u014D': 'o',\r\n        '\\u1E51': 'o',\r\n        '\\u1E53': 'o',\r\n        '\\u014F': 'o',\r\n        '\\u022F': 'o',\r\n        '\\u0231': 'o',\r\n        '\\u00F6': 'o',\r\n        '\\u022B': 'o',\r\n        '\\u1ECF': 'o',\r\n        '\\u0151': 'o',\r\n        '\\u01D2': 'o',\r\n        '\\u020D': 'o',\r\n        '\\u020F': 'o',\r\n        '\\u01A1': 'o',\r\n        '\\u1EDD': 'o',\r\n        '\\u1EDB': 'o',\r\n        '\\u1EE1': 'o',\r\n        '\\u1EDF': 'o',\r\n        '\\u1EE3': 'o',\r\n        '\\u1ECD': 'o',\r\n        '\\u1ED9': 'o',\r\n        '\\u01EB': 'o',\r\n        '\\u01ED': 'o',\r\n        '\\u00F8': 'o',\r\n        '\\u01FF': 'o',\r\n        '\\u0254': 'o',\r\n        '\\uA74B': 'o',\r\n        '\\uA74D': 'o',\r\n        '\\u0275': 'o',\r\n        '\\u01A3': 'oi',\r\n        '\\u0223': 'ou',\r\n        '\\uA74F': 'oo',\r\n        '\\u24DF': 'p',\r\n        '\\uFF50': 'p',\r\n        '\\u1E55': 'p',\r\n        '\\u1E57': 'p',\r\n        '\\u01A5': 'p',\r\n        '\\u1D7D': 'p',\r\n        '\\uA751': 'p',\r\n        '\\uA753': 'p',\r\n        '\\uA755': 'p',\r\n        '\\u24E0': 'q',\r\n        '\\uFF51': 'q',\r\n        '\\u024B': 'q',\r\n        '\\uA757': 'q',\r\n        '\\uA759': 'q',\r\n        '\\u24E1': 'r',\r\n        '\\uFF52': 'r',\r\n        '\\u0155': 'r',\r\n        '\\u1E59': 'r',\r\n        '\\u0159': 'r',\r\n        '\\u0211': 'r',\r\n        '\\u0213': 'r',\r\n        '\\u1E5B': 'r',\r\n        '\\u1E5D': 'r',\r\n        '\\u0157': 'r',\r\n        '\\u1E5F': 'r',\r\n        '\\u024D': 'r',\r\n        '\\u027D': 'r',\r\n        '\\uA75B': 'r',\r\n        '\\uA7A7': 'r',\r\n        '\\uA783': 'r',\r\n        '\\u24E2': 's',\r\n        '\\uFF53': 's',\r\n        '\\u00DF': 's',\r\n        '\\u015B': 's',\r\n        '\\u1E65': 's',\r\n        '\\u015D': 's',\r\n        '\\u1E61': 's',\r\n        '\\u0161': 's',\r\n        '\\u1E67': 's',\r\n        '\\u1E63': 's',\r\n        '\\u1E69': 's',\r\n        '\\u0219': 's',\r\n        '\\u015F': 's',\r\n        '\\u023F': 's',\r\n        '\\uA7A9': 's',\r\n        '\\uA785': 's',\r\n        '\\u1E9B': 's',\r\n        '\\u24E3': 't',\r\n        '\\uFF54': 't',\r\n        '\\u1E6B': 't',\r\n        '\\u1E97': 't',\r\n        '\\u0165': 't',\r\n        '\\u1E6D': 't',\r\n        '\\u021B': 't',\r\n        '\\u0163': 't',\r\n        '\\u1E71': 't',\r\n        '\\u1E6F': 't',\r\n        '\\u0167': 't',\r\n        '\\u01AD': 't',\r\n        '\\u0288': 't',\r\n        '\\u2C66': 't',\r\n        '\\uA787': 't',\r\n        '\\uA729': 'tz',\r\n        '\\u24E4': 'u',\r\n        '\\uFF55': 'u',\r\n        '\\u00F9': 'u',\r\n        '\\u00FA': 'u',\r\n        '\\u00FB': 'u',\r\n        '\\u0169': 'u',\r\n        '\\u1E79': 'u',\r\n        '\\u016B': 'u',\r\n        '\\u1E7B': 'u',\r\n        '\\u016D': 'u',\r\n        '\\u00FC': 'u',\r\n        '\\u01DC': 'u',\r\n        '\\u01D8': 'u',\r\n        '\\u01D6': 'u',\r\n        '\\u01DA': 'u',\r\n        '\\u1EE7': 'u',\r\n        '\\u016F': 'u',\r\n        '\\u0171': 'u',\r\n        '\\u01D4': 'u',\r\n        '\\u0215': 'u',\r\n        '\\u0217': 'u',\r\n        '\\u01B0': 'u',\r\n        '\\u1EEB': 'u',\r\n        '\\u1EE9': 'u',\r\n        '\\u1EEF': 'u',\r\n        '\\u1EED': 'u',\r\n        '\\u1EF1': 'u',\r\n        '\\u1EE5': 'u',\r\n        '\\u1E73': 'u',\r\n        '\\u0173': 'u',\r\n        '\\u1E77': 'u',\r\n        '\\u1E75': 'u',\r\n        '\\u0289': 'u',\r\n        '\\u24E5': 'v',\r\n        '\\uFF56': 'v',\r\n        '\\u1E7D': 'v',\r\n        '\\u1E7F': 'v',\r\n        '\\u028B': 'v',\r\n        '\\uA75F': 'v',\r\n        '\\u028C': 'v',\r\n        '\\uA761': 'vy',\r\n        '\\u24E6': 'w',\r\n        '\\uFF57': 'w',\r\n        '\\u1E81': 'w',\r\n        '\\u1E83': 'w',\r\n        '\\u0175': 'w',\r\n        '\\u1E87': 'w',\r\n        '\\u1E85': 'w',\r\n        '\\u1E98': 'w',\r\n        '\\u1E89': 'w',\r\n        '\\u2C73': 'w',\r\n        '\\u24E7': 'x',\r\n        '\\uFF58': 'x',\r\n        '\\u1E8B': 'x',\r\n        '\\u1E8D': 'x',\r\n        '\\u24E8': 'y',\r\n        '\\uFF59': 'y',\r\n        '\\u1EF3': 'y',\r\n        '\\u00FD': 'y',\r\n        '\\u0177': 'y',\r\n        '\\u1EF9': 'y',\r\n        '\\u0233': 'y',\r\n        '\\u1E8F': 'y',\r\n        '\\u00FF': 'y',\r\n        '\\u1EF7': 'y',\r\n        '\\u1E99': 'y',\r\n        '\\u1EF5': 'y',\r\n        '\\u01B4': 'y',\r\n        '\\u024F': 'y',\r\n        '\\u1EFF': 'y',\r\n        '\\u24E9': 'z',\r\n        '\\uFF5A': 'z',\r\n        '\\u017A': 'z',\r\n        '\\u1E91': 'z',\r\n        '\\u017C': 'z',\r\n        '\\u017E': 'z',\r\n        '\\u1E93': 'z',\r\n        '\\u1E95': 'z',\r\n        '\\u01B6': 'z',\r\n        '\\u0225': 'z',\r\n        '\\u0240': 'z',\r\n        '\\u2C6C': 'z',\r\n        '\\uA763': 'z',\r\n        '\\u0386': '\\u0391',\r\n        '\\u0388': '\\u0395',\r\n        '\\u0389': '\\u0397',\r\n        '\\u038A': '\\u0399',\r\n        '\\u03AA': '\\u0399',\r\n        '\\u038C': '\\u039F',\r\n        '\\u038E': '\\u03A5',\r\n        '\\u03AB': '\\u03A5',\r\n        '\\u038F': '\\u03A9',\r\n        '\\u03AC': '\\u03B1',\r\n        '\\u03AD': '\\u03B5',\r\n        '\\u03AE': '\\u03B7',\r\n        '\\u03AF': '\\u03B9',\r\n        '\\u03CA': '\\u03B9',\r\n        '\\u0390': '\\u03B9',\r\n        '\\u03CC': '\\u03BF',\r\n        '\\u03CD': '\\u03C5',\r\n        '\\u03CB': '\\u03C5',\r\n        '\\u03B0': '\\u03C5',\r\n        '\\u03C9': '\\u03C9',\r\n        '\\u03C2': '\\u03C3'\r\n    };\r\n\r\n    static strip(text: string): string {\r\n\r\n        const match = (a: string): string => {\r\n            return this.DIACRITICS[a] || a;\r\n        };\r\n        if (text) {\r\n            return text.replace(/[^\\u0000-\\u007E]/g, match);\r\n        } else {\r\n            return '';\r\n        }\r\n\r\n    }\r\n}\r\n\r\n","import { Option } from './option';\r\nimport { Diacritics } from './diacritics';\r\n\r\nexport class OptionList {\r\n    private _options: Array<Option>;\r\n\r\n    /* Consider using these for performance improvement. */\r\n    // private _selection: Array<Option>;\r\n    // private _filtered: Array<Option>;\r\n    // private _value: Array<string>;\r\n\r\n    private _highlightedOption: Option = null;\r\n    // v0 and v1 are assumed not to be undefined or null.\r\n    static equalValues(v0: Array<string>, v1: Array<string>): boolean {\r\n\r\n        if (v0.length !== v1.length) {\r\n            return false;\r\n        }\r\n\r\n        const a: Array<string> = v0.slice().sort();\r\n        const b: Array<string> = v1.slice().sort();\r\n\r\n        return a.every((v, i) => {\r\n            return v === b[i];\r\n        });\r\n    }\r\n\r\n\r\n    constructor(options: Array<any>) {\r\n\r\n        if (typeof options === 'undefined' || options === null) {\r\n            options = [];\r\n        }\r\n\r\n        this._options = options.map((option) => {\r\n            const o: Option = new Option(option.value, option.label);\r\n            if (option.disabled) {\r\n                o.disable();\r\n            }\r\n            return o;\r\n        });\r\n\r\n        this.highlight();\r\n    }\r\n\r\n    /** Options. **/\r\n\r\n    get options(): Array<Option> {\r\n        return this._options;\r\n    }\r\n\r\n    getOptionsByValue(value: string): Array<Option> {\r\n        return this.options.filter((option) => {\r\n            return option.value === value;\r\n        });\r\n    }\r\n\r\n    /** Value. **/\r\n\r\n    get value(): Array<string> {\r\n        return this.selection.map((selectedOption) => {\r\n            return selectedOption.value;\r\n        });\r\n    }\r\n\r\n    set value(v: Array<string>) {\r\n        v = typeof v === 'undefined' || v === null ? [] : v;\r\n\r\n        this.options.forEach((option) => {\r\n            option.selected = v.indexOf(option.value) > -1;\r\n        });\r\n    }\r\n\r\n    /** Selection. **/\r\n\r\n    get selection(): Array<Option> {\r\n        return this.options.filter((option) => {\r\n            return option.selected;\r\n        });\r\n    }\r\n\r\n    select(option: Option, multiple: boolean) {\r\n        if (!multiple) {\r\n            this.clearSelection();\r\n        }\r\n        option.selected = true;\r\n    }\r\n\r\n    deselect(option: Option) {\r\n        option.selected = false;\r\n    }\r\n\r\n    clearSelection() {\r\n        this.options.forEach((option) => {\r\n            option.selected = false;\r\n        });\r\n    }\r\n\r\n    /** Filter. **/\r\n\r\n    get filtered(): Array<Option> {\r\n        return this.options.filter((option) => {\r\n            return option.shown;\r\n        });\r\n    }\r\n\r\n    filter(term: string) {\r\n\r\n        if (term.trim() === '') {\r\n            this.resetFilter();\r\n        } else {\r\n            this.options.forEach((option) => {\r\n                const l: string = Diacritics.strip(option.label).toUpperCase();\r\n                const t: string = Diacritics.strip(term).toUpperCase();\r\n                option.shown = l.indexOf(t) > -1;\r\n            });\r\n        }\r\n\r\n        this.highlight();\r\n    }\r\n\r\n    resetFilter() {\r\n        this.options.forEach((option) => {\r\n            option.shown = true;\r\n        });\r\n    }\r\n\r\n    /** Highlight. **/\r\n\r\n    get highlightedOption(): Option {\r\n        return this._highlightedOption;\r\n    }\r\n\r\n    highlight() {\r\n        const option: Option = this.hasShownSelected() ?\r\n            this.getFirstShownSelected() : this.getFirstShown();\r\n        this.highlightOption(option);\r\n    }\r\n\r\n    highlightOption(option: Option) {\r\n        this.clearHighlightedOption();\r\n\r\n        if (option !== null) {\r\n            option.highlighted = true;\r\n            this._highlightedOption = option;\r\n        }\r\n    }\r\n\r\n    highlightNextOption() {\r\n        const shownOptions = this.filtered;\r\n        const index = this.getHighlightedIndexFromList(shownOptions);\r\n\r\n        if (index > -1 && index < shownOptions.length - 1) {\r\n            this.highlightOption(shownOptions[index + 1]);\r\n        }\r\n    }\r\n\r\n    highlightPreviousOption() {\r\n        const shownOptions = this.filtered;\r\n        const index = this.getHighlightedIndexFromList(shownOptions);\r\n\r\n        if (index > 0) {\r\n            this.highlightOption(shownOptions[index - 1]);\r\n        }\r\n    }\r\n\r\n    private clearHighlightedOption() {\r\n        if (this.highlightedOption !== null) {\r\n            this.highlightedOption.highlighted = false;\r\n            this._highlightedOption = null;\r\n        }\r\n    }\r\n\r\n    private getHighlightedIndexFromList(options: Array<Option>) {\r\n        for (let i = 0; i < options.length; i++) {\r\n            if (options[i].highlighted) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getHighlightedIndex() {\r\n        return this.getHighlightedIndexFromList(this.filtered);\r\n    }\r\n\r\n    /** Util. **/\r\n\r\n    hasShown() {\r\n        return this.options.some((option) => {\r\n            return option.shown;\r\n        });\r\n    }\r\n\r\n    hasSelected() {\r\n        return this.options.some((option) => {\r\n            return option.selected;\r\n        });\r\n    }\r\n\r\n    hasShownSelected() {\r\n        return this.options.some((option) => {\r\n            return option.shown && option.selected;\r\n        });\r\n    }\r\n\r\n    private getFirstShown(): Option {\r\n        for (const option of this.options) {\r\n            if (option.shown) {\r\n                return option;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private getFirstShownSelected(): Option {\r\n        for (const option of this.options) {\r\n            if (option.shown && option.selected) {\r\n                return option;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n}\r\n","import {\r\n    AfterViewInit,\r\n    Component,\r\n    Input,\r\n    OnChanges,\r\n    OnInit,\r\n    Output,\r\n    EventEmitter,\r\n    ExistingProvider,\r\n    ViewChild,\r\n    ViewEncapsulation,\r\n    forwardRef\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\nimport { STYLE } from './select.component.style';\r\nimport { SelectDropdownComponent } from './select-dropdown.component';\r\nimport { Option } from './option';\r\nimport { OptionList } from './option-list';\r\n\r\nexport const SELECT_VALUE_ACCESSOR: ExistingProvider = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => SelectComponent),\r\n    multi: true\r\n};\r\n\r\n@Component({\r\n    selector: 'ng-select',\r\n    template: `<div\r\n    #selection\r\n    [attr.tabindex]=\"disabled ? null : 0\"\r\n    [ngClass]=\"{'open': isOpen, 'focus': hasFocus, 'below': isBelow, 'disabled': disabled}\"\r\n    (click)=\"onSelectContainerClick($event)\"\r\n    (focus)=\"onSelectContainerFocus()\"\r\n    (keydown)=\"onSelectContainerKeydown($event)\"\r\n    (window:click)=\"onWindowClick()\"\r\n    (window:resize)=\"onWindowResize()\">\r\n\r\n    <div class=\"single\"\r\n        *ngIf=\"!multiple\">\r\n        <div class=\"value\"\r\n            *ngIf=\"optionList.hasSelected()\">\r\n            {{optionList.selection[0].label}}\r\n        </div>\r\n        <div class=\"placeholder\"\r\n            *ngIf=\"!optionList.hasSelected()\">\r\n            {{placeholderView}}\r\n        </div>\r\n        <div class=\"clear\"\r\n            *ngIf=\"allowClear\"\r\n            (click)=\"onClearSelectionClick($event)\">\r\n            &#x2715;\r\n        </div>\r\n        <div class=\"toggle\"\r\n            *ngIf=\"isOpen\">\r\n            &#x25B2;\r\n        </div>\r\n        <div class=\"toggle\"\r\n            *ngIf=\"!isOpen\">\r\n            &#x25BC;\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"multiple\"\r\n        *ngIf=\"multiple\">\r\n        <div class=\"option\"\r\n            *ngFor=\"let option of optionList.selection\">\r\n            <span class=\"deselect-option\"\r\n                (click)=onDeselectOptionClick(option)>\r\n                &#x2715;\r\n            </span>\r\n            {{option.label}}\r\n        </div>\r\n        <input\r\n            *ngIf=\"filterEnabled\"\r\n            #filterInput\r\n            tabindex=\"-1\"\r\n            [placeholder]=\"placeholderView\"\r\n            [ngStyle]=\"{'width.px': filterInputWidth}\"\r\n            (input)=\"onMultipleFilterInput($event)\"\r\n            (keydown)=\"onMultipleFilterKeydown($event)\"/>\r\n    </div>\r\n\r\n</div>\r\n<select-dropdown\r\n    *ngIf=\"isOpen\"\r\n    #dropdown\r\n    [multiple]=\"multiple\"\r\n    [optionList]=\"optionList\"\r\n    [notFoundMsg]=\"notFoundMsg\"\r\n    [highlightColor]=\"highlightColor\"\r\n    [highlightTextColor]=\"highlightTextColor\"\r\n    [filterEnabled]=\"filterEnabled\"\r\n    [width]=\"width\"\r\n    [top]=\"top\"\r\n    [left]=\"left\"\r\n    (close)=\"onDropdownClose($event)\"\r\n    (optionClicked)=\"onDropdownOptionClicked($event)\"\r\n    (singleFilterClick)=\"onSingleFilterClick()\"\r\n    (singleFilterInput)=\"onSingleFilterInput($event)\"\r\n    (singleFilterKeydown)=\"onSingleFilterKeydown($event)\">\r\n</select-dropdown>\r\n`,\r\n    styles: [STYLE],\r\n    providers: [SELECT_VALUE_ACCESSOR],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class SelectComponent\r\n    implements AfterViewInit, ControlValueAccessor, OnChanges, OnInit {\r\n    /** Keys. **/\r\n\r\n    private KEYS: any = {\r\n        BACKSPACE: 8,\r\n        TAB: 9,\r\n        ENTER: 13,\r\n        ESC: 27,\r\n        SPACE: 32,\r\n        UP: 38,\r\n        DOWN: 40\r\n    };\r\n\r\n    @Input() options: Array<any>;\r\n\r\n    @Input() allowClear = false;\r\n    @Input() disabled = false;\r\n    @Input() highlightColor = '#2196f3';\r\n    @Input() highlightTextColor = '#fff';\r\n    @Input() multiple = false;\r\n    @Input() noFilter = 0;\r\n    @Input() notFoundMsg = 'No results found';\r\n    @Input() placeholder = '';\r\n\r\n    @Output() opened: EventEmitter<null> = new EventEmitter<null>();\r\n    @Output() closed: EventEmitter<null> = new EventEmitter<null>();\r\n    @Output() selected: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() deselected: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() typed: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n\r\n    @ViewChild('selection') selectionSpan: any;\r\n    @ViewChild('dropdown') dropdown: SelectDropdownComponent;\r\n    @ViewChild('filterInput') filterInput: any;\r\n\r\n    private _value: Array<any> = [];\r\n    optionList: OptionList;\r\n\r\n    // Selection state variables.\r\n    hasSelected = false;\r\n\r\n    // View state variables.\r\n    filterEnabled = true;\r\n    filterInputWidth = 1;\r\n    hasFocus = false;\r\n    isBelow = true;\r\n    isDisabled = false;\r\n    isOpen = false;\r\n    placeholderView = '';\r\n\r\n    clearClicked = false;\r\n    selectContainerClicked = false;\r\n\r\n    // Width and position for the dropdown container.\r\n    width: number;\r\n    top: number;\r\n    left: number;\r\n\r\n    private onChange = (_: any) => { };\r\n    private onTouched = () => { };\r\n\r\n    /** Event handlers. **/\r\n\r\n    // Angular lifecycle hooks.\r\n\r\n    ngOnInit() {\r\n        this.placeholderView = this.placeholder;\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.updateFilterWidth();\r\n    }\r\n\r\n    ngOnChanges(changes: any) {\r\n        if (changes.hasOwnProperty('options')) {\r\n            this.updateOptionsList(changes['options'].isFirstChange());\r\n        }\r\n        if (changes.hasOwnProperty('noFilter')) {\r\n            const numOptions: number = this.optionList.options.length;\r\n            const minNumOptions: number = changes['noFilter'].currentValue;\r\n            this.filterEnabled = numOptions >= minNumOptions;\r\n        }\r\n    }\r\n\r\n    // Window.\r\n\r\n    onWindowClick() {\r\n        if (!this.selectContainerClicked) {\r\n            this.closeDropdown();\r\n        }\r\n        this.clearClicked = false;\r\n        this.selectContainerClicked = false;\r\n    }\r\n\r\n    onWindowResize() {\r\n        this.updateWidth();\r\n    }\r\n\r\n    // Select container.\r\n\r\n    onSelectContainerClick(event: any) {\r\n        this.selectContainerClicked = true;\r\n        if (!this.clearClicked) {\r\n            this.toggleDropdown();\r\n        }\r\n    }\r\n\r\n    onSelectContainerFocus() {\r\n        this.onTouched();\r\n    }\r\n\r\n    onSelectContainerKeydown(event: any) {\r\n        this.handleSelectContainerKeydown(event);\r\n    }\r\n\r\n    // Dropdown container.\r\n\r\n    onDropdownOptionClicked(option: Option) {\r\n        this.multiple ?\r\n            this.toggleSelectOption(option) : this.selectOption(option);\r\n    }\r\n\r\n    onDropdownClose(focus: any) {\r\n        this.closeDropdown(focus);\r\n    }\r\n\r\n    // Single filter input.\r\n\r\n    onSingleFilterClick() {\r\n        this.selectContainerClicked = true;\r\n    }\r\n\r\n    onSingleFilterInput(term: string) {\r\n        setTimeout(() => {\r\n            if (term.length > 2) {\r\n                this.typed.emit(term);\r\n            }\r\n        }, 500);\r\n        this.optionList.filter(term);\r\n    }\r\n\r\n    onSingleFilterKeydown(event: any) {\r\n        this.handleSingleFilterKeydown(event);\r\n    }\r\n\r\n    // Multiple filter input.\r\n\r\n    onMultipleFilterInput(event: any) {\r\n        if (!this.isOpen) {\r\n            this.openDropdown();\r\n        }\r\n        this.updateFilterWidth();\r\n        setTimeout(() => {\r\n            this.optionList.filter(event.target.value);\r\n        });\r\n    }\r\n\r\n    onMultipleFilterKeydown(event: any) {\r\n        this.handleMultipleFilterKeydown(event);\r\n    }\r\n\r\n    // Single clear select.\r\n\r\n    onClearSelectionClick(event: any) {\r\n        this.clearClicked = true;\r\n        this.clearSelection();\r\n        this.closeDropdown(true);\r\n    }\r\n\r\n    // Multiple deselect option.\r\n\r\n    onDeselectOptionClick(option: Option) {\r\n        this.clearClicked = true;\r\n        this.deselectOption(option);\r\n    }\r\n\r\n    /** API. **/\r\n\r\n    // TODO fix issues with global click/key handler that closes the dropdown.\r\n    open() {\r\n        this.openDropdown();\r\n    }\r\n\r\n    close() {\r\n        this.closeDropdown();\r\n    }\r\n\r\n    clear() {\r\n        this.clearSelection();\r\n    }\r\n\r\n    select(value: string) {\r\n        this.optionList.getOptionsByValue(value).forEach((option) => {\r\n            this.selectOption(option);\r\n        });\r\n        this.valueChanged();\r\n    }\r\n\r\n    /** ControlValueAccessor interface methods. **/\r\n\r\n    writeValue(value: any) {\r\n        this.value = value;\r\n    }\r\n\r\n    registerOnChange(fn: (_: any) => void) {\r\n        this.onChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: () => void) {\r\n        this.onTouched = fn;\r\n    }\r\n\r\n    setDisabledState(isDisabled: boolean) {\r\n        this.disabled = isDisabled;\r\n    }\r\n\r\n    /** Value. **/\r\n\r\n    get value(): any {\r\n        if (this._value.length === 0) {\r\n            return '';\r\n        } else {\r\n            return this.multiple ? this._value : this._value[0];\r\n        }\r\n    }\r\n\r\n    set value(v: any) {\r\n        if (typeof v === 'undefined' || v === null || v === '') {\r\n            v = [];\r\n        } else if (typeof v === 'string') {\r\n            v = [v];\r\n        } else if (!Array.isArray(v)) {\r\n            throw new TypeError('Value must be a string or an array.');\r\n        }\r\n\r\n        if (!OptionList.equalValues(v, this._value)) {\r\n            this.optionList.value = v;\r\n            this.valueChanged();\r\n        }\r\n    }\r\n\r\n    private valueChanged() {\r\n        this._value = this.optionList.value;\r\n\r\n        this.hasSelected = this._value.length > 0;\r\n        this.placeholderView = this.hasSelected ? '' : this.placeholder;\r\n        this.updateFilterWidth();\r\n\r\n        this.onChange(this.value);\r\n    }\r\n\r\n    /** Initialization. **/\r\n\r\n    private updateOptionsList(firstTime: boolean) {\r\n        let v: Array<string>;\r\n\r\n        if (!firstTime) {\r\n            v = this.optionList.value;\r\n        }\r\n\r\n        this.optionList = new OptionList(this.options);\r\n\r\n        if (!firstTime) {\r\n            this.optionList.value = v;\r\n            this.valueChanged();\r\n        }\r\n    }\r\n\r\n    /** Dropdown. **/\r\n\r\n    private toggleDropdown() {\r\n        if (!this.isDisabled) {\r\n            this.isOpen ? this.closeDropdown(true) : this.openDropdown();\r\n        }\r\n    }\r\n\r\n    private openDropdown() {\r\n        if (!this.isOpen) {\r\n            this.updateWidth();\r\n            this.updatePosition();\r\n            this.isOpen = true;\r\n            if (this.multiple && this.filterEnabled) {\r\n                this.filterInput.nativeElement.focus();\r\n            }\r\n            this.opened.emit(null);\r\n        }\r\n    }\r\n    /* tslint:disable */\r\n    private closeDropdown(focus: boolean = false) {\r\n        if (this.isOpen) {\r\n            this.clearFilterInput();\r\n            this.isOpen = false;\r\n            if (focus) {\r\n                this.focus();\r\n            }\r\n            this.closed.emit(null);\r\n        }\r\n    }\r\n    /* tslint:enable */\r\n    /** Select. **/\r\n\r\n    private selectOption(option: Option) {\r\n        if (!option.selected) {\r\n            this.optionList.select(option, this.multiple);\r\n            this.valueChanged();\r\n            this.selected.emit(option.undecoratedCopy());\r\n            // Is this not allready done when setting the value??\r\n            /*setTimeout(() => {\r\n                if (this.multiple) {\r\n                    this.updateFilterWidth();\r\n                }\r\n            });*/\r\n        }\r\n    }\r\n\r\n    private deselectOption(option: Option) {\r\n        if (option.selected) {\r\n            this.optionList.deselect(option);\r\n            this.valueChanged();\r\n            this.deselected.emit(option.undecoratedCopy());\r\n            setTimeout(() => {\r\n                if (this.multiple) {\r\n                    // this.updateFilterWidth();\r\n                    this.updatePosition();\r\n                    this.optionList.highlight();\r\n                    if (this.isOpen) {\r\n                        this.dropdown.moveHighlightedIntoView();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private clearSelection() {\r\n        const selection: Array<Option> = this.optionList.selection;\r\n        if (selection.length > 0) {\r\n            this.optionList.clearSelection();\r\n            this.valueChanged();\r\n\r\n            if (selection.length === 1) {\r\n                this.deselected.emit(selection[0].undecoratedCopy());\r\n            } else {\r\n                this.deselected.emit(selection.map((option) => {\r\n                    return option.undecoratedCopy();\r\n                }));\r\n            }\r\n        }\r\n    }\r\n\r\n    private toggleSelectOption(option: Option) {\r\n        option.selected ?\r\n            this.deselectOption(option) : this.selectOption(option);\r\n    }\r\n\r\n    private selectHighlightedOption() {\r\n        const option: Option = this.optionList.highlightedOption;\r\n        if (option !== null) {\r\n            this.selectOption(option);\r\n            this.closeDropdown(true);\r\n        }\r\n    }\r\n\r\n    private deselectLast() {\r\n        const sel: Array<Option> = this.optionList.selection;\r\n\r\n        if (sel.length > 0) {\r\n            const option: Option = sel[sel.length - 1];\r\n            this.deselectOption(option);\r\n            this.setMultipleFilterInput(option.label + ' ');\r\n        }\r\n    }\r\n\r\n    /** Filter. **/\r\n\r\n    private clearFilterInput() {\r\n        if (this.multiple && this.filterEnabled) {\r\n            this.filterInput.nativeElement.value = '';\r\n        } else {\r\n            this.dropdown.clearFilterInput();\r\n        }\r\n    }\r\n\r\n    private setMultipleFilterInput(value: string) {\r\n        if (this.filterEnabled) {\r\n            this.filterInput.nativeElement.value = value;\r\n        }\r\n    }\r\n\r\n\r\n    private handleSelectContainerKeydown(event: any) {\r\n        const key = event.which;\r\n\r\n        if (this.isOpen) {\r\n            if (key === this.KEYS.ESC ||\r\n                (key === this.KEYS.UP && event.altKey)) {\r\n                this.closeDropdown(true);\r\n            } else if (key === this.KEYS.TAB) {\r\n                this.closeDropdown();\r\n            } else if (key === this.KEYS.ENTER) {\r\n                this.selectHighlightedOption();\r\n            } else if (key === this.KEYS.UP) {\r\n                this.optionList.highlightPreviousOption();\r\n                this.dropdown.moveHighlightedIntoView();\r\n                if (!this.filterEnabled) {\r\n                    event.preventDefault();\r\n                }\r\n            } else if (key === this.KEYS.DOWN) {\r\n                this.optionList.highlightNextOption();\r\n                this.dropdown.moveHighlightedIntoView();\r\n                if (!this.filterEnabled) {\r\n                    event.preventDefault();\r\n                }\r\n            }\r\n        } else {\r\n            if (key === this.KEYS.ENTER || key === this.KEYS.SPACE ||\r\n                (key === this.KEYS.DOWN && event.altKey)) {\r\n\r\n                /* FIREFOX HACK:\r\n                 *\r\n                 * The setTimeout is added to prevent the enter keydown event\r\n                 * to be triggered for the filter input field, which causes\r\n                 * the dropdown to be closed again.\r\n                 */\r\n                setTimeout(() => { this.openDropdown(); });\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private handleMultipleFilterKeydown(event: any) {\r\n        const key = event.which;\r\n\r\n        if (key === this.KEYS.BACKSPACE) {\r\n            if (this.hasSelected && this.filterEnabled &&\r\n                this.filterInput.nativeElement.value === '') {\r\n                this.deselectLast();\r\n            }\r\n        }\r\n    }\r\n\r\n    private handleSingleFilterKeydown(event: any) {\r\n        const key = event.which;\r\n\r\n        if (key === this.KEYS.ESC || key === this.KEYS.TAB\r\n            || key === this.KEYS.UP || key === this.KEYS.DOWN\r\n            || key === this.KEYS.ENTER) {\r\n            this.handleSelectContainerKeydown(event);\r\n        }\r\n    }\r\n\r\n    /** View. **/\r\n\r\n    focus() {\r\n        this.hasFocus = true;\r\n        if (this.multiple && this.filterEnabled) {\r\n            this.filterInput.nativeElement.focus();\r\n        } else {\r\n            this.selectionSpan.nativeElement.focus();\r\n        }\r\n    }\r\n\r\n    blur() {\r\n        this.hasFocus = false;\r\n        this.selectionSpan.nativeElement.blur();\r\n    }\r\n\r\n    updateWidth() {\r\n        this.width = this.selectionSpan.nativeElement.offsetWidth;\r\n    }\r\n\r\n    updatePosition() {\r\n        const e = this.selectionSpan.nativeElement;\r\n        this.left = e.offsetLeft;\r\n        this.top = e.offsetTop + e.offsetHeight;\r\n    }\r\n\r\n    updateFilterWidth() {\r\n        if (typeof this.filterInput !== 'undefined') {\r\n            const value: string = this.filterInput.nativeElement.value;\r\n            this.filterInputWidth = value.length === 0 ?\r\n                1 + this.placeholderView.length * 10 : 1 + value.length * 10;\r\n        }\r\n    }\r\n}\r\n","export const STYLE = `select-dropdown {\r\n  box-sizing: border-box;\r\n  font-family: Sans-Serif;\r\n}\r\nselect-dropdown * {\r\n  box-sizing: border-box;\r\n  font-family: Sans-Serif;\r\n}\r\nselect-dropdown > div {\r\n  background-color: #fff;\r\n  border: 1px solid #ccc;\r\n  border-top: none;\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  z-index: 1;\r\n}\r\nselect-dropdown > div .filter {\r\n  padding: 3px;\r\n  width: 100%;\r\n}\r\nselect-dropdown > div .filter input {\r\n  border: 1px solid #eee;\r\n  box-sizing: border-box;\r\n  padding: 4px;\r\n  width: 100%;\r\n}\r\nselect-dropdown > div .options {\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\nselect-dropdown > div .options ul {\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\nselect-dropdown > div .options ul li {\r\n  padding: 4px 8px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n}\r\nselect-dropdown .selected {\r\n  background-color: #e0e0e0;\r\n}\r\nselect-dropdown .selected.highlighted {\r\n  background-color: #2196F3;\r\n  color: #fff;\r\n}\r\nselect-dropdown .highlighted {\r\n  background-color: #2196F3;\r\n  color: #fff;\r\n}\r\nselect-dropdown .disabled {\r\n  background-color: #fff;\r\n  color: #9e9e9e;\r\n  cursor: default;\r\n  pointer-events: none;\r\n}`;\r\n","import {\r\n    AfterViewInit,\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    OnInit,\r\n    Output,\r\n    ViewChild,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { STYLE } from './select-dropdown.component.style';\r\nimport { Option } from './option';\r\nimport { OptionList } from './option-list';\r\n\r\n@Component({\r\n    selector: 'select-dropdown',\r\n    template: `<div\r\n    [ngStyle]=\"{'top.px': top, 'left.px': left, 'width.px': width}\">\r\n\r\n    <div class=\"filter\"\r\n        *ngIf=\"!multiple\">\r\n        <input\r\n            *ngIf=\"filterEnabled\"\r\n            #filterInput\r\n            (click)=\"onSingleFilterClick($event)\"\r\n            (input)=\"onSingleFilterInput($event)\"\r\n            (keydown)=\"onSingleFilterKeydown($event)\">\r\n    </div>\r\n\r\n    <div class=\"options\"\r\n        #optionsList>\r\n        <ul\r\n            (wheel)=\"onOptionsWheel($event)\">\r\n            <li *ngFor=\"let option of optionList.filtered\"\r\n                [ngClass]=\"{'highlighted': option.highlighted, 'selected': option.selected, 'disabled': option.disabled}\"\r\n                [ngStyle]=\"getOptionStyle(option)\"\r\n                (click)=\"onOptionClick(option)\"\r\n                (mouseover)=\"onOptionMouseover(option)\">\r\n                {{option.label}}\r\n            </li>\r\n            <li\r\n                *ngIf=\"!optionList.hasShown()\"\r\n                class=\"message\">\r\n                {{notFoundMsg}}\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n`,\r\n    styles: [STYLE],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class SelectDropdownComponent\r\n    implements AfterViewInit, OnChanges, OnInit {\r\n\r\n    @Input() filterEnabled: boolean;\r\n    @Input() highlightColor: string;\r\n    @Input() highlightTextColor: string;\r\n    @Input() left: number;\r\n    @Input() multiple: boolean;\r\n    @Input() notFoundMsg: string;\r\n    @Input() optionList: OptionList;\r\n    @Input() top: number;\r\n    @Input() width: number;\r\n\r\n    @Output() close = new EventEmitter<boolean>();\r\n    @Output() optionClicked = new EventEmitter<Option>();\r\n    @Output() singleFilterClick = new EventEmitter<null>();\r\n    @Output() singleFilterInput = new EventEmitter<string>();\r\n    @Output() singleFilterKeydown = new EventEmitter<any>();\r\n\r\n    @ViewChild('filterInput') filterInput: any;\r\n    @ViewChild('optionsList') optionsList: any;\r\n\r\n    disabledColor = '#fff';\r\n    disabledTextColor = '9e9e9e';\r\n\r\n    /** Event handlers. **/\r\n\r\n    // Angular life cycle hooks.\r\n\r\n    ngOnInit() {\r\n        this.optionsReset();\r\n    }\r\n\r\n    ngOnChanges(changes: any) {\r\n        if (changes.hasOwnProperty('optionList')) {\r\n            this.optionsReset();\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.moveHighlightedIntoView();\r\n        if (!this.multiple && this.filterEnabled) {\r\n            this.filterInput.nativeElement.focus();\r\n        }\r\n    }\r\n\r\n    // Filter input (single select).\r\n\r\n    onSingleFilterClick(event: any) {\r\n        this.singleFilterClick.emit(null);\r\n    }\r\n\r\n    onSingleFilterInput(event: any) {\r\n        this.singleFilterInput.emit(event.target.value);\r\n    }\r\n\r\n    onSingleFilterKeydown(event: any) {\r\n        this.singleFilterKeydown.emit(event);\r\n    }\r\n\r\n    // Options list.\r\n\r\n    onOptionsWheel(event: any) {\r\n        this.handleOptionsWheel(event);\r\n    }\r\n\r\n    onOptionMouseover(option: Option) {\r\n        this.optionList.highlightOption(option);\r\n    }\r\n\r\n    onOptionClick(option: Option) {\r\n        this.optionClicked.emit(option);\r\n    }\r\n\r\n    /** Initialization. **/\r\n\r\n    private optionsReset() {\r\n        this.optionList.resetFilter();\r\n        this.optionList.highlight();\r\n    }\r\n\r\n    /** View. **/\r\n\r\n    getOptionStyle(option: Option): any {\r\n        if (option.highlighted) {\r\n            return {\r\n                'background-color': this.highlightColor,\r\n                'color': this.highlightTextColor\r\n            };\r\n        } else {\r\n            return {};\r\n        }\r\n    }\r\n\r\n    clearFilterInput() {\r\n        if (this.filterEnabled) {\r\n            this.filterInput.nativeElement.value = '';\r\n        }\r\n    }\r\n\r\n    moveHighlightedIntoView() {\r\n\r\n        const list = this.optionsList.nativeElement;\r\n        const listHeight = list.offsetHeight;\r\n\r\n        const itemIndex = this.optionList.getHighlightedIndex();\r\n\r\n        if (itemIndex > -1) {\r\n            const item = list.children[0].children[itemIndex];\r\n            const itemHeight = item.offsetHeight;\r\n\r\n            const itemTop = itemIndex * itemHeight;\r\n            const itemBottom = itemTop + itemHeight;\r\n\r\n            const viewTop = list.scrollTop;\r\n            const viewBottom = viewTop + listHeight;\r\n\r\n            if (itemBottom > viewBottom) {\r\n                list.scrollTop = itemBottom - listHeight;\r\n            } else if (itemTop < viewTop) {\r\n                list.scrollTop = itemTop;\r\n            }\r\n        }\r\n    }\r\n\r\n    private handleOptionsWheel(e: any) {\r\n        const div = this.optionsList.nativeElement;\r\n        const atTop = div.scrollTop === 0;\r\n        const atBottom = div.offsetHeight + div.scrollTop === div.scrollHeight;\r\n\r\n        if (atTop && e.deltaY < 0) {\r\n            e.preventDefault();\r\n        } else if (atBottom && e.deltaY > 0) {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\n\r\nimport {SelectComponent} from './select.component';\r\nimport {SelectDropdownComponent} from './select-dropdown.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        SelectComponent,\r\n        SelectDropdownComponent\r\n    ],\r\n    exports: [\r\n        SelectComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule\r\n    ]\r\n})\r\nexport class SelectModule {}\r\n","\r\nimport {\r\n    Pipe,\r\n    PipeTransform,\r\n    OnDestroy,\r\n    WrappedValue,\r\n    ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { of } from 'rxjs';\r\n\r\nimport { Subscription } from 'rxjs';\r\nimport { Observable } from 'rxjs';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n\r\nimport { DomSanitizer} from '@angular/platform-browser';\r\n// import { FileUploadResourceService } from '../../etl-api/file-upload-resource.service';\r\n\r\n// Using similarity from AsyncPipe to avoid having to pipe |secure|async in HTML.\r\n// tslint:disable-next-line:use-pipe-transform-interface\r\n@Pipe({\r\n    name: 'secure',\r\n    pure: false\r\n})\r\nexport class SecurePipe implements PipeTransform, OnDestroy {\r\n    private _latestValue: any = null;\r\n    private _latestReturnedValue: any = null;\r\n    private _subscription: Subscription = null;\r\n    private _obj: Observable<any> = null;\r\n    private getfile;\r\n    private previousUrl: string;\r\n    private _result: BehaviorSubject<any> = new BehaviorSubject(null);\r\n    private result: Observable<any> = this._result.asObservable();\r\n    private _internalSubscription: Subscription = null;\r\n\r\n    constructor(\r\n        private _ref: ChangeDetectorRef,\r\n        private sanitizer: DomSanitizer\r\n    ) { }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this._subscription) {\r\n            this._dispose();\r\n        }\r\n    }\r\n\r\n    transform(url: string, getfile): any {\r\n        this.getfile = getfile;\r\n        const obj = this.internalTransform(url);\r\n        return this.asyncTrasnform(obj);\r\n    }\r\n\r\n    private internalTransform(url: string): Observable<any> {\r\n        if (!url) {\r\n            return this.result;\r\n        }\r\n\r\n        if (this.previousUrl !== url) {\r\n            this.previousUrl = url;\r\n            this._internalSubscription = this.getfile(url)\r\n                .subscribe(m => {\r\n                    const sanitized = this.sanitizer.bypassSecurityTrustUrl(m);\r\n                    this._result.next(sanitized);\r\n                });\r\n        }\r\n\r\n        return this.result;\r\n    }\r\n\r\n    private asyncTrasnform(obj: Observable<any>): any {\r\n        if (!this._obj) {\r\n            if (obj) {\r\n                this._subscribe(obj);\r\n            }\r\n            this._latestReturnedValue = this._latestValue;\r\n            return this._latestValue;\r\n        }\r\n        if (obj !== this._obj) {\r\n            this._dispose();\r\n            return this.asyncTrasnform(obj);\r\n        }\r\n        if (this._latestValue === this._latestReturnedValue) {\r\n            return this._latestReturnedValue;\r\n        }\r\n        this._latestReturnedValue = this._latestValue;\r\n        return WrappedValue.wrap(this._latestValue);\r\n    }\r\n\r\n    private _subscribe(obj: Observable<any>) {\r\n        const _this = this;\r\n        this._obj = obj;\r\n\r\n        this._subscription = obj.subscribe({\r\n            next: function (value) {\r\n                return _this._updateLatestValue(obj, value);\r\n            }, error: (e: any) => { throw e; }\r\n        });\r\n    }\r\n\r\n    private _dispose() {\r\n        if (this._subscription) {\r\n            this._subscription.unsubscribe();\r\n        }\r\n        if (this._internalSubscription) {\r\n            this._internalSubscription.unsubscribe();\r\n        }\r\n\r\n        this._internalSubscription = null;\r\n        this._latestValue = null;\r\n        this._latestReturnedValue = null;\r\n        this._subscription = null;\r\n        this._obj = null;\r\n    }\r\n\r\n    private _updateLatestValue(async: any, value: Object) {\r\n        if (async === this._obj) {\r\n            this._latestValue = value;\r\n            this._ref.markForCheck();\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SecurePipe } from './components/file-upload/secure.pipe';\r\nimport { DataSources } from './form-entry/data-sources/data-sources';\r\n@NgModule({\r\n    declarations: [\r\n        SecurePipe\r\n    ],\r\n    imports: [ CommonModule ],\r\n    exports: [\r\n        SecurePipe\r\n    ],\r\n    providers: [\r\n        DataSources\r\n    ],\r\n})\r\nexport class SharedModule {}\r\n","import { Component, OnInit, Input, forwardRef, Renderer2 } from '@angular/core';\r\nimport {\r\n    ControlValueAccessor,\r\n    NG_VALUE_ACCESSOR\r\n} from '@angular/forms';\r\nimport { DataSource } from '../../form-entry/question-models/interfaces/data-source';\r\n@Component({\r\n    selector: 'remote-file-upload',\r\n    template: `<div>\r\n    <file-uploader [(ngModel)]=\"innerValue\" (onClear)=\"clearValue()\" (fileChanged)=\"upload($event)\">\r\n    </file-uploader>\r\n    <img *ngIf=\"innerValue\" class=\"img-responsive\" [src]=\"innerValue | secure:this.dataSource.fetchFile\" alt=\"\" />\r\n</div>`,\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => RemoteFileUploadComponent),\r\n            multi: true,\r\n        }],\r\n    styles: [`img {\r\n        margin-left: auto;margin-right: auto;display: block;\r\n    }`\r\n    ]\r\n})\r\nexport class RemoteFileUploadComponent implements OnInit, ControlValueAccessor {\r\n    uploading = false;\r\n    innerValue = null;\r\n    private _dataSource: DataSource;\r\n    @Input()\r\n    public get dataSource(): DataSource {\r\n        return this._dataSource;\r\n    }\r\n    public set dataSource(v: DataSource) {\r\n        this._dataSource = v;\r\n    }\r\n\r\n\r\n    constructor(private renderer: Renderer2) { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n    upload(data) {\r\n        if (this.dataSource) {\r\n            this.uploading = true;\r\n            this.dataSource.fileUpload(data).subscribe((result) => {\r\n                // console.log('Result', result);\r\n                this.innerValue = result.image;\r\n                this.propagateChange(this.innerValue);\r\n                this.uploading = false;\r\n            }, (error) => {\r\n                this.uploading = false;\r\n            });\r\n        }\r\n    }\r\n\r\n    // this is the initial value set to the component\r\n    public writeValue(value: any) {\r\n        if (value !== this.innerValue) {\r\n            this.innerValue = value;\r\n        }\r\n    }\r\n    // registers 'fn' that will be fired when changes are made\r\n    // this is how we emit the changes back to the form\r\n    public registerOnChange(fn: any) {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    // not used, used for touch input\r\n    public registerOnTouched() { }\r\n    // change events from the textarea\r\n    onChange(event) {\r\n        this.propagateChange(event.id);\r\n        // .....\r\n        // update the form\r\n        // this.propagateChange(this.data);\r\n    }\r\n\r\n\r\n    // the method set in registerOnChange, it is just\r\n    // a placeholder for a method that takes one parameter,\r\n    // we use it to emit changes back to the form\r\n    private propagateChange = (_: any) => { };\r\n\r\n    public clearValue() {\r\n        this.innerValue = null;\r\n        this.propagateChange(this.innerValue);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgxFileUploaderModule } from 'ngx-file-uploader-ampath';\r\nimport { SharedModule } from '../../shared.module';\r\n// import { SelectModule } from 'ng2-select/ng2-select';\r\nimport { SelectModule } from '../../components/select/select.module';\r\nimport { RemoteFileUploadComponent } from './file-upload.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, SelectModule, FormsModule, NgxFileUploaderModule, SharedModule],\r\n    exports: [RemoteFileUploadComponent],\r\n    declarations: [RemoteFileUploadComponent],\r\n    providers: [],\r\n})\r\nexport class RemoteFileUploadModule { }\r\n","/**\r\n * date-picker.component\r\n */\r\n\r\nimport { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport * as moment_ from 'moment';\r\n\r\nconst moment = moment_;\r\nimport * as _ from 'lodash';\r\nimport { Moment } from 'moment/moment';\r\n\r\n// webpack1_\r\ndeclare let require: any;\r\n// const myDpStyles: string = require('./date-picker.component.css');\r\n// const myDpTpl: string = require('./date-picker.component.html');\r\n// webpack2_\r\n\r\n@Component({\r\n  selector: 'date-picker',\r\n  template: `<picker-modal (onOverlayClick)=\"cancelDatePicker()\">\r\n  <div class=\"picker-wrap\">\r\n    <div class=\"picker-box\">\r\n      <div class=\"picker-header\">\r\n        <div class=\"picker-header-nav\">\r\n          <span class=\"nav-prev\" (click)=\"prev()\"></span>\r\n        </div>\r\n        <div class=\"picker-header-content\">\r\n          <div class=\"content\">\r\n            <span (click)=\"showMonthSelection()\" class=\"month\">{{calendarDate | moment: \"MMMM\"}}</span>\r\n            <span class=\"seperator\">|</span>\r\n            <span (click)=\"showYearSelection()\" class=\"year\">{{calendarDate | moment: \"YYYY\"}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"picker-header-nav\">\r\n          <span class=\"nav-next\" (click)=\"next()\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"picker-calendar\">\r\n        <div class=\"picker-calendar-row\" *ngIf=\"!onDisplayMonths && !onDisplayYears\">\r\n          <span class=\"picker-weekday\" *ngFor=\"let day of dayNames\">{{ day }}</span>\r\n        </div>\r\n        <div class=\"picker-calendar-row\" *ngIf=\"!onDisplayMonths && !onDisplayYears\">\r\n                    <span class=\"picker-day\" (click)=\"selectDay(day)\" [ngClass]=\"{\r\n                       'out-focus': day.month() != calendarDate.month(),\r\n                       'today': day.isSame(today),\r\n                       'selected': day.isSame(selectedDate)\r\n                      }\" *ngFor=\"let day of calendarDays\">\r\n                    {{ day | moment: 'D'}}\r\n                </span>\r\n        </div>\r\n        <div class=\"picker-calendar-row\" *ngIf=\"onDisplayMonths\">\r\n                    <span class=\"picker-month\" *ngFor=\"let month of monthsShort\"\r\n                          (click)=\"selectMonth(month)\"\r\n                          [ngClass]=\"{\r\n                       'selected': month === currentMonth\r\n                      }\">\r\n                    {{ month }}\r\n                </span>\r\n        </div>\r\n        <div class=\"picker-calendar-row\" *ngIf=\"onDisplayYears\">\r\n                    <span class=\"picker-year\" *ngFor=\"let year of displayYearRange\"\r\n                          (click)=\"selectYear(year)\"\r\n                          [ngClass]=\"{\r\n                       'selected': year === currentYear\r\n                      }\">\r\n                    {{ year }}\r\n                </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"picker-footer\">\r\n        <div class=\"picker-action action-today\" (click)=\"selectToday()\"><span class=\"text\">Today</span></div>\r\n        <div class=\"picker-action action-clear\" (click)=\"clearPickDate()\"><span class=\"text\">Clear</span></div>\r\n        <div class=\"picker-action action-close\" (click)=\"cancelDatePicker()\"><span class=\"text\">Close</span></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</picker-modal>\r\n`,\r\n  styles: [`*,::after,::before{box-sizing:border-box}.picker-wrap{width:95vw;max-width:666px}.picker-box{font-family:'Open Sans';min-width:400px!important;padding:.625rem 1rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.picker-footer,.picker-header{font-size:1.333rem;line-height:2.5rem;display:flex;height:2.5rem;width:100%}.picker-header-nav{position:relative;cursor:pointer;width:calc(100% / 8)}.picker-header-nav>*{position:absolute;top:50%;right:auto;bottom:auto;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.picker-header-nav .nav-next::before,.picker-header-nav .nav-prev::before{content:\" \";border-top:.5em solid transparent;border-bottom:.5em solid transparent;border-right:.75em solid #000;width:0;height:0;display:block;margin:0 auto}.picker-header-nav .nav-next::before{border-right:0;border-left:.75em solid #000}.picker-header-content{width:calc(100% * 6 / 8);text-align:center}.picker-header-content .month{font-size:1.778rem;line-height:2.5rem;margin-right:.5rem;font-weight:700}.picker-header-content .year{font-style:italic;color:#999}.picker-calendar{width:100%}.picker-calendar .picker-calendar-row{display:flex;flex-wrap:wrap;width:100%;margin-bottom:.625rem}.picker-calendar .picker-weekday{font-weight:700;text-align:left;color:#999;width:calc(100% / 7)}.picker-calendar .picker-day,.picker-calendar .picker-month,.picker-calendar .picker-year{font-size:1.333rem;line-height:2.5rem;position:relative;height:2.5rem;text-align:center;cursor:pointer;width:calc(100% / 7)}.picker-calendar .picker-day:hover,.picker-calendar .picker-month:hover,.picker-calendar .picker-year:hover{background:#b1dcfb}.picker-calendar .out-focus{color:#ddd}.picker-calendar .out-focus:hover{color:#000}.picker-calendar .selected{background:#0089ec;color:#fff}.picker-calendar .selected:hover{background:#0089ec}.picker-calendar .today::before{content:\" \";position:absolute;top:2px;right:2px;width:0;height:0;border-top:.5em solid #0059bc;border-left:.5em solid transparent}.picker-footer{cursor:pointer}.picker-footer .picker-action{text-align:center;width:calc(100% / 3)}.picker-footer .picker-action:hover{background-color:#b1dcfb}.picker-footer .picker-action .text{padding-left:.8rem}.picker-footer .action-clear::before,.picker-footer .action-close::before,.picker-footer .action-today::before{content:\" \";position:relative;display:inline-block;height:0;width:0}.picker-footer .action-today::before{border-top:.66em solid #0059bc;border-left:.66em solid transparent}.picker-footer .action-clear::before{top:-.5rem;width:1rem;border-top:3px solid #e20}.picker-footer .action-close::before{width:1rem;height:1rem;background:linear-gradient(to bottom,transparent 35%,#777 35%,#777 65%,transparent 65%),linear-gradient(to right,transparent 35%,#777 35%,#777 65%,transparent 65%);-webkit-transform:rotate(45deg);transform:rotate(45deg)}`],\r\n})\r\n\r\nexport class DatePickerComponent implements OnInit {\r\n\r\n  public dayNames: Array<string>;\r\n\r\n  @Input() public initDate: any;\r\n  @Input() public locale = 'en';\r\n  @Input() public viewFormat = 'll';\r\n  @Input() public returnObject = 'js';\r\n  @Output() public onDatePickerCancel = new EventEmitter<boolean>();\r\n  @Output() public onSelectDate = new EventEmitter<any>();\r\n\r\n  public calendarDate: Moment;\r\n  public selectedDate: Moment;\r\n  public currentMonth: any ;\r\n  public today: Moment;\r\n  public currentYear: number;\r\n  public onDisplayMonths = false;\r\n  public onDisplayYears = false;\r\n  public displayYearsIndex = 0;\r\n  public displayYearRange: Array<number>;\r\n  public fullYearRange: Array<any>;\r\n  public monthsShort: Array<string> = moment.monthsShort();\r\n  public calendarDays: Array<Moment>;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.initValue();\r\n    // default to current year range\r\n    _.each(this.fullYearRange, (v, i) => {\r\n      this.currentYear = this.calendarDate.clone().startOf('year').year();\r\n      if (v.indexOf(this.currentYear) !== -1) {\r\n        this.displayYearsIndex = i;\r\n      }\r\n    });\r\n    this.displayYearRange = this.fullYearRange[this.displayYearsIndex];\r\n    this.generateCalendar();\r\n  }\r\n\r\n  public prev(): void {\r\n    if (this.onDisplayYears) {\r\n      this.displayYearsIndex--;\r\n      if (this.displayYearsIndex < 0) {\r\n        this.displayYearsIndex = 0;\r\n      }\r\n      this.displayYearRange = this.fullYearRange[this.displayYearsIndex];\r\n    } else {\r\n      this.calendarDate = this.calendarDate.clone().subtract(1, 'M');\r\n    }\r\n    this.generateCalendar();\r\n  }\r\n\r\n  public showMonthSelection(): void {\r\n    this.onDisplayMonths = true;\r\n    this.onDisplayYears = false;\r\n  }\r\n\r\n  public showYearSelection(): void {\r\n    this.onDisplayYears = true;\r\n    this.onDisplayMonths = false;\r\n  }\r\n\r\n  public next(): void {\r\n    if (this.onDisplayYears) {\r\n      this.displayYearsIndex++;\r\n      if (this.displayYearsIndex >= this.fullYearRange.length) {\r\n        this.displayYearsIndex = this.fullYearRange.length - 1;\r\n      }\r\n      this.displayYearRange = this.fullYearRange[this.displayYearsIndex++];\r\n    } else {\r\n      this.calendarDate = this.calendarDate.clone().add(1, 'M');\r\n    }\r\n    this.generateCalendar();\r\n  }\r\n\r\n  public selectDay(day: Moment): void {\r\n    const daysDifference = day.diff(this.calendarDate.clone().startOf('date'), 'days');\r\n    day = this.calendarDate.clone().add(daysDifference, 'd');\r\n    const selectedDay = this.parseToReturnObjectType(day);\r\n    this.onSelectDate.emit(selectedDay);\r\n    this.cancelDatePicker();\r\n    return;\r\n  }\r\n\r\n  public selectMonth(month: string) {\r\n    this.calendarDate = this.calendarDate.clone().month(month);\r\n    this.onDisplayMonths = false;\r\n    this.generateCalendar();\r\n  }\r\n\r\n  public selectYear(year: number) {\r\n    this.calendarDate = this.calendarDate.clone().year(year);\r\n    this.onDisplayYears = false;\r\n    this.generateCalendar();\r\n  }\r\n\r\n  public selectToday(): void {\r\n    const today = this.parseToReturnObjectType(moment());\r\n    this.onSelectDate.emit(today);\r\n    this.cancelDatePicker();\r\n    return;\r\n  }\r\n\r\n  public clearPickDate(): void {\r\n    this.onSelectDate.emit(null);\r\n    this.cancelDatePicker();\r\n    return;\r\n  }\r\n\r\n  public cancelDatePicker(): void {\r\n    this.onDatePickerCancel.emit(false);\r\n    return;\r\n  }\r\n\r\n  protected generateYears(): void {\r\n    const currentYear = moment().year();\r\n    const startYr = this.calendarDate.clone().subtract(100, 'y').year();\r\n    // const endYr = this.calendarDate.clone().add(10, 'y').year();\r\n    const years = [];\r\n    for (let year = startYr; year <= currentYear; year++) {\r\n      years.push(year);\r\n    }\r\n\r\n    this.fullYearRange = _.chunk(years, 14);\r\n  }\r\n\r\n  protected initValue() {\r\n\r\n    // set moment locale (default is en)\r\n    moment.locale(this.locale);\r\n    // set today value\r\n    this.today = moment().startOf('date');\r\n    this.currentMonth = this.monthsShort[moment().month()];\r\n    this.currentYear = moment().year();\r\n\r\n    // set week days name array\r\n    this.dayNames = moment.weekdaysShort(true);\r\n\r\n    // check if the input initDate has value\r\n    if (this.initDate) {\r\n      this.calendarDate = this.returnObject === 'string' ? moment(this.initDate, this.viewFormat) :\r\n        moment(this.initDate);\r\n      this.selectedDate = this.calendarDate.clone().startOf('date');\r\n    } else {\r\n      this.calendarDate = moment();\r\n    }\r\n    this.generateYears();\r\n  }\r\n\r\n  protected generateCalendar(): void {\r\n    this.calendarDays = [];\r\n    const start = 0 - (this.calendarDate.clone().startOf('month').day() +\r\n     (7 - moment.localeData().firstDayOfWeek())) % 7;\r\n    const end = 41 + start; // iterator ending point\r\n\r\n    for (let i = start; i <= end; i += 1) {\r\n      const day = this.calendarDate.clone().startOf('month').add(i, 'days');\r\n      this.calendarDays.push(day);\r\n    }\r\n  }\r\n\r\n  protected parseToReturnObjectType(day: Moment): any {\r\n    switch (this.returnObject) {\r\n      case 'js':\r\n        return day.toDate();\r\n\r\n      case 'string':\r\n        return day.format(this.viewFormat);\r\n\r\n      case 'moment':\r\n        return day;\r\n\r\n      case 'json':\r\n        return day.toJSON();\r\n\r\n      case 'array':\r\n        return day.toArray();\r\n\r\n      case 'iso':\r\n        return day.toISOString();\r\n\r\n      case 'object':\r\n        return day.toObject();\r\n\r\n      default:\r\n        return day;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * time-picker.component\r\n */\r\n\r\nimport { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport * as moment_ from 'moment';\r\n\r\nconst moment = moment_;\r\nimport { Moment } from 'moment/moment';\r\n\r\n// webpack1_\r\ndeclare let require: any;\r\n// const myDpStyles: string = require('./time-picker.component.css');\r\n// const myDpTpl: string = require('./time-picker.component.html');\r\n// webpack2_\r\n\r\n@Component({\r\n    selector: 'time-picker',\r\n    template: `<picker-modal (onOverlayClick)=\"cancelTimePicker()\">\r\n    <div class=\"picker-wrap\">\r\n        <div class=\"picker-box\">\r\n            <div class=\"picker-header\">Time Picker</div>\r\n            <div class=\"picker-table\">\r\n                <ul class=\"picker-table-time\">\r\n                    <li class=\"picker-table-number hour\">\r\n                        <span class=\"arrow up\" (click)=\"increaseHour()\"></span>\r\n                        {{time | moment: hourFormat}}\r\n                        <span class=\"arrow down\" (click)=\"decreaseHour()\"></span>\r\n                    </li>\r\n                    <li class=\"picker-table-separator\">:</li>\r\n                    <li class=\"picker-table-number minute\">\r\n                        <span class=\"arrow up\" (click)=\"increaseMinute()\"></span>\r\n                        {{time | moment: 'mm'}}\r\n                        <span class=\"arrow down\" (click)=\"decreaseMinute()\"></span>\r\n                    </li>\r\n                    <li *ngIf=\"showSecond\" class=\"picker-table-separator\">:</li>\r\n                    <li *ngIf=\"showSecond\" class=\"picker-table-number second\">\r\n                        <span class=\"arrow up\" (click)=\"increaseSecond()\"></span>\r\n                        {{time | moment: 'ss'}}\r\n                        <span class=\"arrow down\" (click)=\"decreaseSecond()\"></span>\r\n                    </li>\r\n                    <li *ngIf=\"use12Hour\" class=\"picker-table-meridiem meridiem\">\r\n                        {{time | moment: 'A'}}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"picker-footer\">\r\n                <div class=\"picker-action action-now\" (click)=\"selectNow()\"><span class=\"text\">Now</span></div>\r\n                <div class=\"picker-action action-confirm\" (click)=\"selectTime()\"><span class=\"text\">Confirm</span></div>\r\n                <div class=\"picker-action action-clear\" (click)=\"clearTime()\"><span class=\"text\">Clear</span></div>\r\n                <div class=\"picker-action action-close\" (click)=\"cancelTimePicker()\"><span class=\"text\">Close</span></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</picker-modal>\r\n`,\r\n    styles: [`*,::after,::before{box-sizing:border-box}.picker-wrap{width:95vw;max-width:40rem;font-family:'Open Sans'}.picker-box{width:100%;padding:.625rem 1rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.picker-footer,.picker-header{font-size:1.333rem;line-height:2.5rem;height:2.5rem;width:100%}.picker-header{text-align:center}.picker-table{width:100%;margin:2.5rem 0}.picker-table-time{font-size:2.37rem;line-height:2.5rem;list-style:none;margin:0;padding:0;display:flex;justify-content:center;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.picker-table-meridiem,.picker-table-number,.picker-table-separator{text-align:center}.picker-table-meridiem,.picker-table-number{position:relative;width:20%}.arrow{position:absolute;left:50%;border:solid #777;border-width:0 .2rem .2rem 0;display:inline-block;padding:.25rem;cursor:pointer}.arrow.up{top:-1rem;-webkit-transform:translateX(-50%) rotate(-135deg);transform:translateX(-50%) rotate(-135deg)}.arrow.down{bottom:-1rem;-webkit-transform:translateX(-50%) rotate(45deg);transform:translateX(-50%) rotate(45deg)}.arrow:hover{border-color:#1975d2}.picker-table-separator{width:calc(20% / 3)}.picker-footer{display:flex;justify-content:center;width:100%;cursor:pointer}.picker-footer .picker-action{width:25%;text-align:center}.picker-footer .picker-action:hover{background-color:#b1dcfb}.picker-footer .picker-action .text{padding-left:.8rem}.picker-footer .action-clear::before,.picker-footer .action-close::before,.picker-footer .action-confirm::before,.picker-footer .action-now::before{content:\" \";position:relative;display:inline-block;height:0;width:0}.picker-footer .action-now::before{border-top:.66em solid #0059bc;border-left:.66em solid transparent}.picker-footer .action-confirm::before{width:1rem;height:1rem;border-radius:100%;background-color:#00b5ad}.picker-footer .action-clear::before{top:-.5rem;width:1rem;border-top:3px solid #e20}.picker-footer .action-close::before{width:1rem;height:1rem;background:linear-gradient(to bottom,transparent 35%,#777 35%,#777 65%,transparent 65%),linear-gradient(to right,transparent 35%,#777 35%,#777 65%,transparent 65%);-webkit-transform:rotate(45deg);transform:rotate(45deg)}`],\r\n})\r\n\r\nexport class TimePickerComponent implements OnInit {\r\n\r\n    @Input() initTime: any;\r\n    @Input() showSecond = true;\r\n    @Input() viewFormat = 'hh:mm A';\r\n    @Input() use12Hour = false;\r\n    @Input() returnObject = 'js';\r\n    @Output() onSelectTime = new EventEmitter<any>();\r\n    @Output() onTimePickerCancel = new EventEmitter<boolean>();\r\n    hourFormat = 'HH';\r\n    public time: Moment;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        if (this.use12Hour) {\r\n            this.hourFormat = 'hh';\r\n        }\r\n        this.time = this.initTime ? moment(this.initTime, this.viewFormat) : moment();\r\n\r\n        // check if the input initDate has value\r\n        if (this.initTime) {\r\n            this.time = this.returnObject === 'string' ? moment(this.initTime, this.viewFormat) :\r\n                moment(this.initTime);\r\n        } else {\r\n            this.time = moment();\r\n        }\r\n    }\r\n\r\n    increaseHour(): void {\r\n        this.time = this.time.clone().add(1, 'h');\r\n    }\r\n\r\n    decreaseHour(): void {\r\n        this.time = this.time.clone().subtract(1, 'h');\r\n    }\r\n\r\n    increaseMinute() {\r\n        this.time = this.time.clone().add(1, 'm');\r\n    }\r\n\r\n    decreaseMinute() {\r\n        this.time = this.time.clone().subtract(1, 'm');\r\n    }\r\n\r\n    increaseSecond(): void {\r\n        this.time = this.time.clone().add(1, 's');\r\n    }\r\n\r\n    decreaseSecond(): void {\r\n        this.time = this.time.clone().subtract(1, 's');\r\n    }\r\n\r\n    selectTime(): void {\r\n        const selectTime = this.parseToReturnObjectType(this.time);\r\n        this.onSelectTime.emit(selectTime);\r\n        this.cancelTimePicker();\r\n        return;\r\n    }\r\n\r\n    selectNow(): void {\r\n        const selectTime = this.parseToReturnObjectType(moment());\r\n        this.onSelectTime.emit(selectTime);\r\n        this.cancelTimePicker();\r\n        return;\r\n    }\r\n\r\n    clearTime(): void {\r\n        this.onSelectTime.emit(null);\r\n        this.cancelTimePicker();\r\n        return;\r\n    }\r\n\r\n    cancelTimePicker(): void {\r\n        this.onTimePickerCancel.emit(false);\r\n        return;\r\n    }\r\n\r\n    protected parseToReturnObjectType(time: Moment): any {\r\n        switch (this.returnObject) {\r\n            case 'js':\r\n                return time.toDate();\r\n\r\n            case 'string':\r\n                return time.format(this.viewFormat);\r\n\r\n            case 'moment':\r\n                return time;\r\n\r\n            case 'json':\r\n                return time.toJSON();\r\n\r\n            case 'array':\r\n                return time.toArray();\r\n\r\n            case 'iso':\r\n                return time.toISOString();\r\n\r\n            case 'object':\r\n                return time.toObject();\r\n\r\n            default:\r\n                return time;\r\n        }\r\n    }\r\n\r\n}\r\n","/**\r\n * modal.component\r\n */\r\n\r\nimport {\r\n    Component, Output, OnInit, EventEmitter,\r\n    ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\n// webpack1_\r\ndeclare let require: any;\r\n// const myDpStyles: string = require('./modal.component.css');\r\n// const myDpTpl: string = require('./modal.component.html');\r\n// webpack2_\r\n\r\n@Component({\r\n    selector: 'picker-modal',\r\n    template: `<section class=\"x-modal\">\r\n    <section class=\"modal-overlay\" (click)=\"closeModal()\"></section>\r\n    <section class=\"modal-main\" id=\"section-modal-main\">\r\n        <ng-content></ng-content>\r\n    </section>\r\n</section>\r\n`,\r\n    styles: [`:host{z-index:9999999999}*,::after,::before{box-sizing:border-box}.modal-main{position:absolute;left:19.6%;right:auto;top:auto;z-index:111;background-color:#fff;border:1px solid #d7dad7;border-radius:6px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);box-shadow:0 5px 15px rgba(0,0,0,.3)}`],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    animations: [\r\n    ],\r\n})\r\n\r\nexport class ModalComponent implements OnInit {\r\n\r\n    @Output() onOverlayClick = new EventEmitter<boolean>();\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    closeModal() {\r\n        this.onOverlayClick.emit(false);\r\n    }\r\n}\r\n","/**\r\n * moment.pipe\r\n */\r\n\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\nimport { Moment } from 'moment/moment';\r\n\r\n@Pipe({name: 'moment'})\r\n\r\nexport class MomentPipe implements PipeTransform {\r\n    transform(moment: Moment, format?: string): string {\r\n        return format ? moment.format(format) : moment.format('MMM DD, YYYY');\r\n    }\r\n}\r\n","import { Component, OnInit, Input, forwardRef, EventEmitter, Output } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport * as moment_ from 'moment';\r\n\r\nconst Moment = moment_;\r\n\r\n@Component({\r\n    selector: 'date-time-picker',\r\n    template: `<div class='row'>\r\n    <div *ngIf=\"!showTime\" class='col-xs-12 col-md-12'>\r\n        <input *ngIf=\"!showWeeks\" type=\"text\" class=\"form-control\" [value]=\"value | date: 'mediumDate'\" (focus)=\"toggleDatePicker(true)\"\r\n            readonly placeholder=\"Select Date\" />\r\n        <div *ngIf=\"showWeeks\" class=\"input-group\">\r\n            <input type=\"text\" class=\"form-control\" class=\"form-control\" [value]=\"value | date: 'mediumDate'\" (focus)=\"toggleDatePicker(true)\"\r\n                readonly placeholder=\"Select Date\">\r\n            <div class=\"input-group-btn\">\r\n                <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Weeks <span class=\"caret\"></span></button>\r\n                <ul class=\"dropdown-menu up\">\r\n                    <li (click)=\"weeksSelected(count)\" *ngFor=\"let count of weeks\"><span> {{count}} Weeks</span></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"showTime\" class='col-xs-8 col-md-8'>\r\n        <input *ngIf=\"!showWeeks\" type=\"text\" class=\"form-control\" [value]=\"value | date: 'mediumDate'\" (focus)=\"toggleDatePicker(true)\"\r\n            readonly placeholder=\"Select Date\" />\r\n        <div *ngIf=\"showWeeks\" class=\"input-group\">\r\n            <input type=\"text\" class=\"form-control\" class=\"form-control\" [value]=\"value | date: 'mediumDate'\" (focus)=\"toggleDatePicker(true)\"\r\n                readonly placeholder=\"Select Date\">\r\n            <div class=\"input-group-btn\">\r\n                <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Weeks <span class=\"caret\"></span></button>\r\n                <ul class=\"dropdown-menu up\">\r\n                    <li (click)=\"weeksSelected(count)\" *ngFor=\"let count of weeks\"><span> {{count}} Weeks</span></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"showTime\" class='col-xs-4 col-md-4'>\r\n        <input type=\"text\" class=\"form-control\" [value]=\"value | date: 'shortTime'\" (focus)=\"toggleTimePicker(true)\" readonly placeholder=\"Select Time\"\r\n        />\r\n    </div>\r\n</div>\r\n<date-picker *ngIf=\"showDatePicker\" [initDate]=\"value\" (onSelectDate)=\"setDate($event)\" (onDatePickerCancel)=\"toggleDatePicker($event)\"></date-picker>\r\n\r\n<time-picker *ngIf=\"showTimePicker\" [initTime]=\"value\" [use12Hour]=\"true\" (onSelectTime)=\"setTime($event)\" (onTimePickerCancel)=\"toggleTimePicker($event)\"></time-picker>\r\n`,\r\n    styles: [`input[readonly]{background-color:#fff}.up{bottom:100%!important;top:auto!important}.glyphicon{top:1px}`],\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => DateTimePickerComponent),\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\nexport class DateTimePickerComponent implements OnInit, ControlValueAccessor {\r\n    @Input() modelValue: any;\r\n    @Input() showDate = true;\r\n    @Input() showTime = false;\r\n    @Input() showWeeks = false;\r\n    @Input() weeks: number[] = [2, 4, 6, 8, 12, 16, 24];\r\n    @Output() onDateChange = new EventEmitter<any>();\r\n    public showDatePicker = false;\r\n    public showTimePicker = false;\r\n    onChange: any = () => { };\r\n    onTouched: any = () => { };\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngOnInit() { }\r\n\r\n    weeksSelected(count) {\r\n        const now = new Date();\r\n        const nextDate = now.setDate(now.getDate() + count * 7);\r\n        this.value = Moment(nextDate).format();\r\n    }\r\n    setDate(date: any): void {\r\n        if (date && date !== '') {\r\n            this.value = Moment(date).format();\r\n        } else {\r\n            this.value = date;\r\n        }\r\n\r\n    }\r\n\r\n    setTime(time: any): void {\r\n        if (time && time !== '') {\r\n            this.value = Moment(time).format();\r\n        } else {\r\n            this.value = time;\r\n        }\r\n        return;\r\n    }\r\n\r\n    toggleDatePicker(status: boolean): void {\r\n      this.showDatePicker = status;\r\n      /*setTimeout(function() {\r\n        let _body = document.getElementById('content-wrapper').getBoundingClientRect(),\r\n          elem = document.getElementById('section-modal-main');\r\n        if (elem) {\r\n          let elemBox = elem.getBoundingClientRect();\r\n          if (elemBox.bottom > _body.bottom) {\r\n            elem.style.bottom = '36px';\r\n          }\r\n        }\r\n      }, 0);*/\r\n      return;\r\n    }\r\n\r\n    toggleTimePicker(status: boolean): void {\r\n        this.showTimePicker = status;\r\n        return;\r\n    }\r\n    get value() {\r\n        return this.modelValue;\r\n    }\r\n\r\n    set value(val) {\r\n        this.modelValue = val;\r\n        this.onDateChange.emit(val);\r\n        this.onChange(val);\r\n        this.onTouched();\r\n    }\r\n\r\n    registerOnChange(fn) {\r\n        this.onChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn) {\r\n        this.onTouched = fn;\r\n    }\r\n\r\n    writeValue(value) {\r\n        if (value instanceof Date) {\r\n            this.value = Moment(value).format();\r\n        } else {\r\n            this.value = value;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * date-time-picker.module\r\n */\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DatePickerComponent } from './date-picker/date-picker.component';\r\nimport { TimePickerComponent } from './time-picker/time-picker.component';\r\nimport { ModalComponent } from './picker-modal/modal.component';\r\nimport { MomentPipe } from './pipes/moment.pipe';\r\nimport { DateTimePickerComponent } from './date-time-picker.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, FormsModule],\r\n    declarations: [\r\n        DatePickerComponent,\r\n        TimePickerComponent,\r\n        ModalComponent,\r\n        MomentPipe,\r\n        DateTimePickerComponent\r\n    ],\r\n    exports: [\r\n        DatePickerComponent,\r\n        TimePickerComponent,\r\n        ModalComponent,\r\n        MomentPipe,\r\n        DateTimePickerComponent\r\n    ],\r\n    providers: []\r\n})\r\nexport class DateTimePickerModule {\r\n}\r\n","import { Moment } from 'moment/moment';\r\n\r\nimport { Component, OnInit, Input, forwardRef, EventEmitter, Output } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, FormControl } from '@angular/forms';\r\nimport { DateAdapter, MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\r\nimport * as moment_ from 'moment';\r\nconst moment = moment_;\r\n\r\nexport const MY_FORMATS = {\r\n    parse: {\r\n        dateInput: 'LL',\r\n    },\r\n    display: {\r\n        dateInput: 'LL',\r\n        monthYearLabel: 'MMM YYYY',\r\n        dateA11yLabel: 'LL',\r\n        monthYearA11yLabel: 'MMMM YYYY',\r\n    },\r\n};\r\n\r\n@Component({\r\n    selector: 'ngx-date-time-picker',\r\n    template: `<div>\r\n  <div class=\"row\">\r\n    <div [class]=\"getDatePickerCssClass()\">\r\n      <div class=\"input-group\">\r\n        <input matInput \r\n              [matDatepicker]=\"picker\" \r\n              class=\"form-control\" \r\n              [value]=\"value\" \r\n              placeholder=\"Choose a date\" \r\n              (dateChange)=\"onDateSelect($event)\"\r\n              (click)=\"picker.open()\"\r\n              readonly\r\n        >\r\n        <mat-datepicker #picker disabled=\"false\"></mat-datepicker>\r\n        <mat-datepicker-toggle matSuffix [for]=\"picker\" class=\"input-group-btn\"></mat-datepicker-toggle>\r\n      </div>\r\n    </div>\r\n    <div [class]=\"getWeekPickerCssClass()\" *ngIf=\"showWeeks\">\r\n      <mat-select placeholder=\"Select Weeks\"  class=\"form-control\" name=\"weeks\" (selectionChange) =\"weekSelect($event)\">\r\n        <mat-option *ngFor=\"let count of weeks\" [value]=\"count\">\r\n          {{count}} Weeks\r\n        </mat-option>\r\n      </mat-select>\r\n    </div>\r\n    <div [class]=\"getTimePickerCssClass()\" *ngIf=\"showTime\">\r\n          <input type=\"text\" class=\"form-control\" [value]=\"value | date: 'shortTime'\" (focus)=\"toggleTimePicker(true)\" readonly placeholder=\"Select Time\"\r\n          />\r\n          <time-picker *ngIf=\"showTimePicker\" [initTime]=\"value\" [use12Hour]=\"true\" (onSelectTime)=\"onTimeSelect($event)\" (onTimePickerCancel)=\"toggleTimePicker($event)\"></time-picker>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n`,\r\n    styles: [`#time-section{display:inline-block}#ngx-atp-time-picker,#ngx-mat-form-field{width:100%}.up{bottom:100%!important;top:auto!important}.time-btn{margin-top:-20px}`],\r\n    providers: [\r\n        { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n        { provide: DateAdapter, useClass: MomentDateAdapter },\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => NgxDateTimePickerComponent),\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\nexport class NgxDateTimePickerComponent implements OnInit, ControlValueAccessor {\r\n\r\n    // public date = new FormControl(moment());\r\n    public selectedTime = moment().format();\r\n    public selectedDate = moment().format();\r\n    public loadInitial = false;\r\n    public value;\r\n    public showTimePicker = false;\r\n    @Input() weeks: number[] = [0, 2, 4, 6, 8, 12, 16, 24];\r\n    @Input() modelValue: any;\r\n    @Input() showTime = false;\r\n    @Input() showWeeks = true;\r\n    @Output() onDateChange = new EventEmitter<any>();\r\n    public onChange: any = () => { };\r\n    public onTouched: any = () => { };\r\n    public ngOnInit() {\r\n\r\n    }\r\n\r\n\r\n    public writeValue(value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public registerOnChange(fn) {\r\n        this.onChange = fn;\r\n    }\r\n\r\n    public registerOnTouched(fn) {\r\n\r\n    }\r\n\r\n    public onTimeSelect($event) {\r\n        const setDate = moment(this.selectedDate);\r\n        const setTime = $event;\r\n        this.setDateTime(setDate, setTime);\r\n    }\r\n\r\n    public onDateSelect($event) {\r\n\r\n        const setDate = moment($event.value);\r\n        const setTime = this.selectedTime;\r\n        const dateString = this.setDateTime(setDate, setTime);\r\n\r\n        const selectedDate = $event.value;\r\n        this.value = dateString;\r\n\r\n    }\r\n\r\n    public toggleTimePicker(status: boolean): void {\r\n        this.showTimePicker = status;\r\n        return;\r\n    }\r\n\r\n\r\n    public setCurrentTime() {\r\n\r\n        const setDate = moment(this.selectedDate);\r\n        const currentTime = moment().format('HH:mm:ss');\r\n        this.setDateTime(setDate, currentTime);\r\n    }\r\n\r\n    public weekSelect($event) {\r\n        const dateToUse = moment().format();\r\n        const nextWeekDate = moment(dateToUse).add($event.value, 'weeks');\r\n        const nextWeekTime = dateToUse;\r\n        this.setDateTime(nextWeekDate, nextWeekTime);\r\n    }\r\n\r\n    public selectionChange($event) {\r\n        console.log('Week selected', $event);\r\n    }\r\n\r\n\r\n    public getWeekPickerCssClass() {\r\n        if (this.showTime) {\r\n            return 'col-sm-2 form-group';\r\n        }\r\n        return 'col-sm-3 form-group';\r\n    }\r\n\r\n    public getDatePickerCssClass() {\r\n        if (this.showTime && this.showWeeks) {\r\n            return 'col-sm-5 form-group';\r\n        }\r\n\r\n        if (this.showWeeks === true) {\r\n            return 'col-sm-9 form-group';\r\n        }\r\n\r\n        if (this.showTime === true) {\r\n            return 'col-sm-8 form-group';\r\n        }\r\n        return 'col-sm-12 form-group';\r\n    }\r\n\r\n    public getTimePickerCssClass() {\r\n        if (this.showTime && this.showWeeks) {\r\n            return 'col-sm-5 form-group';\r\n        }\r\n\r\n        if (this.showWeeks === true) {\r\n            return 'col-sm-9 form-group';\r\n        }\r\n        return 'col-sm-4 form-group';\r\n    }\r\n\r\n    public setDateTime(setDate, setTime) {\r\n        const newDate = moment(setDate).format('DD-MM-YYYY');\r\n        let newTime;\r\n        if (this.showTime) {\r\n            newTime = moment(setTime).format('HH:mm:ss');\r\n        } else {\r\n            newTime = '00:00:00';\r\n        }\r\n        const newDateTime = moment(newDate + '' + newTime, 'DD-MM-YYYY HH:mm:ss');\r\n        const dateTimeString = moment(newDateTime).format();\r\n        this.selectedDate = dateTimeString;\r\n        this.selectedTime = dateTimeString;\r\n        this.value = dateTimeString;\r\n        this.onChange(this.value);\r\n\r\n        return dateTimeString;\r\n\r\n\r\n    }\r\n}\r\n","/**\r\n * date-time-picker.module\r\n */\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule , ReactiveFormsModule } from '@angular/forms';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatNativeDateModule , MatInputModule } from '@angular/material';\r\nimport { NgxDateTimePickerComponent } from './ngx-date-time-picker.component';\r\n// import { AmazingTimePickerModule } from 'amazing-time-picker';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { DateTimePickerModule } from '../date-time-picker/date-time-picker.module';\r\n\r\n\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatDatepickerModule,\r\n        MatFormFieldModule,\r\n        MatNativeDateModule,\r\n        MatInputModule,\r\n        DateTimePickerModule,\r\n        // AmazingTimePickerModule,\r\n        MatSelectModule\r\n    ],\r\n    declarations: [\r\n        NgxDateTimePickerComponent\r\n    ],\r\n    exports: [\r\n        MatDatepickerModule,\r\n        MatFormFieldModule,\r\n        MatNativeDateModule,\r\n        MatInputModule,\r\n        NgxDateTimePickerComponent\r\n    ],\r\n    providers: [\r\n    ]\r\n})\r\nexport class NgxDateTimePickerModule {\r\n}\r\n","\r\nimport { SelectOption } from './interfaces/select-option';\r\nexport class Option {\r\n    label: string;\r\n    value: any;\r\n    constructor(options: SelectOption) {\r\n        this.label = options.label;\r\n        this.value = options.value;\r\n    }\r\n}\r\n","import {\r\n  Component, Input, forwardRef, OnInit, OnChanges\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { Option } from '../form-entry/question-models/select-option';\r\n\r\nimport { DataSource } from '../form-entry/question-models/interfaces/data-source';\r\n\r\n\r\n@Component({\r\n  selector: 'afe-ng-select',\r\n  template: `<ng-select\r\n                   (searchInputText)=\"getChangingText($event)\"\r\n                    (ngModelChange)=\"onValueChange($event)\"\r\n                    [options]=\"question_options\"\r\n                    [multiple]=\"multiple\" >\r\n            </ng-select>\r\n  `,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => AfeNgSelectComponent),\r\n      multi: true\r\n    }]\r\n})\r\nexport class AfeNgSelectComponent implements ControlValueAccessor, OnInit, OnChanges {\r\n  subject: BehaviorSubject<Option[]>;\r\n  subjectOption: BehaviorSubject<Option>;\r\n  @Input() dataSource: DataSource;\r\n  @Input() multiple: boolean;\r\n  @Input() extras: any;\r\n  question_options: any = [];\r\n  selected_question_option: any;\r\n  errors: any = [];\r\n  propagateChange = (_: any) => { };\r\n\r\n  getChangingText(event) {\r\n    // console.log(event);\r\n    this.getData(event).subscribe((options) => {\r\n      this.question_options = options;\r\n    });\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n\r\n  }\r\n  registerOnChange(fn: any): void {\r\n    this.propagateChange = fn;\r\n\r\n  }\r\n\r\n  registerOnTouched(fn: any): void { }\r\n\r\n  ngOnChanges(changes: any) { }\r\n\r\n  ngOnInit() {\r\n    if (this.extras) {\r\n      if (this.extras.originalValue) {\r\n        this.resolveSelectedOption(this.extras.originalValue).subscribe((option) => {\r\n          this.selected_question_option = option;\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  getData(searchText: string): Observable<Option[]> {\r\n\r\n    this.subject = new BehaviorSubject<Option[]>([]);\r\n\r\n    const OptionsObservable = this.dataSource.searchOptions(searchText);\r\n\r\n    OptionsObservable.subscribe(\r\n      (options) => {\r\n        // console.log('options', options);\r\n        const mappedOptions: Option[] = new Array<Option>();\r\n\r\n        for (let i = 0; i < options.length; i++) {\r\n          mappedOptions.push(new Option(options[i]));\r\n        }\r\n        this.subject.next(mappedOptions);\r\n      },\r\n      (error) => {\r\n        this.subject.error(error);\r\n      }\r\n    );\r\n\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  onValueChange(event) { }\r\n  resolveSelectedOption(value: any): Observable<Option> {\r\n\r\n    this.subjectOption = new BehaviorSubject<Option>(null);\r\n    const OptionObservable = this.dataSource.resolveSelectedValue(value);\r\n\r\n    OptionObservable.subscribe(\r\n      (option) => {\r\n        // console.log('option', option);\r\n        this.subjectOption.next(option);\r\n      },\r\n      (error) => {\r\n        this.subjectOption.error(error);\r\n      }\r\n    );\r\n\r\n    return this.subjectOption.asObservable();\r\n  }\r\n\r\n  resetOptions() {\r\n    this.subject.next(new Array<Option>());\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport * as _ from 'lodash';\r\n\r\n@Injectable()\r\nexport class FormSchemaCompiler {\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public compileFormSchema(formSchema: Object, referencedComponents: Array<any>): Object {\r\n    // get all referenced forms\r\n    const refForms: Object = this.getReferencedForms(formSchema, referencedComponents);\r\n    if (_.isEmpty(refForms)) { return formSchema; }\r\n\r\n    // get all place-holders from the form schema\r\n    const placeHolders = this.getAllPlaceholderObjects(formSchema);\r\n    if (_.isEmpty(placeHolders)) { return formSchema; }\r\n\r\n    // replace all placeHolders\r\n    this.replaceAllPlaceholdersWithActualObjects(refForms, placeHolders);\r\n    return formSchema;\r\n  }\r\n\r\n\r\n  private findSchemaByName(schemaArray: Array<any>, nameOfSchema: string): Object {\r\n    if (_.isEmpty(schemaArray) || _.isEmpty(nameOfSchema)) { return; }\r\n    let foundSchema: any = {};\r\n    _.each(schemaArray, (schema: any) => {\r\n      if (schema.name === nameOfSchema) {\r\n        foundSchema = schema;\r\n      }\r\n    });\r\n    return foundSchema;\r\n  }\r\n\r\n  private getPageInSchemaByLabel(schema: any, pageLabel: string): Object {\r\n    if (_.isEmpty(schema) || _.isEmpty(pageLabel)) { return; }\r\n    let foundPage: Object = {};\r\n    _.each(schema.pages, (page) => {\r\n      if (page.label === pageLabel) {\r\n        foundPage = page;\r\n      }\r\n    }\r\n    );\r\n    return foundPage;\r\n  }\r\n\r\n  private getSectionInSchemaByPageLabelBySectionLabel\r\n    (schema: Object, pageLabel: string, sectionLabel: string): Object {\r\n    if (_.isEmpty(schema) || _.isEmpty(pageLabel) || _.isEmpty(sectionLabel)) { return; }\r\n    const foundPage: any = this.getPageInSchemaByLabel(schema, pageLabel);\r\n    if (_.isEmpty(foundPage)) { return; }\r\n    let foundSection: Object = {};\r\n    _.each(foundPage.sections, (section) => {\r\n      if (section.label === sectionLabel) {\r\n        foundSection = section;\r\n      }\r\n    }\r\n    );\r\n    return foundSection;\r\n  }\r\n\r\n  private getQuestionByIdInSchema(schema: any, questionId: string): Array<any> {\r\n    if (_.isEmpty(schema) || _.isEmpty(questionId)) { return; }\r\n    if (Array.isArray(schema)) {\r\n      let question: Array<any>;\r\n      for (let i = 0; i < schema.length; i++) {\r\n        if (!_.isEmpty(schema[i])) {\r\n          question = this.getQuestionByIdInSchema(schema[i], questionId);\r\n        }\r\n        if (!_.isEmpty(question)) {\r\n          break;\r\n        }\r\n      }\r\n      return question;\r\n    } else if (typeof schema === 'object') {\r\n      if (this.isQuestionObjectWithId(schema, questionId)) {\r\n        return schema;\r\n      } else if (this.isSchemaSubObjectExpandable(schema)) {\r\n        const toExpand = (schema.pages || schema.sections || schema.questions);\r\n        return this.getQuestionByIdInSchema(toExpand, questionId);\r\n      } else {\r\n        return;\r\n      }\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  private getQuestionsArrayByQuestionIdInSchema(schema: any, questionId: string): Array<any> {\r\n    if (_.isEmpty(schema) || _.isEmpty(questionId)) { return; }\r\n    return this.getQuestionsArrayByQuestionId(schema, schema, questionId);\r\n  }\r\n\r\n\r\n  private getQuestionsArrayByQuestionId(parent: any, object: any, questionId: string): Array<any> {\r\n    if (Array.isArray(object)) {\r\n      let returnedValue: Array<any>;\r\n      for (let i = 0; i < object.length; i++) {\r\n        if (!_.isEmpty(object[i])) {\r\n          returnedValue = this.getQuestionsArrayByQuestionId(object, object[i], questionId);\r\n        }\r\n        if (!_.isEmpty(returnedValue)) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      return returnedValue;\r\n    } else if (typeof object === 'object') {\r\n      if (this.isQuestionObjectWithId(object, questionId)) {\r\n        return parent;\r\n      } else if (this.isSchemaSubObjectExpandable(object)) {\r\n        const toExpand = (object.pages || object.sections || object.questions);\r\n        return this.getQuestionsArrayByQuestionId(toExpand, toExpand, questionId);\r\n      } else {\r\n        return;\r\n      }\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  // object is page or section or question\r\n  private isSchemaSubObjectExpandable(object: Object): Boolean {\r\n    if (typeof object === 'object') {\r\n      const objectKeys = Object.keys(object);\r\n      if (_.includes(objectKeys, 'pages') ||\r\n        _.includes(objectKeys, 'sections') ||\r\n        _.includes(objectKeys, 'questions')) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private isQuestionObjectWithId(object: Object, id: any): Boolean {\r\n    return object['id'] === id;\r\n\r\n  }\r\n\r\n  private getAllPlaceholderObjects(schema: Object): Array<any> {\r\n    const referencedObjects: Array<any> = [];\r\n    this.extractPlaceholderObjects(schema, referencedObjects);\r\n    return referencedObjects;\r\n  }\r\n\r\n  private extractPlaceholderObjects(subSchema: any, objectsArray: Array<Object>): void {\r\n    if (_.isEmpty(subSchema)) { return; }\r\n    if (Array.isArray(subSchema)) {\r\n      for (let i = 0; i < subSchema.length; i++) {\r\n        if (!_.isEmpty(subSchema[i])) {\r\n          this.extractPlaceholderObjects(subSchema[i], objectsArray);\r\n        }\r\n      }\r\n    } else if (typeof subSchema === 'object') {\r\n      if (!_.isEmpty(subSchema.reference)) {\r\n        objectsArray.push(subSchema);\r\n      } else if (this.isSchemaSubObjectExpandable(subSchema)) {\r\n        const toExpand = (subSchema.pages || subSchema.sections || subSchema.questions);\r\n        this.extractPlaceholderObjects(toExpand, objectsArray);\r\n      }\r\n    }\r\n  }\r\n\r\n  private fillPlaceholderObject(placeHolderObject: Object, referenceObject: Object): Object {\r\n    for (const member in referenceObject) {\r\n      if (_.isEmpty(placeHolderObject[member])) {\r\n        placeHolderObject[member] = referenceObject[member];\r\n      }\r\n    }\r\n    return placeHolderObject;\r\n  }\r\n\r\n  private replaceAllPlaceholdersWithActualObjects\r\n    (keyValReferencedForms: Object, placeHoldersArray: Array<any>): Array<any> {\r\n    _.each(placeHoldersArray, (placeHolder) => {\r\n      const referencedObject: Object =\r\n        this.getReferencedObject(placeHolder.reference, keyValReferencedForms);\r\n\r\n      if (_.isEmpty(referencedObject)) {\r\n        console.error('Form compile: Error finding referenced object', placeHolder.reference);\r\n      } else {\r\n        placeHolder = this.fillPlaceholderObject(placeHolder, referencedObject);\r\n        placeHolder = this.removeExcludedQuestionsFromPlaceholder(placeHolder);\r\n        delete placeHolder['reference'];\r\n      }\r\n    });\r\n    return placeHoldersArray;\r\n  }\r\n\r\n  private removeObjectFromArray(array: Array<any>, object: Object): void {\r\n    const indexOfObject = array.indexOf(object);\r\n    if (indexOfObject === -1) { return; }\r\n\r\n    array.splice(indexOfObject, 1);\r\n  }\r\n\r\n  private removeExcludedQuestionsFromPlaceholder(placeHolder: any): Object {\r\n    if (Array.isArray(placeHolder.reference.excludeQuestions)) {\r\n      _.each(placeHolder.reference.excludeQuestions, (excludedQuestionId) => {\r\n        const questionsArray: Array<any> = this.getQuestionsArrayByQuestionIdInSchema(\r\n          placeHolder, excludedQuestionId);\r\n\r\n        if (!Array.isArray(questionsArray)) { return; }\r\n        const question = this.getQuestionByIdInSchema(questionsArray, excludedQuestionId);\r\n\r\n        this.removeObjectFromArray(questionsArray, question);\r\n      });\r\n    }\r\n    return placeHolder;\r\n  }\r\n\r\n  private getReferencedObject(referenceData: any, keyValReferencedForms: Object): Object {\r\n    if (_.isEmpty(referenceData.form)) {\r\n      console.error('Form compile: reference missing form attribute', referenceData);\r\n      return;\r\n    }\r\n    if (_.isEmpty(keyValReferencedForms[referenceData.form])) {\r\n      console.error('Form compile: referenced form alias not found', referenceData);\r\n      return;\r\n    }\r\n    if (!_.isEmpty(referenceData.questionId)) {\r\n      return this.getQuestionByIdInSchema(\r\n        keyValReferencedForms[referenceData.form],\r\n        referenceData.questionId);\r\n    }\r\n\r\n    if (!_.isEmpty(referenceData.page) && !_.isEmpty(referenceData.section)) {\r\n      return this.getSectionInSchemaByPageLabelBySectionLabel(\r\n        keyValReferencedForms[referenceData.form],\r\n        referenceData.page,\r\n        referenceData.section\r\n      );\r\n    }\r\n    if (!_.isEmpty(referenceData.page)) {\r\n      return this.getPageInSchemaByLabel(\r\n        keyValReferencedForms[referenceData.form],\r\n        referenceData.page\r\n      );\r\n    }\r\n    console.error('Form compile: Unsupported reference type', referenceData.reference);\r\n  }\r\n\r\n  private getReferencedForms(formSchema: any, formSchemasLookupArray: Array<any>): Object {\r\n    const referencedForms: Array<any> = formSchema.referencedForms;\r\n\r\n    if (_.isEmpty(referencedForms)) { return; }\r\n\r\n    const keyValReferencedForms: Object = {};\r\n\r\n    _.each(referencedForms, (reference: any) => {\r\n      keyValReferencedForms[reference.alias] =\r\n        this.findSchemaByName(formSchemasLookupArray, reference.formName);\r\n    });\r\n    return keyValReferencedForms;\r\n  }\r\n}\r\n","import { QuestionBase } from './question-base';\r\nimport { TextQuestionOptions } from './interfaces/text-question-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nexport class TextInputQuestion extends QuestionBase {\r\n\r\n    placeholder: string;\r\n    constructor(options: TextQuestionOptions) {\r\n\r\n        super(options);\r\n        this.placeholder = options.placeholder || '';\r\n        this.controlType = AfeControlType.AfeFormControl;\r\n    }\r\n}\r\n","import { TextInputQuestion } from './text-input-question';\r\nimport { TextAreaQuestionOptions } from './interfaces/text-area-question-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nexport class TextAreaInputQuestion extends TextInputQuestion {\r\n    isExpanded: boolean;\r\n    rows: number;\r\n\r\n    constructor(options: TextAreaQuestionOptions) {\r\n\r\n        super(options);\r\n        this.placeholder = options.placeholder || '';\r\n        this.isExpanded = options.isExpanded || false;\r\n        this.rows = options.rows || 18;\r\n        this.renderingType = 'textarea';\r\n        this.controlType = AfeControlType.AfeFormControl;\r\n    }\r\n}\r\n","import { QuestionBase } from './question-base';\r\nimport { SelectQuestionOptions } from './interfaces/select-question-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nexport class SelectQuestion extends QuestionBase {\r\n\r\n    options: { key: string, value: string }[];\r\n    dataSource?: any;\r\n\r\n    constructor(options: SelectQuestionOptions) {\r\n        super(options);\r\n        this.renderingType = 'select';\r\n        this.options = options.options || [];\r\n        this.controlType = AfeControlType.AfeFormControl;\r\n        this.dataSource = options.dataSource || '';\r\n    }\r\n\r\n}\r\n","import { QuestionBase } from './question-base';\r\nimport { UiSelectQuestionOptions } from './interfaces/ui-select-question-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nexport class UiSelectQuestion extends QuestionBase {\r\n\r\n    options: { key: string, value: string }[];\r\n    searchFunction: Function;\r\n    resolveFunction: Function;\r\n    constructor(options: UiSelectQuestionOptions) {\r\n        super(options);\r\n        this.renderingType = 'ui-select';\r\n        this.options = options.options || [];\r\n        this.controlType = AfeControlType.AfeFormControl;\r\n    }\r\n\r\n}\r\n","import { QuestionBase } from './question-base';\r\nimport { DateQuestionOptions } from './interfaces/date-question-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nexport class DateQuestion extends QuestionBase {\r\n    showTime = true;\r\n    showWeeksAdder = false;\r\n    constructor(options: DateQuestionOptions) {\r\n        super(options);\r\n        this.renderingType = 'date';\r\n        this.controlType = AfeControlType.AfeFormControl;\r\n    }\r\n}\r\n","import { SelectQuestion } from './select-question';\r\nimport { MultiSelectQuestionOptions } from './interfaces/multi-select-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nexport class MultiSelectQuestion extends SelectQuestion {\r\n\r\n    options: { key: string, value: string }[];\r\n\r\n    constructor(options: MultiSelectQuestionOptions) {\r\n        super(options);\r\n        this.renderingType = 'multi-select'  || 'single-select';\r\n        this.options = options.options || [];\r\n        this.controlType = AfeControlType.AfeFormControl;\r\n    }\r\n\r\n}\r\n","import { QuestionBase } from '../question-base';\r\nimport { BaseOptions } from './base-options';\r\n\r\nexport abstract class NestedQuestion extends QuestionBase {\r\n    abstract questions: QuestionBase[];\r\n    constructor(options: BaseOptions) {\r\n        super(options);\r\n    }\r\n}\r\n","import { QuestionBase } from './question-base';\r\nimport { GroupQuestionOptions } from './interfaces/group-question-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nimport { NestedQuestion } from './interfaces/nested-questions';\r\n\r\nexport class QuestionGroup extends NestedQuestion {\r\n    questions: QuestionBase[];\r\n    isExpanded = true;\r\n\r\n    constructor(options: GroupQuestionOptions) {\r\n        super(options);\r\n        this.renderingType = 'group';\r\n        this.questions = options.questions || [];\r\n        this.controlType = AfeControlType.AfeFormGroup;\r\n    }\r\n}\r\n","import { QuestionBase } from './question-base';\r\nimport { RepeatingQuestionOptions } from './interfaces/repeating-question-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nimport { NestedQuestion } from './interfaces/nested-questions';\r\n\r\nexport class RepeatingQuestion extends NestedQuestion {\r\n    questions: QuestionBase[];\r\n\r\n    constructor(options: RepeatingQuestionOptions) {\r\n        super(options);\r\n        this.renderingType = 'repeating';\r\n        this.questions = options.questions || [];\r\n        this.controlType = AfeControlType.AfeFormArray;\r\n    }\r\n}\r\n","import { QuestionBase } from './question-base';\r\nimport { CheckboxOptions } from './interfaces/checkbox-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nexport class CheckBoxQuestion extends QuestionBase {\r\n\r\n    options: { key: string, value: string }[];\r\n\r\n    constructor(options: CheckboxOptions) {\r\n        super(options);\r\n        this.renderingType = 'checkbox' || 'radio';\r\n        this.options = options.options || [];\r\n        this.controlType = AfeControlType.AfeFormControl;\r\n    }\r\n\r\n}\r\n","import { QuestionBase } from './question-base';\r\nimport { FileUploadQuestionOptions } from './interfaces/file-upload-question-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nexport class FileUploadQuestion extends QuestionBase {\r\n    showTime = true;\r\n    showWeeksAdder = false;\r\n    dataSource?: any;\r\n    constructor(options: FileUploadQuestionOptions) {\r\n        super(options);\r\n        this.renderingType = 'file';\r\n        this.dataSource = options.dataSource;\r\n        this.controlType = AfeControlType.AfeFormControl;\r\n    }\r\n}\r\n","import { QuestionBase } from './question-base';\r\nimport { TestOrderQuestionOptions } from './interfaces/test-order-question-options';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nexport class TestOrderQuestion extends QuestionBase {\r\n    orderType: string;\r\n    selectableOrders: { concept: string, label: string }[];\r\n    orderSettingUuid: string;\r\n    rendering: string;\r\n    options: any[];\r\n    constructor(options: TestOrderQuestionOptions) {\r\n        super(options);\r\n        this.renderingType = 'select';\r\n        this.orderType = options.orderType;\r\n        this.selectableOrders = options.selectableOrders;\r\n        this.options = options.options;\r\n        this.orderSettingUuid = options.orderSettingUuid;\r\n        this.rendering = options.orderSettingUuid;\r\n        this.controlType = AfeControlType.AfeFormControl;\r\n    }\r\n}\r\n","import { ValidationModel } from './validation.model';\r\n\r\nexport class DateValidationModel extends ValidationModel {\r\n\r\n  allowFutureDates = false;\r\n\r\n  constructor(validations: any) {\r\n    super(validations);\r\n\r\n    this.allowFutureDates = validations.allowFutureDates === 'true' ? true : false;\r\n  }\r\n}\r\n","import { ValidationModel } from './validation.model';\r\n\r\nexport class MaxValidationModel extends ValidationModel {\r\n\r\n  max: number;\r\n\r\n  constructor(validations: any) {\r\n    super(validations);\r\n    const max: any = validations.max;\r\n    this.max = +max;\r\n  }\r\n}\r\n","import { ValidationModel } from './validation.model';\r\n\r\nexport class MinValidationModel extends ValidationModel {\r\n\r\n  min: number;\r\n\r\n  constructor(validations: any) {\r\n    super(validations);\r\n    const min: any = validations.min;\r\n    this.min = +min;\r\n  }\r\n}\r\n","import { Option } from '../question-models/select-option';\r\nimport { DataSource } from '../question-models/interfaces/data-source';\r\nimport { Observable, BehaviorSubject, of } from 'rxjs';\r\n\r\n\r\nexport class DummyDataSource implements DataSource {\r\n  options: Observable<Option[]>;\r\n  option: Observable<Option>;\r\n  returnErrorOnNext = false;\r\n\r\n  constructor() { }\r\n\r\n  resolveSelectedValue(value): Observable<Option> {\r\n    let selectOptions = this.sampleData();\r\n\r\n    selectOptions = selectOptions.map(function (obj) {\r\n      const option = new Option({\r\n        label: obj.label,\r\n        value: obj.concept\r\n      });\r\n      return option;\r\n    });\r\n\r\n\r\n    selectOptions = selectOptions.filter(\r\n      option => option.value === value\r\n    );\r\n\r\n    const test: BehaviorSubject<any> = new BehaviorSubject<any>([]);\r\n    if (!this.returnErrorOnNext) {\r\n      test.next(selectOptions[0]);\r\n    } else {\r\n      test.error(new Error('Error loading Options'));\r\n    }\r\n\r\n    return test.asObservable();\r\n  }\r\n  fileUpload(url) {\r\n    return of({ image: '' });\r\n  }\r\n  fetchFile(url) {\r\n    return of({ image: '' });\r\n  }\r\n  searchOptions(searchText): Observable<Option[]> {\r\n    let selectOptions = this.sampleData();\r\n\r\n    selectOptions = selectOptions.map(function (obj) {\r\n      const option = new Option({\r\n        label: obj.label,\r\n        value: obj.concept\r\n      });\r\n      return option;\r\n    });\r\n\r\n\r\n    selectOptions = selectOptions.filter(\r\n      option => option.label.indexOf(searchText) !== -1\r\n    );\r\n\r\n    const test: BehaviorSubject<any> = new BehaviorSubject<any>([]);\r\n    if (!this.returnErrorOnNext) {\r\n      test.next(selectOptions);\r\n    } else {\r\n      test.error(new Error('Error loading Options'));\r\n    }\r\n\r\n    return test.asObservable();\r\n  }\r\n\r\n  sampleData(): any {\r\n    return [\r\n      {\r\n        concept: 'a899e0ac-1350-11df-a1f1-0026b9348838',\r\n        label: 'None'\r\n      },\r\n      {\r\n        concept: 'a8ad1276-1350-11df-a1f1-0026b9348838',\r\n        label: 'Breathlessness'\r\n      },\r\n      {\r\n        concept: 'a892e4b4-1350-11df-a1f1-0026b9348838',\r\n        label: 'Chest pain'\r\n      },\r\n      {\r\n        concept: 'a8afc8b8-1350-11df-a1f1-0026b9348838',\r\n        label: 'Cough = 2 weeks'\r\n      },\r\n      {\r\n        concept: 'd7adae14-c386-49cc-8f7c-765d8ceec566',\r\n        label: 'Fever for = 2 weeks'\r\n      },\r\n      {\r\n        concept: '3f57aafc-7162-41da-a51b-6a804cb6f5e8',\r\n        label: 'New exposure to household contact with TB'\r\n      },\r\n      {\r\n        concept: 'a89807f0-1350-11df-a1f1-0026b9348838',\r\n        label: 'Noticeable Weight loss'\r\n      },\r\n      {\r\n        concept: 'e1862fef-68ed-4df4-90dd-a00152f719aa',\r\n        label: 'Night sweats = 2 weeks'\r\n      },\r\n      {\r\n        concept: 'a8ad462e-1350-11df-a1f1-0026b9348838',\r\n        label: 'Abdomen'\r\n      },\r\n      {\r\n        concept: 'f218c60e-4b54-475a-a4fa-facab9216da8',\r\n        label: 'Groin'\r\n      },\r\n      {\r\n        concept: 'a8a774b0-1350-11df-a1f1-0026b9348838',\r\n        label: 'Joints'\r\n      },\r\n      {\r\n        concept: '4639388c-ee31-4dcf-abb4-ad71253493bb',\r\n        label: 'Neck Kw'\r\n      }\r\n\r\n    ];\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport * as moment_ from 'moment';\r\n\r\nconst moment = moment_;\r\n\r\n@Injectable()\r\nexport class HistoricalEncounterDataService {\r\n\r\n  dataSources: any = {};\r\n  constructor() {\r\n  }\r\n\r\n  registerEncounters(name: string, encounters: any) {\r\n    const encStore: any = {\r\n      data: [],\r\n      getValue: (key: string, index = 0): any => {\r\n        const pathArray = key.split('.');\r\n        if (pathArray.length > 0) {\r\n          return this.getFirstValue(pathArray, encStore.data[index]);\r\n        }\r\n        return encStore.data[index][key];\r\n      },\r\n      getAllObjects: () => {\r\n        return encStore.data;\r\n      },\r\n      getSingleObject: (index = 0) => {\r\n        return encStore.data[index];\r\n      }\r\n    };\r\n\r\n    if (_.isArray(encounters)) {\r\n      const group: Array<any> = [];\r\n      _.each(encounters, (encounter) => {\r\n        group.push(this._transformEncounter(encounter));\r\n      });\r\n\r\n      // Sort them in reverse chronological order\r\n      encStore.data = _.sortBy(group, 'encounterDatetime').reverse();\r\n    } else {\r\n      // Assume a single openmrs rest encounter object.\r\n      encStore.data.push(this._transformEncounter(encounters));\r\n    }\r\n\r\n    this.putObject(name, encStore);\r\n\r\n  }\r\n\r\n  putObject(name, object): void {\r\n    this.dataSources[name] = object;\r\n  }\r\n\r\n  getObject(name: string): any {\r\n    return this.dataSources[name] || null;\r\n  }\r\n\r\n  getFirstValue(path: Array<string>, object: any): any {\r\n\r\n    const answers = [];\r\n\r\n    this.getAllValues(path, object, answers);\r\n\r\n    if (answers.length > 0) {\r\n      return {\r\n        value: answers[0],\r\n        valueDate: moment(object.encounterDatetime).format('ll')\r\n      };\r\n    }\r\n\r\n  }\r\n\r\n  getAllValues(path, object, answers) {\r\n    if (_.isNil(object)) {\r\n      return;\r\n    }\r\n\r\n    if (path.length <= 1) {\r\n      if (!_.isNil(object[path[0]])) {\r\n        answers.push(object[path[0]]);\r\n      }\r\n      return;\r\n    }\r\n\r\n    const newpath = path.splice(1);\r\n    const key = path[0];\r\n\r\n    if (_.isArray(object[key]) && object[key].length > 0) {\r\n      _.each(object[key], (childObject) => {\r\n        this.getAllValues(newpath.slice(0), childObject, answers);\r\n      });\r\n    } else {\r\n      this.getAllValues(newpath.slice(0), object[key], answers);\r\n    }\r\n  }\r\n\r\n  private _transformEncounter(encounter: any) {\r\n    if (_.isNil(encounter)) {\r\n      return;\r\n    }\r\n    // Transform encounter Level details to key value pairs.\r\n    const prevEncounter: any = {\r\n      encounterDatetime: encounter.encounterDatetime\r\n    };\r\n\r\n    if (encounter.location && encounter.location.uuid) {\r\n      prevEncounter.location = encounter.location.uuid;\r\n    }\r\n\r\n    if (encounter.patient && encounter.patient.uuid) {\r\n      prevEncounter.patient = encounter.patient.uuid;\r\n    }\r\n\r\n    if (encounter.form && encounter.form.uuid) {\r\n      prevEncounter.form = encounter.form.uuid;\r\n    }\r\n\r\n    if (encounter.encounterType && encounter.encounterType.uuid) {\r\n      prevEncounter.encounterType = encounter.encounterType.uuid;\r\n    }\r\n\r\n    if (encounter.provider) {\r\n      const provider = encounter.provider;\r\n      prevEncounter.provider = provider.uuid;\r\n    }\r\n\r\n    // Deal with obs.\r\n    if (encounter.obs) {\r\n      const processedObs: any = this._transformObs(encounter.obs);\r\n\r\n      // add in individual processed obs to prevEncounter\r\n      _.extend(prevEncounter, processedObs);\r\n    }\r\n\r\n    return prevEncounter;\r\n  }\r\n\r\n  private _transformObs(obs: any): any {\r\n\r\n    if (!obs) {\r\n      return null;\r\n    }\r\n\r\n    const obsRep: any = {};\r\n    if (_.isArray(obs)) {\r\n      _.each(obs, (singleObs) => {\r\n        this._augumentObs(obsRep, this._transformObs(singleObs));\r\n      });\r\n      return obsRep;\r\n    } else if (obs.groupMembers) {\r\n      const group: any = {};\r\n      _.each(obs.groupMembers, (member) => {\r\n        this._augumentObs(group, this._transformObs(member));\r\n      });\r\n\r\n      // Handle already existing data\r\n      if (obsRep[obs.concept.uuid] && _.isArray(obsRep[obs.concept.uuid])) {\r\n        obsRep[obs.concept.uuid].push(group);\r\n      } else {\r\n        obsRep[obs.concept.uuid] = [group];\r\n      }\r\n      return obsRep;\r\n    } else {\r\n      if (obs.value instanceof Object) {\r\n        obsRep[obs.concept.uuid] = obs.value.uuid;\r\n      } else {\r\n        obsRep[obs.concept.uuid] = obs.value;\r\n      }\r\n      return obsRep;\r\n    }\r\n\r\n  }\r\n\r\n  private _augumentObs(existing: any, toAdd: any): any {\r\n    for (const key in toAdd) {\r\n      if (_.has(existing, key)) {\r\n        // check if not an array yet\r\n        if (!_.isArray(existing[key])) {\r\n          const temp = existing[key];\r\n          existing[key] = [temp];\r\n        }\r\n\r\n        // Check whether the incoming is array (for group members)\r\n        if (_.isArray(toAdd[key])) {\r\n          Array.prototype.push.apply(existing[key], toAdd[key]);\r\n        } else {\r\n          existing[key].push(toAdd[key]);\r\n        }\r\n      } else {\r\n        existing[key] = toAdd[key];\r\n      }\r\n    }\r\n    return existing;\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { HistoricalEncounterDataService } from '../services/historical-encounter-data.service';\r\nimport { JsExpressionHelper } from './js-expression-helper';\r\nimport { Runnable, ExpressionRunner } from '../expression-runner/expression-runner';\r\nimport { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\n\r\n@Injectable()\r\nexport class HistoricalHelperService {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public evaluate(expr: string, dataSources: any, additionalScopevalues: any): any {\r\n    const HD = new HistoricalEncounterDataService();\r\n    HD.registerEncounters('prevEnc', dataSources['rawPrevEnc']);\r\n    const deps: any = {\r\n      HD: HD\r\n    };\r\n\r\n    if (additionalScopevalues) {\r\n      for (const o in additionalScopevalues) {\r\n        if (additionalScopevalues[o]) {\r\n          deps[o] = additionalScopevalues[o];\r\n        }\r\n      }\r\n    }\r\n\r\n    const helper = new JsExpressionHelper();\r\n    const control: AfeFormControl = new AfeFormControl();\r\n    const runner: ExpressionRunner = new ExpressionRunner();\r\n    const runnable: Runnable = runner.getRunnable(expr, control, helper.helperFunctions, deps);\r\n\r\n    return runnable.run();\r\n  }\r\n\r\n  public evaluatePrecondition(expr: string, dataSources: any, historicalValue: any): any {\r\n    const additionalScope = {\r\n      histValue: historicalValue\r\n    };\r\n\r\n    return this.evaluate(expr, dataSources, additionalScope);\r\n  }\r\n\r\n}\r\n","import * as _ from 'lodash';\r\nimport * as moment_ from 'moment';\r\n\r\nconst moment = moment_;\r\n\r\nimport { TextInputQuestion } from '../question-models/text-input-question';\r\nimport { TextAreaInputQuestion } from '../question-models/text-area-input-question';\r\nimport { SelectQuestion } from '../question-models/select-question';\r\nimport { UiSelectQuestion } from '../question-models/ui-select-question';\r\nimport { DateQuestion } from '../question-models/date-question';\r\nimport { MultiSelectQuestion } from '../question-models/multi-select-question';\r\nimport { QuestionGroup } from '../question-models/group-question';\r\nimport { RepeatingQuestion } from '../question-models/repeating-question';\r\nimport { QuestionBase } from '../question-models/question-base';\r\nimport { FileUploadQuestion } from '../question-models/file-upload-question';\r\nimport { TestOrderQuestion } from '../question-models/test-order-question';\r\nimport { AfeControlType } from '../../abstract-controls-extension/afe-control-type';\r\n\r\nimport { ValidationModel } from '../question-models/validation.model';\r\nimport { DateValidationModel } from '../question-models/date-validation.model';\r\nimport { MaxValidationModel } from '../question-models/max-validation.model';\r\nimport { MinValidationModel } from '../question-models/min-validation.model';\r\nimport { JsExpressionValidationModel } from '../question-models/js-expression-validation.model';\r\nimport { ConditionalValidationModel } from '../question-models/conditional-validation.model';\r\nimport { DummyDataSource } from '../data-sources/dummy-data-source';\r\nimport { HistoricalHelperService } from '../helpers/historical-expression-helper-service';\r\nimport { Form } from './form';\r\nimport { CheckBoxQuestion } from '../question-models/models';\r\n\r\nexport class QuestionFactory {\r\n  dataSources: any = {};\r\n  historicalHelperService: HistoricalHelperService = new HistoricalHelperService();\r\n  constructor() {\r\n  }\r\n\r\n  createQuestionModel(formSchema: any, form?: Form): QuestionBase {\r\n    if (form) {\r\n      const dataSources = form.dataSourcesContainer.dataSources;\r\n      this.dataSources = dataSources;\r\n    }\r\n    return this.toFormQuestionModel(formSchema);\r\n  }\r\n\r\n  toSelectQuestion(schemaQuestion: any): SelectQuestion {\r\n    const question = new SelectQuestion({ options: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.options = schemaQuestion.questionOptions.answers.map(function (obj) {\r\n      return {\r\n        label: obj.label,\r\n        value: obj.concept\r\n      };\r\n    });\r\n\r\n    const options: any = question.options;\r\n    options.splice(0, 0, {\r\n      label: '',\r\n      value: ''\r\n    });\r\n\r\n    question.renderingType = schemaQuestion.questionOptions.rendering;\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toNumericQuestion(schemaQuestion: any): TextInputQuestion {\r\n    const question = new TextInputQuestion({ placeholder: '', type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = 'number';\r\n    question.placeholder = schemaQuestion.questionOptions.placeholder;\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.placeholder = schemaQuestion.questionOptions.placeholder || '';\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toNumberQuestion(schemaQuestion: any): TextInputQuestion {\r\n    const question = new TextInputQuestion({ placeholder: '', type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = 'number';\r\n    question.placeholder = schemaQuestion.questionOptions.placeholder || '';\r\n    question.extras = schemaQuestion;\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toDateQuestion(schemaQuestion: any): DateQuestion {\r\n    if (schemaQuestion.type === 'encounterDatetime') {\r\n      return this.toEncounterDatetimeQuestion(schemaQuestion);\r\n    }\r\n    const question = new DateQuestion({ type: '', key: '' });\r\n    question.renderingType = 'date';\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.showTime = schemaQuestion.questionOptions.showTime as boolean;\r\n    question.showWeeksAdder = schemaQuestion.questionOptions.weeksList ? true : false;\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toEncounterDatetimeQuestion(schemaQuestion: any): DateQuestion {\r\n    const question = new DateQuestion({ type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.renderingType = 'date';\r\n    question.key = schemaQuestion.id;\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.showWeeksAdder = schemaQuestion.questionOptions.weeksList ? true : false;\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n    question.showTime = true;\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toCheckBoxQuestion(schemaQuestion: any): CheckBoxQuestion {\r\n    const question = new CheckBoxQuestion({ options: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.extras = schemaQuestion;\r\n    question.options = schemaQuestion.questionOptions.answers.map((obj) => {\r\n      return {\r\n        label: obj.label,\r\n        value: obj.concept\r\n      };\r\n    });\r\n    question.options.splice(0, 0);\r\n\r\n    question.renderingType = schemaQuestion.questionOptions.rendering;\r\n    const mappings: any = {\r\n      label: 'label',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n\r\n  }\r\n\r\n  toMultiCheckboxQuestion(schemaQuestion: any): MultiSelectQuestion {\r\n    const question = new MultiSelectQuestion({ renderType: '', options: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.options = schemaQuestion.questionOptions.answers.map(function (obj) {\r\n      return {\r\n        label: obj.label,\r\n        value: obj.concept\r\n      };\r\n    });\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.dataSource = new DummyDataSource();\r\n    question.extras = schemaQuestion;\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toTextAreaQuestion(schemaQuestion: any): TextAreaInputQuestion {\r\n    const question = new TextAreaInputQuestion({\r\n      isExpanded: false, rows: 18,\r\n      placeholder: '', type: '', key: ''\r\n    });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.placeholder = schemaQuestion.questionOptions.placeholder;\r\n    question.isExpanded = schemaQuestion.isExpanded;\r\n    question.rows = schemaQuestion.questionOptions.rows;\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.placeholder = schemaQuestion.questionOptions.placeholder || '';\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toTextQuestion(schemaQuestion: any): TextInputQuestion {\r\n    const question = new TextInputQuestion({ placeholder: '', type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = 'text';\r\n    question.placeholder = schemaQuestion.questionOptions.placeholder;\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.placeholder = schemaQuestion.questionOptions.placeholder || '';\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toFileUploadQuestion(schemaQuestion: any): FileUploadQuestion {\r\n    const question = new FileUploadQuestion({ type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = 'file';\r\n    question.dataSource = 'file';\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toDrugQuestion(schemaQuestion: any): SelectQuestion {\r\n    const question = new SelectQuestion({ options: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = 'remote-select';\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.dataSource = 'drug';\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toProblemQuestion(schemaQuestion: any): SelectQuestion {\r\n    const question = new SelectQuestion({ options: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = 'remote-select';\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.dataSource = 'problem';\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toConceptAnswerSelect(schemaQuestion: any): SelectQuestion {\r\n    const question = new SelectQuestion({ options: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = 'remote-select';\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.dataSource = schemaQuestion.questionOptions.dataSource || 'conceptAnswers';\r\n    question.dataSourceOptions = {\r\n      concept: schemaQuestion.questionOptions.concept\r\n    };\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toRepeatingQuestion(schemaQuestion: any): RepeatingQuestion {\r\n    const question = new RepeatingQuestion({ questions: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.questions = this.getChildrenQuestionModels(schemaQuestion.questions);\r\n    question.key = schemaQuestion.id;\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n\r\n    if (schemaQuestion.type === 'testOrder') {\r\n      const testOrder = this.toTestOrderQuestion(schemaQuestion);\r\n      const orders = []; orders.push(testOrder);\r\n      question.questions = orders;\r\n    }\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toGroupQuestion(schemaQuestion: any): QuestionGroup {\r\n    const question = new QuestionGroup({ questions: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.questions = this.getChildrenQuestionModels(schemaQuestion.questions);\r\n    question.key = schemaQuestion.id;\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toPageQuestion(schemaQuestion: any): QuestionGroup {\r\n    const question = new QuestionGroup({ questions: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.label;\r\n    question.renderingType = 'page';\r\n    question.controlType = AfeControlType.None;\r\n    question.questions = [];\r\n    schemaQuestion.sections.forEach(element => {\r\n      question.questions.push(this.toSectionQuestion(element));\r\n    });\r\n    return question;\r\n  }\r\n\r\n  toFormQuestionModel(schemaQuestion: any): QuestionGroup {\r\n    const question = new QuestionGroup({ questions: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.label;\r\n    question.renderingType = 'form';\r\n    question.controlType = AfeControlType.AfeFormGroup;\r\n    question.extras = schemaQuestion;\r\n    question.questions = [];\r\n    schemaQuestion.pages.forEach(element => {\r\n      question.questions.push(this.toPageQuestion(element));\r\n    });\r\n\r\n    return question;\r\n  }\r\n\r\n  toSectionQuestion(schemaQuestion: any): QuestionGroup {\r\n    const question = new QuestionGroup({ questions: [], type: '', key: '' });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.label;\r\n    question.renderingType = 'section';\r\n    question.controlType = AfeControlType.None;\r\n    question.isExpanded = schemaQuestion.isExpanded === 'true' ? true : false;\r\n    question.questions = this.getSchemaQuestions(schemaQuestion.questions);\r\n    return question;\r\n  }\r\n\r\n  toPersonAttributeQuestion(schemaQuestion: any): UiSelectQuestion {\r\n    const question = new UiSelectQuestion({\r\n      options: [], type: '', key: '', searchFunction: function () { },\r\n      resolveFunction: function () {\r\n\r\n      }\r\n    });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = 'remote-select';\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.dataSource = 'personAttribute';\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toEncounterProviderQuestion(schemaQuestion: any): UiSelectQuestion {\r\n    const question = new UiSelectQuestion({\r\n      options: [], type: '', key: '', searchFunction: function () { },\r\n      resolveFunction: function () {\r\n\r\n      }\r\n    });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = 'remote-select';\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.dataSource = 'provider';\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toFieldSetQuestion(schemaQuestion: any): QuestionGroup {\r\n    const toReturn = this.toGroupQuestion(schemaQuestion);\r\n    toReturn.renderingType = 'field-set';\r\n    return toReturn;\r\n  }\r\n\r\n  toEncounterLocationQuestion(schemaQuestion: any): UiSelectQuestion {\r\n    const question = new UiSelectQuestion({\r\n      options: [], type: '', key: '', searchFunction: function () { },\r\n      resolveFunction: function () {\r\n\r\n      }\r\n    });\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.renderingType = schemaQuestion.type;\r\n    question.renderingType = 'remote-select';\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.dataSource = 'location';\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    this.addDisableOrHideProperty(schemaQuestion, question);\r\n    this.addAlertProperty(schemaQuestion, question);\r\n    this.addHistoricalExpressions(schemaQuestion, question);\r\n    this.addCalculatorProperty(schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  toTestOrderQuestion(schemaQuestion: any): TestOrderQuestion {\r\n\r\n    const question = new TestOrderQuestion({\r\n      type: '', key: '', orderType: '', selectableOrders: [],\r\n      orderSettingUuid: '', label: '', rendering: ''\r\n    });\r\n\r\n    question.label = schemaQuestion.label;\r\n    question.key = schemaQuestion.id;\r\n    question.validators = this.addValidators(schemaQuestion);\r\n    question.extras = schemaQuestion;\r\n    question.options = schemaQuestion.questionOptions.selectableOrders.map(function (obj) {\r\n      return {\r\n        label: obj.label,\r\n        value: obj.concept\r\n      };\r\n    });\r\n\r\n    const mappings: any = {\r\n      label: 'label',\r\n      required: 'required',\r\n      id: 'key'\r\n    };\r\n    this.copyProperties(mappings, schemaQuestion, question);\r\n    return question;\r\n  }\r\n\r\n  getSchemaQuestions(schema: any): any {\r\n    const listQuestions = new Array();\r\n    this.getQuestions(schema, listQuestions);\r\n    return listQuestions;\r\n  }\r\n\r\n  getQuestions(schema: any, foundArray: any): any {\r\n    if (!Array.isArray(foundArray)) {\r\n      foundArray = [];\r\n    }\r\n    if (Array.isArray(schema)) {\r\n\r\n      for (const property in schema) {\r\n        if (schema.hasOwnProperty(property)) {\r\n          this.getQuestions(schema[property], foundArray);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (schema && !Array.isArray(schema) && typeof schema === 'object') {\r\n      if (schema.questionOptions) {\r\n        if (schema.questionOptions.rendering === 'group' ||\r\n          schema.questionOptions.rendering === 'repeating') {\r\n          // schema.questions = this.getGroupMembers(schema.questions);\r\n          foundArray.push(this.toModel(schema, schema.questionOptions.rendering));\r\n        } else if (schema.questionOptions.rendering === 'field-set') {\r\n        } else {\r\n          foundArray.push(this.toModel(schema, schema.questionOptions.rendering));\r\n        }\r\n      } else {\r\n        for (const o in schema) {\r\n          if (schema.hasOwnProperty(o)) {\r\n            this.getQuestions(schema[o], foundArray);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  getChildrenQuestionModels(schema: any): any {\r\n    const children = [];\r\n    this.getQuestions(schema, children);\r\n    return children;\r\n\r\n  }\r\n\r\n  toModel(schema: any, renderType: string): any {\r\n    if (renderType === 'ui-select-extended') {\r\n      renderType = schema.type;\r\n    }\r\n    if (!schema.id) {\r\n      schema['id'] = this.generateId(10);\r\n    }\r\n\r\n    if (schema.questionOptions &&\r\n      (schema.questionOptions.showDate === true ||\r\n        schema.questionOptions.showDate === 'true')) {\r\n      schema = this.convertOldVersionComplexObsQuestionToNewVersion(schema);\r\n      renderType = 'field-set';\r\n    }\r\n\r\n    switch (renderType) {\r\n      case 'select':\r\n        return this.toSelectQuestion(schema);\r\n      case 'single-select':\r\n        return this.toSelectQuestion(schema);\r\n      case 'multi-select':\r\n        return this.toSelectQuestion(schema);\r\n      case 'numeric':\r\n        return this.toNumericQuestion(schema);\r\n      case 'number':\r\n        return this.toNumberQuestion(schema);\r\n      case 'encounterDatetime':\r\n        return this.toEncounterDatetimeQuestion(schema);\r\n      case 'date':\r\n        return this.toDateQuestion(schema);\r\n      case 'multiCheckbox':\r\n        return this.toMultiCheckboxQuestion(schema);\r\n      case 'drug':\r\n        return this.toDrugQuestion(schema);\r\n      case 'problem':\r\n        return this.toProblemQuestion(schema);\r\n      case 'group':\r\n        return this.toGroupQuestion(schema);\r\n      case 'field-set':\r\n        return this.toFieldSetQuestion(schema);\r\n      case 'repeating':\r\n        return this.toRepeatingQuestion(schema);\r\n      case 'personAttribute':\r\n        return this.toPersonAttributeQuestion(schema);\r\n      case 'text':\r\n        return this.toTextQuestion(schema);\r\n      case 'textarea':\r\n        return this.toTextAreaQuestion(schema);\r\n      case 'textarea':\r\n        return this.toTextAreaQuestion(schema);\r\n      case 'select-concept-answers':\r\n        return this.toConceptAnswerSelect(schema);\r\n      case 'encounterLocation':\r\n        return this.toEncounterLocationQuestion(schema);\r\n      case 'encounterDatetime':\r\n        return this.toEncounterDatetimeQuestion(schema);\r\n      case 'encounterProvider':\r\n        return this.toEncounterProviderQuestion(schema);\r\n      case 'radio':\r\n        return this.toCheckBoxQuestion(schema);\r\n      case 'checkbox':\r\n        return this.toCheckBoxQuestion(schema);\r\n      case 'encounterProvider':\r\n        return this.toEncounterProviderQuestion(schema);\r\n      case 'file':\r\n        return this.toFileUploadQuestion(schema);\r\n      default:\r\n        console.warn('New Schema Question Type found.........' + renderType);\r\n        return this.toTextQuestion(schema);\r\n    }\r\n\r\n  }\r\n\r\n  convertOldVersionComplexObsQuestionToNewVersion(schemaQuestion: any) {\r\n    const converted: any = {};\r\n    converted.type = 'complex-obs';\r\n    converted.label = schemaQuestion.label;\r\n    converted.id = 'complex_' + schemaQuestion.id;\r\n    converted.questionOptions = {};\r\n    converted.questionOptions.concept = schemaQuestion.questionOptions.concept;\r\n    converted.questionOptions.rendering = 'field-set';\r\n    converted.questions = [];\r\n    converted.validators = [];\r\n\r\n    const mainField: any = JSON.parse(JSON.stringify(schemaQuestion));\r\n    mainField.type = 'complex-obs-child';\r\n    delete mainField.questionOptions.showDate;\r\n    delete mainField.questionOptions.shownDateOptions;\r\n    mainField.questionOptions.obsField = 'value';\r\n\r\n    const dateField: any = {};\r\n    dateField.type = 'complex-obs-child';\r\n    dateField.label = 'Date of ' + mainField.label;\r\n    dateField.id = 'date_' + mainField.id;\r\n    dateField.questionOptions = {};\r\n    dateField.questionOptions.concept = schemaQuestion.questionOptions.concept;\r\n    dateField.questionOptions.rendering = 'date';\r\n    dateField.questionOptions.obsField = 'obsDatetime';\r\n    const dateOptions: any = (Object as any).assign({},\r\n      schemaQuestion.questionOptions.shownDateOptions);\r\n    dateField.validators = dateOptions.validators;\r\n    dateField.hide = dateOptions.hide;\r\n    if (dateOptions.historicalExpression) {\r\n      dateField.historicalExpression = dateOptions.historicalExpression;\r\n    }\r\n    converted.questions.push(mainField);\r\n    converted.questions.push(dateField);\r\n\r\n    return converted;\r\n  }\r\n\r\n  copyProperties(mappings: any, source: any, destination: QuestionBase) {\r\n\r\n    for (const property in source) {\r\n      if (mappings.hasOwnProperty(property) && destination.hasOwnProperty(mappings[property])) {\r\n        destination[mappings[property]] = source[property];\r\n      }\r\n    }\r\n  }\r\n\r\n  addValidators(schemaQuestion: any): Array<ValidationModel> {\r\n\r\n    const validators: Array<ValidationModel> = [];\r\n\r\n    if (schemaQuestion.validators) {\r\n\r\n      // TODO - add more validator types\r\n      _.forEach(schemaQuestion.validators, (validator: any) => {\r\n        switch (validator.type) {\r\n          case 'date':\r\n            validators.push(new DateValidationModel(validator));\r\n            break;\r\n          case 'js_expression':\r\n            validators.push(new JsExpressionValidationModel(validator));\r\n            break;\r\n          case 'conditionalAnswered':\r\n            validators.push(new ConditionalValidationModel(validator));\r\n            break;\r\n          default:\r\n            validators.push(new ValidationModel(validator));\r\n            break;\r\n        }\r\n      });\r\n    }\r\n\r\n    const questionOptions = schemaQuestion.questionOptions;\r\n    const renderingType = questionOptions ? questionOptions.rendering : '';\r\n    switch (renderingType) {\r\n      case 'number':\r\n\r\n        if (questionOptions.max && questionOptions.min) {\r\n          validators.push(new MaxValidationModel({\r\n            type: 'max',\r\n            max: questionOptions.max\r\n          }));\r\n          validators.push(new MinValidationModel({\r\n            type: 'min',\r\n            min: questionOptions.min\r\n          }));\r\n        }\r\n\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    // add conditional required validators\r\n    if (typeof schemaQuestion.required === 'object') {\r\n\r\n      const required: any = schemaQuestion.required;\r\n\r\n      if (required.type === 'conditionalRequired') {\r\n\r\n        validators.push(new ConditionalValidationModel({\r\n          referenceQuestionId: required.referenceQuestionId,\r\n          referenceQuestionAnswers: required.referenceQuestionAnswers,\r\n          type: required.type,\r\n          message: required.message,\r\n        }));\r\n      }\r\n    }\r\n\r\n    return validators;\r\n  }\r\n\r\n  addHistoricalExpressions(schemaQuestion: any, question: QuestionBase): any {\r\n    if (schemaQuestion.historicalExpression && schemaQuestion.historicalExpression.length > 0) {\r\n      question.setHistoricalValue(true);\r\n      if (schemaQuestion.showHistoricalEncounterDate !== undefined) {\r\n        question.showHistoricalEncounterDate(\r\n          (schemaQuestion.showHistoricalEncounterDate === 'true'));\r\n      } else {\r\n        question.showHistoricalEncounterDate();\r\n      }\r\n      const origValue = this.historicalHelperService.evaluate(schemaQuestion.historicalExpression,\r\n        this.dataSources, undefined);\r\n      question.historicalDataValue = origValue;\r\n      // console.info('historical value', origValue);\r\n      // console.info('historical data question :::', question);\r\n      // console.info('schema data question :::', schemaQuestion);\r\n\r\n      if (schemaQuestion.historicalPrepopulateCondition && origValue) {\r\n        const toPopulate = this.historicalHelperService.evaluatePrecondition(schemaQuestion.historicalPrepopulateCondition,\r\n          this.dataSources, origValue);\r\n\r\n        if (toPopulate) {\r\n          question.defaultValue = origValue.value;\r\n        }\r\n        return; // don't try to evaluate the other option\r\n      }\r\n\r\n      if (schemaQuestion.historicalPrepopulate && origValue) {\r\n        // sample schema options for this branch\r\n        // \"historicalPrepopulate\":true,\r\n        // \"allowedHistoricalValueAgeInDays\": 40000,\r\n        const valDate = moment(origValue.valueDate);\r\n        const differenceInDays = moment().diff(valDate, 'days');\r\n        if (Number.isInteger(schemaQuestion.allowedHistoricalValueAgeInDays)) {\r\n          if (differenceInDays <= schemaQuestion.allowedHistoricalValueAgeInDays) {\r\n            question.defaultValue = origValue.value;\r\n          }\r\n        } else {\r\n          question.defaultValue = origValue.value;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  addCalculatorProperty(schemaQuestion: any, question: QuestionBase): any {\r\n\r\n    if (schemaQuestion.questionOptions &&\r\n      typeof schemaQuestion.questionOptions.calculate === 'object') {\r\n      question.calculateExpression = schemaQuestion.questionOptions.calculate.calculateExpression;\r\n    }\r\n\r\n  }\r\n\r\n  addAlertProperty(schemaQuestion: any, question: QuestionBase): any {\r\n    if (schemaQuestion.alert) {\r\n      question.alert = schemaQuestion.alert;\r\n    }\r\n    // if (typeof schemaQuestion.message === 'object') {\r\n    //   if (schemaQuestion.message.alertWhenExpression) {\r\n    //     question.message = schemaQuestion.message.alertWhenExpression;\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  addDisableOrHideProperty(schemaQuestion: any, question: QuestionBase): any {\r\n\r\n    if (!!schemaQuestion.disable) {\r\n      question.disable = schemaQuestion.disable;\r\n    }\r\n\r\n    if (typeof schemaQuestion.disable === 'object') {\r\n      question.disable = schemaQuestion.disable.disableWhenExpression;\r\n    }\r\n\r\n    if (!!schemaQuestion.hide) {\r\n      question.hide = schemaQuestion.hide;\r\n    }\r\n    if (typeof schemaQuestion.hide === 'object') {\r\n\r\n      if (schemaQuestion.hide.hideWhenExpression) {\r\n        question.hide = schemaQuestion.hide.hideWhenExpression;\r\n      }\r\n    }\r\n  }\r\n  private generateId(x) {\r\n    let s = '_';\r\n    while (s.length < x && x > 0) {\r\n      const r = Math.random();\r\n      s += (r < 0.1 ? Math.floor(r * 100) :\r\n        String.fromCharCode(Math.floor(r * 26) + (r > 0.5 ? 97 : 65)));\r\n    }\r\n    return '_' + s;\r\n  }\r\n}\r\n","import * as _ from 'lodash';\r\n\r\nimport { FormFactory } from './form.factory';\r\nimport { QuestionFactory } from './question.factory';\r\nimport { DataSources } from '../data-sources/data-sources';\r\nimport { NodeBase, GroupNode, LeafNode, ArrayNode } from './form-node';\r\nimport { QuestionBase } from '../question-models/question-base';\r\nimport { AfeFormControl } from '../../abstract-controls-extension/afe-form-control';\r\nimport { AfeFormArray } from '../../abstract-controls-extension/afe-form-array';\r\n\r\nexport class Form {\r\n  public rootNode: GroupNode;\r\n  public valueProcessingInfo: any = {};\r\n    public existingOrders: any = {};\r\n  private _dataSourcesContainer: DataSources;\r\n  private _showErrors = false;\r\n  constructor(public schema: any, public formFactory: FormFactory, public questionFactory: QuestionFactory) {\r\n    this._dataSourcesContainer = new DataSources();\r\n  }\r\n\r\n  get dataSourcesContainer(): DataSources {\r\n    return this._dataSourcesContainer;\r\n  }\r\n\r\n  searchNodeByPath(node: GroupNode, path, found: Array<NodeBase>) {\r\n\r\n    const children: NodeBase = node.children;\r\n\r\n    for (const key in children) {\r\n\r\n      if (children.hasOwnProperty(key)) {\r\n\r\n        const child: NodeBase = children[key];\r\n\r\n        if (child instanceof GroupNode) {\r\n\r\n          if (path === child.path) {\r\n            found.push(child);\r\n            return found;\r\n          }\r\n\r\n          this.searchNodeByPath(child, path, found);\r\n        } else if (child instanceof LeafNode) {\r\n\r\n          if (path === child.path) {\r\n            found.push(child);\r\n            return found;\r\n          }\r\n        } else if (child instanceof ArrayNode) {\r\n\r\n          if (path === child.path) {\r\n            found.push(child);\r\n            return found;\r\n          }\r\n\r\n          const aChild: ArrayNode = child as ArrayNode;\r\n\r\n          aChild.children.forEach(aChildNode => {\r\n            this.searchNodeByPath(aChildNode, path, found);\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    return found;\r\n  }\r\n\r\n  searchNodeByQuestionId(questionId: string, questionType?: string): Array<NodeBase> {\r\n    const found = [];\r\n    if (questionType) {\r\n      this.searchNodeByQuestionType(this.rootNode, questionType, found);\r\n    } else {\r\n      this.findNodesByQuestionId(this.rootNode, questionId, found);\r\n    }\r\n    return found;\r\n  }\r\n\r\n  searchNodeByQuestionType(rootNode: any, questionType: string , found: Array<NodeBase>) {\r\n\r\n    if (rootNode instanceof GroupNode) {\r\n      const nodeAsGroup = rootNode as GroupNode;\r\n      // tslint:disable-next-line:forin\r\n      for (const o in nodeAsGroup.children) {\r\n        this.searchNodeByQuestionType(nodeAsGroup.children[o], questionType, found);\r\n      }\r\n    }\r\n\r\n    if (rootNode instanceof ArrayNode) {\r\n      const nodeAsArray = rootNode as ArrayNode;\r\n\r\n      nodeAsArray.children.forEach(node => {\r\n        this.searchNodeByQuestionType(node, questionType, found);\r\n      });\r\n    }\r\n\r\n    if (rootNode instanceof LeafNode) {\r\n      const questionBase: QuestionBase = rootNode.question;\r\n\r\n      if (questionBase.extras && questionBase.extras.type && questionBase.extras.type === questionType) {\r\n        found.push(rootNode);\r\n      }\r\n    }\r\n  }\r\n\r\n  private findNodesByQuestionId(rootNode: NodeBase, questionId: string,\r\n    results: Array<NodeBase>) {\r\n    if (rootNode.question.key === questionId) {\r\n      results.push(rootNode);\r\n    }\r\n\r\n    if (rootNode instanceof GroupNode) {\r\n      const nodeAsGroup = rootNode as GroupNode;\r\n      // tslint:disable-next-line:forin\r\n      for (const o in nodeAsGroup.children) {\r\n        this.findNodesByQuestionId(nodeAsGroup.children[o], questionId, results);\r\n      }\r\n    }\r\n\r\n    if (rootNode instanceof ArrayNode) {\r\n      const nodeAsArray = rootNode as ArrayNode;\r\n\r\n      nodeAsArray.children.forEach(node => {\r\n        this.findNodesByQuestionId(node, questionId, results);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  get valid() {\r\n\r\n    return this.rootNode.control.valid;\r\n  }\r\n\r\n  set showErrors(show: boolean) {\r\n    this._showErrors = show;\r\n  }\r\n\r\n  get showErrors() {\r\n    return this._showErrors;\r\n  }\r\n\r\n  markInvalidControls(node: GroupNode, invalidControlNodes?: any) {\r\n\r\n\r\n    const children: NodeBase = node.children;\r\n\r\n    for (const key in children) {\r\n\r\n      if (children.hasOwnProperty(key)) {\r\n\r\n        const child: NodeBase = children[key];\r\n\r\n        if (child instanceof GroupNode) {\r\n\r\n          this.markInvalidControls(child, invalidControlNodes);\r\n        } else if (child instanceof LeafNode) {\r\n\r\n          const questionBase: QuestionBase = (child as LeafNode).question;\r\n\r\n          if (questionBase.key && questionBase.key.length > 0) {\r\n\r\n            const c: AfeFormControl | AfeFormArray = child.control as AfeFormControl | AfeFormArray;\r\n\r\n            if (!c.valid && !c.disabled) {\r\n              if (invalidControlNodes) {\r\n                invalidControlNodes.push(child);\r\n              }\r\n\r\n              c.markAsTouched();\r\n            }\r\n          }\r\n        } else if (child instanceof ArrayNode) {\r\n          const arrayNode: ArrayNode = child as ArrayNode;\r\n\r\n          if (arrayNode && arrayNode.children && arrayNode.children.length > 0) {\r\n\r\n            _.forEach(arrayNode.children, (groupNode: any) => {\r\n              this.markInvalidControls(groupNode, invalidControlNodes);\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return invalidControlNodes;\r\n  }\r\n\r\n  updateHiddenDisabledStateForAllControls() {\r\n    this._updateHiddenDisabledStateForAllControls(this.rootNode);\r\n  }\r\n\r\n\r\n  updateAlertsForAllControls() {\r\n    this._updateAlertsForAllControls(this.rootNode);\r\n  }\r\n\r\n  private _updateAlertsForAllControls(rootNode: NodeBase) {\r\n    if (rootNode.control) {\r\n      if ((rootNode.control as any).updateAlert) {\r\n        (rootNode.control as any).updateAlert();\r\n      }\r\n    }\r\n\r\n    if (rootNode instanceof GroupNode) {\r\n      const nodeAsGroup = rootNode as GroupNode;\r\n      // tslint:disable-next-line:forin\r\n      for (const o in nodeAsGroup.children) {\r\n        this._updateAlertsForAllControls(nodeAsGroup.children[o]);\r\n      }\r\n    }\r\n\r\n    if (rootNode instanceof ArrayNode) {\r\n      const nodeAsArray = rootNode as ArrayNode;\r\n\r\n      nodeAsArray.children.forEach(node => {\r\n        this._updateAlertsForAllControls(node);\r\n      });\r\n    }\r\n\r\n  }\r\n  private _updateHiddenDisabledStateForAllControls(rootNode: NodeBase) {\r\n    if (rootNode.control) {\r\n      if ((rootNode.control as any).updateDisabledState) {\r\n        (rootNode.control as any).updateDisabledState();\r\n      }\r\n\r\n      if ((rootNode.control as any).updateHiddenState) {\r\n        (rootNode.control as any).updateHiddenState();\r\n      }\r\n    }\r\n\r\n    if (rootNode instanceof GroupNode) {\r\n      const nodeAsGroup = rootNode as GroupNode;\r\n      // tslint:disable-next-line:forin\r\n      for (const o in nodeAsGroup.children) {\r\n        this._updateHiddenDisabledStateForAllControls(nodeAsGroup.children[o]);\r\n      }\r\n    }\r\n\r\n    if (rootNode instanceof ArrayNode) {\r\n      const nodeAsArray = rootNode as ArrayNode;\r\n\r\n      nodeAsArray.children.forEach(node => {\r\n        this._updateHiddenDisabledStateForAllControls(node);\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n// import { AbstractControl } from '@angular/forms';\r\n\r\nimport { LeafNode, GroupNode, ArrayNode, NodeBase } from './form-node';\r\nimport { QuestionBase, NestedQuestion, RepeatingQuestion, QuestionGroup\r\n} from '../question-models/models';\r\nimport { FormControlService } from './form-control.service';\r\nimport { QuestionFactory } from './question.factory';\r\nimport { AfeFormGroup, AfeControlType, AfeFormArray\r\n} from '../../abstract-controls-extension';\r\nimport { ControlRelationsFactory } from './control-relations.factory';\r\nimport { Validations } from '../validators/validations';\r\n\r\nimport { Form } from './form';\r\n\r\n@Injectable()\r\nexport class FormFactory {\r\n    public hd: any = {\r\n        getValue: () => {\r\n            return 20;\r\n        }\r\n    };\r\n\r\n    constructor(public controlService: FormControlService,\r\n        public questionFactroy: QuestionFactory, public controlRelationsFactory: ControlRelationsFactory) {\r\n    }\r\n\r\n    createForm(schema: any, dataSource?: any): Form {\r\n        const form: Form = new Form(schema, this, this.questionFactroy);\r\n        if (dataSource) {\r\n            for (const key in dataSource) {\r\n                if (dataSource.hasOwnProperty(key)) {\r\n                    form.dataSourcesContainer.registerDataSource(key, dataSource[key], false);\r\n                }\r\n            }\r\n        }\r\n        const question = this.questionFactroy.createQuestionModel(schema, form);\r\n        form.rootNode = this.createNode(question, null, null, form) as GroupNode;\r\n\r\n        this.buildRelations(form.rootNode);\r\n        form.updateHiddenDisabledStateForAllControls();\r\n        form.updateAlertsForAllControls();\r\n        return form;\r\n    }\r\n\r\n    buildRelations(rootNode: GroupNode) {\r\n\r\n        Validations.JSExpressionValidatorsEnabled = false;\r\n        this.controlRelationsFactory.buildRelations(rootNode);\r\n\r\n        // enable js expression validations\r\n        Validations.JSExpressionValidatorsEnabled = true;\r\n    }\r\n\r\n    createNode(question: QuestionBase | NestedQuestion,\r\n        parentNode?: GroupNode, parentControl?: AfeFormGroup, form?: Form): NodeBase {\r\n        let node: NodeBase = null;\r\n        if (question instanceof NestedQuestion) {\r\n            if (question instanceof RepeatingQuestion) {\r\n                node = this.createArrayNode(question, parentNode, parentControl, form);\r\n            } else {\r\n                node = this.createGroupNode(question, parentNode, parentControl, form);\r\n            }\r\n        } else {\r\n            node = this.createLeafNode(question, parentNode, parentControl, form);\r\n        }\r\n        return node;\r\n    }\r\n\r\n    createLeafNode(question: QuestionBase,\r\n        parentNode: GroupNode, parentControl?: AfeFormGroup, form?: Form): LeafNode {\r\n        const controlModel = this.controlService.generateControlModel(question, parentControl, false, form);\r\n        return new LeafNode(question, controlModel, null, form,\r\n            parentNode ? parentNode.path : undefined);\r\n    }\r\n\r\n    createGroupNode(question: NestedQuestion, parentNode?: GroupNode,\r\n        parentControl?: AfeFormGroup, form?: Form): GroupNode {\r\n        const controlModel = this.controlService.generateControlModel(question, parentControl, false, form) as AfeFormGroup;\r\n        const groupNode = new GroupNode(question, controlModel, null,\r\n            form, parentNode ? parentNode.path : undefined);\r\n        this.createNodeChildren(question, groupNode, (controlModel || parentControl), form);\r\n        return groupNode;\r\n    }\r\n\r\n    createArrayNode(question: NestedQuestion, parentNode?: GroupNode,\r\n        parentControl?: AfeFormGroup, form?: Form): ArrayNode {\r\n        const controlModel = this.controlService.generateControlModel(question, parentControl, false, form) as AfeFormGroup;\r\n        const arrayNode = new ArrayNode(question, controlModel, parentControl,\r\n            this, form, parentNode ? parentNode.path : undefined);\r\n        arrayNode.createChildFunc = this.createArrayNodeChild;\r\n        arrayNode.removeChildFunc = this.removeArrayNodeChild;\r\n\r\n        arrayNode.addChildNodeCreatedListener((node: GroupNode) => {\r\n\r\n            Validations.JSExpressionValidatorsEnabled = false;\r\n            this.controlRelationsFactory.buildArrayNodeRelations(node);\r\n            Validations.JSExpressionValidatorsEnabled = true;\r\n        });\r\n        return arrayNode;\r\n    }\r\n\r\n    createNodeChildren(question: NestedQuestion, node: GroupNode,\r\n        parentControl?: AfeFormGroup, form?: Form): any {\r\n        question.questions.forEach(element => {\r\n            const child = this.createNode(element, node, parentControl, form);\r\n            node.setChild(element.key, child);\r\n        });\r\n        return node.children;\r\n    }\r\n\r\n\r\n    createArrayNodeChild(question: RepeatingQuestion,\r\n        node: ArrayNode, factory?: FormFactory): GroupNode {\r\n\r\n        if (factory === null || factory === undefined) {\r\n            factory = this;\r\n        }\r\n        const groupQuestion: QuestionGroup =\r\n            new QuestionGroup({\r\n                key: node.path + '.' + node.children.length + '',\r\n                type: 'group', extras: question.extras, label: '', questions: question.questions\r\n            });\r\n\r\n        if (question.controlType === AfeControlType.None) {\r\n            groupQuestion.controlType = question.controlType;\r\n        }\r\n\r\n        const group = factory.createGroupNode(groupQuestion, null, null, node.form);\r\n        node.children.push(group);\r\n\r\n        if (node.control instanceof AfeFormArray) {\r\n            const nodeControl = node.control as AfeFormArray;\r\n            nodeControl.setControl(nodeControl.controls.length, group.control);\r\n        }\r\n\r\n        return group;\r\n    }\r\n\r\n    removeArrayNodeChild(index: number, node: ArrayNode) {\r\n        const nodeToRemove = node.children[index];\r\n\r\n        node.children.splice(index, 1);\r\n        if (node.control !== null || node.control !== undefined) {\r\n            if (node.control instanceof AfeFormArray) {\r\n                const control = node.control as AfeFormArray;\r\n                const controlIndexToRemove = control.controls.indexOf(nodeToRemove.control);\r\n                if (controlIndexToRemove >= 0) {\r\n                    control.removeAt(controlIndexToRemove);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import * as _ from 'lodash';\r\nimport * as moment_ from 'moment';\r\n\r\nconst moment = moment_;\r\n\r\nimport { NodeBase, ArrayNode, GroupNode, LeafNode } from '../form-factory/form-node';\r\n\r\nexport class ObsAdapterHelper {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    findObsAnswerToQuestion(node: NodeBase, obsArray: Array<any>): Array<any> {\r\n        const found = [];\r\n\r\n        if (!this.isObsNode(node)) {\r\n            return found;\r\n        }\r\n\r\n        if (node instanceof LeafNode ||\r\n            (node instanceof GroupNode &&\r\n                node.question.extras.type === 'complex-obs')) {\r\n            _.each(obsArray, (item) => {\r\n                if (item.concept &&\r\n                    item.concept.uuid === node.question.extras.questionOptions.concept) {\r\n                    found.push(item);\r\n                }\r\n            });\r\n\r\n            return found;\r\n        }\r\n\r\n        // At this point the node is either a group or a repeating node\r\n\r\n        const childQuestionsUuids = this.getChildQuestionsConceptUuids(node);\r\n        if (childQuestionsUuids.length > 0) {\r\n            _.each(obsArray, (obs) => {\r\n                if (obs.concept &&\r\n                    obs.concept.uuid === node.question.extras.questionOptions.concept &&\r\n                    Array.isArray(obs.groupMembers) &&\r\n                    this.isSubsetOf(childQuestionsUuids,\r\n                        this.getGroupMembersConceptUuids(obs))) {\r\n                    found.push(obs);\r\n                }\r\n            });\r\n        }\r\n\r\n        return found;\r\n    }\r\n\r\n    getChildQuestionsConceptUuids(node: NodeBase): Array<string> {\r\n        const found = [];\r\n\r\n        if (node.question.extras && node.question.extras.questions) {\r\n            _.each(node.question.extras.questions, (question) => {\r\n                if (question.questionOptions &&\r\n                    question.questionOptions.concept) {\r\n                    found.push(question.questionOptions.concept);\r\n                }\r\n            });\r\n        }\r\n\r\n        return found;\r\n    }\r\n\r\n    getGroupMembersConceptUuids(obsWithGroupMembers): Array<string> {\r\n        const found = [];\r\n\r\n        if (Array.isArray(obsWithGroupMembers.groupMembers)) {\r\n            _.each(obsWithGroupMembers.groupMembers,\r\n                (member) => {\r\n                    found.push(member.concept.uuid);\r\n                });\r\n        }\r\n\r\n        return found;\r\n    }\r\n\r\n    isObsNode(node: NodeBase): boolean {\r\n        return node.question.extras &&\r\n            (node.question.extras.type === 'obs' ||\r\n                node.question.extras.type === 'obsGroup' ||\r\n                node.question.extras.type === 'complex-obs' ||\r\n                node.question.extras.type === 'complex-obs-child');\r\n    }\r\n\r\n    isSubsetOf(supersetArray: Array<any>, subsetArray: Array<any>): boolean {\r\n        if (subsetArray.length === 0 && supersetArray.length === 0) {\r\n            return true;\r\n        }\r\n        return subsetArray.every((element): boolean => {\r\n            return supersetArray.indexOf(element) >= 0;\r\n        });\r\n    }\r\n\r\n    setSimpleObsNodeValue(node: NodeBase, obs: Array<any>) {\r\n        if (node && obs.length > 0) {\r\n            const obsToUse = obs[0];\r\n\r\n            // set initial value\r\n            node.initialValue = obsToUse;\r\n\r\n            if (!this.isEmpty(obsToUse.value) && obsToUse.value.uuid) {\r\n                // answer to the obs is a concept, use uuid value\r\n                this.setNodeFormControlValue(node, obsToUse.value.uuid);\r\n            } else if (!this.isEmpty(obsToUse.value)) {\r\n                this.setNodeFormControlValue(node, obsToUse.value);\r\n            }\r\n        }\r\n    }\r\n\r\n    setMultiselectObsNodeValue(node: NodeBase, obs: Array<any>) {\r\n        if (node && obs.length > 0) {\r\n            node.initialValue = obs;\r\n\r\n            const obsUuids = [];\r\n            for (const m of obs) {\r\n                obsUuids.push(m.value.uuid);\r\n            }\r\n\r\n            this.setNodeFormControlValue(node, obsUuids);\r\n        }\r\n    }\r\n\r\n    setComplexObsNodeValue(node: NodeBase, obs: Array<any>) {\r\n        if (node && obs.length > 0) {\r\n            let valueField: LeafNode; // essential memmber\r\n            let dateField: LeafNode; // other member to be manipulated by user\r\n\r\n            const nodeAsGroup = (node as GroupNode);\r\n            // tslint:disable-next-line:forin\r\n            for (const o in nodeAsGroup.children) {\r\n                if ((nodeAsGroup.children[o] as LeafNode).question.extras.questionOptions.obsField === 'value') {\r\n                    valueField = nodeAsGroup.children[o];\r\n                }\r\n\r\n                if ((nodeAsGroup.children[o] as LeafNode).question.extras.questionOptions.obsField === 'obsDatetime') {\r\n                    dateField = nodeAsGroup.children[o];\r\n                }\r\n            }\r\n\r\n            // set the obs value here\r\n            this.setNodeValue(valueField, obs);\r\n            node.initialValue = valueField.initialValue;\r\n\r\n            // set the date value here\r\n            dateField.initialValue = valueField.initialValue;\r\n            this.setNodeFormControlValue(dateField, valueField.initialValue.obsDatetime);\r\n        }\r\n    }\r\n\r\n    setGroupObsNodeValue(node: NodeBase, obs: Array<any>) {\r\n        if (node && obs.length > 0) {\r\n            const groupNode = node as GroupNode;\r\n            groupNode.initialValue = obs[0];\r\n            // tslint:disable-next-line:forin\r\n            for (const o in groupNode.children) {\r\n                this.setNodeValue(groupNode.children[o], obs[0].groupMembers);\r\n            }\r\n        }\r\n    }\r\n\r\n    setRepeatingGroupObsNodeValue(node: NodeBase, obs: Array<any>) {\r\n        if (node && obs.length > 0) {\r\n            const arrayNode = node as ArrayNode;\r\n            arrayNode.initialValue = obs;\r\n\r\n            for (let i = 0; i < obs.length; i++) {\r\n                const createdNode = arrayNode.createChildNode();\r\n                this.setGroupObsNodeValue(createdNode, [obs[i]]);\r\n            }\r\n        }\r\n    }\r\n\r\n    setNodeValue(node: NodeBase, obs: Array<any>) {\r\n        switch (this.getObsNodeType(node)) {\r\n            case 'unknown':\r\n                if (node instanceof GroupNode) {\r\n                    const groupNode = node as GroupNode;\r\n                    // tslint:disable-next-line:forin\r\n                    for (const o in groupNode.children) {\r\n                        this.setNodeValue(groupNode.children[o], obs);\r\n                    }\r\n                    break;\r\n                }\r\n                if (node instanceof ArrayNode) {\r\n                    const arrayNode = node as ArrayNode;\r\n                    for (let i = 0; i < arrayNode.children.length; i++) {\r\n                        this.setNodeValue(arrayNode.children[i], obs);\r\n                    }\r\n                    break;\r\n                }\r\n                break;\r\n            case 'simple':\r\n                // search asnwering obs at this point\r\n                const answeringObs = this.findObsAnswerToQuestion(node, obs);\r\n\r\n                // set answer here\r\n                this.setSimpleObsNodeValue(node, answeringObs);\r\n                break;\r\n\r\n            case 'multiselect':\r\n                // search asnwering obs at this point\r\n                const multiselectObs = this.findObsAnswerToQuestion(node, obs);\r\n\r\n                // set answer here\r\n                this.setMultiselectObsNodeValue(node, multiselectObs);\r\n                break;\r\n\r\n\r\n            case 'complex':\r\n                // search asnwering obs at this point\r\n                const complexObs = this.findObsAnswerToQuestion(node, obs);\r\n\r\n                // set answer here\r\n                this.setComplexObsNodeValue(node, complexObs);\r\n                break;\r\n\r\n            case 'group':\r\n                const groupObs = this.findObsAnswerToQuestion(node, obs);\r\n\r\n                if (groupObs.length > 0) {\r\n                    this.setGroupObsNodeValue(node, groupObs);\r\n                }\r\n\r\n                break;\r\n            case 'repeatingGroup':\r\n                const repeatingGroupObs = this.findObsAnswerToQuestion(node, obs);\r\n\r\n                if (repeatingGroupObs.length > 0) {\r\n                    this.setRepeatingGroupObsNodeValue(node, repeatingGroupObs);\r\n                }\r\n\r\n                break;\r\n            default:\r\n                console.error('Unknown obs node', node);\r\n                break;\r\n        }\r\n    }\r\n\r\n    setNodeFormControlValue(node: NodeBase, value) {\r\n        node.control.setValue(value);\r\n        // TODO: Determine if we need this call\r\n        // node.control.updateValueAndValidity();\r\n\r\n        // TODO: Remove this hack and put it in appropriate place\r\n        if (node.question.enableHistoricalValue && node.initialValue !== undefined) {\r\n            node.question.setHistoricalValue(false);\r\n        }\r\n    }\r\n\r\n    getObsNodeType(node: NodeBase): string {\r\n        if (this.isObsNode(node)) {\r\n            if (node instanceof LeafNode &&\r\n                ( node.question.extras.questionOptions.rendering === 'multiCheckbox' ||\r\n                node.question.extras.questionOptions.rendering === 'checkbox' ||\r\n                node.question.extras.questionOptions.rendering === 'multi-select') ) {\r\n                return 'multiselect';\r\n            }\r\n\r\n            if (node instanceof LeafNode) {\r\n                return 'simple';\r\n            }\r\n\r\n            if (node instanceof GroupNode &&\r\n                node.question.extras.type === 'complex-obs') {\r\n                return 'complex';\r\n            }\r\n\r\n            if (node instanceof ArrayNode &&\r\n                node.question.extras.type === 'obsGroup' &&\r\n                node.question.extras.questionOptions.rendering === 'repeating') {\r\n                return 'repeatingGroup';\r\n            }\r\n\r\n            if (node instanceof GroupNode &&\r\n                node.question.extras.type === 'obsGroup') {\r\n                return 'group';\r\n            }\r\n\r\n            return 'unknownObs';\r\n        }\r\n        return 'unknown';\r\n    }\r\n\r\n    // PAYLOAD GENERATION FUNCTIONS\r\n    getSimpleObsPayload(node: NodeBase): any {\r\n        // check for empty values first\r\n        if (this.isEmpty(node.control.value)) {\r\n            if (node.initialValue) {\r\n                // Handle case for existing voided obs\r\n                return {\r\n                    uuid: node.initialValue.uuid,\r\n                    voided: true\r\n                };\r\n            }\r\n            return null;\r\n        }\r\n\r\n        // check for exisiting, unchanged values\r\n        if (node.initialValue && !this.simpleNodeValueChanged(node)) {\r\n            return null;\r\n        }\r\n\r\n        // all numbers, text, concepts answers are handled in the same way\r\n        // no need for further formatting in this case\r\n        const obs: any = {\r\n            concept: node.question.extras.questionOptions.concept,\r\n            value: node.control.value\r\n        };\r\n\r\n        // handle date fields\r\n        if (node.question.extras.questionOptions.rendering === 'date') {\r\n            obs.value = this.toOpenMrsDateTimeString(node.control.value);\r\n        }\r\n\r\n        if (node.initialValue) {\r\n            // for existing cases, delete concept property, and add uuid\r\n            delete obs.concept;\r\n            obs.uuid = node.initialValue.uuid;\r\n        }\r\n\r\n        return obs;\r\n    }\r\n\r\n    getComplexObsPayload(node: NodeBase) {\r\n        let valueField: LeafNode; // essential memmber\r\n        let dateField: LeafNode; // other member to be manipulated by user\r\n\r\n        const nodeAsGroup = (node as GroupNode);\r\n        // tslint:disable-next-line:forin\r\n        for (const o in nodeAsGroup.children) {\r\n            if ((nodeAsGroup.children[o] as LeafNode).question.extras.questionOptions.obsField === 'value') {\r\n                valueField = nodeAsGroup.children[o];\r\n            }\r\n\r\n            if ((nodeAsGroup.children[o] as LeafNode).question.extras.questionOptions.obsField === 'obsDatetime') {\r\n                dateField = nodeAsGroup.children[o];\r\n            }\r\n        }\r\n\r\n        const valuePayload = this.getObsNodePayload(valueField);\r\n        console.log('valuePayload', valuePayload);\r\n\r\n        // set obs datetime for the generated payload\r\n        if (valuePayload.length > 0) {\r\n            valuePayload[0].obsDatetime = this.toOpenMrsDateTimeString(dateField.control.value);\r\n            return valuePayload[0];\r\n        } else if (valuePayload.length === 0 && node.initialValue) {\r\n            // determine if date changed\r\n            if (!this.areDatesEqual(node.initialValue.obsDatetime, dateField.control.value)) {\r\n                const payload: any = {\r\n                    uuid: node.initialValue.uuid,\r\n                };\r\n                payload.obsDatetime = this.toOpenMrsDateTimeString(dateField.control.value);\r\n                return payload;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getMultiselectObsPayload(node: NodeBase): Array<any> {\r\n        const payload: Array<any> = [];\r\n\r\n        const existingUuids = [];\r\n\r\n        // add voided obs i.e. deleted options\r\n        if (Array.isArray(node.initialValue)) {\r\n            _.each(node.initialValue, (item) => {\r\n                existingUuids.push(item.value.uuid);\r\n                if (Array.isArray(node.control.value)) {\r\n                    if (node.control.value.indexOf(item.value.uuid) < 0) {\r\n                        payload.push({\r\n                            uuid: item.uuid,\r\n                            voided: true\r\n                        });\r\n                    }\r\n                } else {\r\n                    // every value was deleted\r\n                    payload.push({\r\n                        uuid: item.uuid,\r\n                        voided: true\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        // add new obs i.e they didn't exisit originally\r\n        if (Array.isArray(node.control.value)) {\r\n            _.each(node.control.value, (item) => {\r\n                if (existingUuids.indexOf(item) < 0) {\r\n                    payload.push({\r\n                        concept: node.question.extras.questionOptions.concept,\r\n                        value: item\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        return payload;\r\n    }\r\n\r\n    getGroupPayload(node: NodeBase) {\r\n        const nodeAsGroup: GroupNode = node as GroupNode;\r\n\r\n        let childrenPayload = [];\r\n        _.each(nodeAsGroup.children, (child) => {\r\n            const payload = this.getObsNodePayload(child);\r\n            if (payload.length > 0) {\r\n                childrenPayload = childrenPayload.concat(payload);\r\n            }\r\n        });\r\n\r\n        if (childrenPayload.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        const groupPayload: any = {\r\n            groupMembers: childrenPayload\r\n        };\r\n\r\n        if (nodeAsGroup.initialValue) {\r\n            groupPayload.uuid = nodeAsGroup.initialValue.uuid;\r\n\r\n        } else {\r\n            groupPayload.concept = nodeAsGroup.question.extras.questionOptions.concept;\r\n        }\r\n\r\n        return groupPayload;\r\n    }\r\n\r\n    getRepeatingGroupPayload(node: NodeBase) {\r\n        const nodeAsArray: ArrayNode = node as ArrayNode;\r\n\r\n        let childrenPayload = [];\r\n\r\n        const groupsUuidsAfterEditting = [];\r\n        _.each(nodeAsArray.children, (child) => {\r\n            const payload = this.getObsNodePayload(child);\r\n            if (payload.length > 0) {\r\n                childrenPayload = childrenPayload.concat(payload);\r\n            }\r\n            if (child.initialValue && child.initialValue.uuid) {\r\n                groupsUuidsAfterEditting.push(child.initialValue.uuid);\r\n            }\r\n        });\r\n\r\n        // void deleted groups\r\n        // console.log('groupsUuidsAfterEditting', groupsUuidsAfterEditting);\r\n        if (nodeAsArray.initialValue && Array.isArray(nodeAsArray.initialValue)) {\r\n            _.each(nodeAsArray.initialValue, (obs) => {\r\n                if (groupsUuidsAfterEditting.indexOf(obs.uuid) < 0) {\r\n                    const voidedGroup = {\r\n                        uuid: obs.uuid,\r\n                        voided: true\r\n                    };\r\n                    childrenPayload.push(voidedGroup);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (childrenPayload.length <= 0) {\r\n            return null;\r\n        }\r\n        return childrenPayload;\r\n\r\n    }\r\n\r\n    getObsNodePayload(node: NodeBase): Array<any> {\r\n        let payload = [];\r\n\r\n        switch (this.getObsNodeType(node)) {\r\n            case 'unknown':\r\n                if (node instanceof GroupNode) {\r\n                    const groupNode = node as GroupNode;\r\n                    // tslint:disable-next-line:forin\r\n                    for (const o in groupNode.children) {\r\n                        const groupNodePayoad = this.getObsNodePayload(groupNode.children[o]);\r\n                        if (Array.isArray(groupNodePayoad) && groupNodePayoad.length > 0) {\r\n                            payload = payload.concat(groupNodePayoad);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                if (node instanceof ArrayNode) {\r\n                    const arrayNode = node as ArrayNode;\r\n                    for (let i = 0; i < arrayNode.children.length; i++) {\r\n                        const arrayNodePayload = this.getObsNodePayload(arrayNode.children[i]);\r\n                        if (Array.isArray(arrayNodePayload) && arrayNodePayload.length > 0) {\r\n                            payload = payload.concat(arrayNodePayload);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                break;\r\n            case 'simple':\r\n                const simpleObs = this.getSimpleObsPayload(node);\r\n                if (simpleObs !== null) {\r\n                    payload.push(simpleObs);\r\n                }\r\n                break;\r\n\r\n            case 'multiselect':\r\n                const multiselectObs = this.getMultiselectObsPayload(node);\r\n\r\n                if (Array.isArray(multiselectObs) && multiselectObs.length > 0) {\r\n                    payload = payload.concat(multiselectObs);\r\n                }\r\n                break;\r\n\r\n            case 'complex':\r\n                const complexObs = this.getComplexObsPayload(node);\r\n                if (complexObs !== null) {\r\n                    payload.push(complexObs);\r\n                }\r\n                break;\r\n\r\n            case 'group':\r\n                const groupedObs = this.getGroupPayload(node);\r\n                if (groupedObs && groupedObs !== null) {\r\n                    payload.push(groupedObs);\r\n                }\r\n                break;\r\n            case 'repeatingGroup':\r\n                const repeatingGroupedObs = this.getRepeatingGroupPayload(node);\r\n                if (Array.isArray(repeatingGroupedObs) && repeatingGroupedObs.length > 0) {\r\n                    payload = payload.concat(repeatingGroupedObs);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        return payload;\r\n    }\r\n\r\n    simpleNodeValueChanged(node: NodeBase): boolean {\r\n        if (node.initialValue) {\r\n            if (node.initialValue.value && node.initialValue.value.uuid) {\r\n                // question whose answer is a concept\r\n                return node.control.value !== node.initialValue.value.uuid;\r\n            }\r\n\r\n            if (node.question.extras.questionOptions.rendering === 'date') {\r\n                return !this.areDatesEqual(node.control.value, node.initialValue.value);\r\n            }\r\n            return node.control.value !== node.initialValue.value;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    areDatesEqual(date1, date2) {\r\n        return moment(date1).isSame(date2);\r\n    }\r\n\r\n    isEmpty(value): boolean {\r\n        if (value === '' ||\r\n            value === null ||\r\n            value === undefined\r\n            // || value === [] ||\r\n            // value === {}\r\n        ) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    toOpenMrsDateTimeString(datetime: string): string {\r\n        if (this.isEmpty(datetime)) {\r\n            return undefined;\r\n        } else {\r\n            // transform value to memoent value to avoid error\r\n            const formattedVal = moment(datetime).format();\r\n            const val = formattedVal.substring(0, 19).replace('T', ' ');\r\n            return this.isEmpty(val) ? undefined : val;\r\n\r\n        }\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport 'rxjs';\r\n\r\nimport * as _ from 'lodash';\r\n\r\nimport { LeafNode, GroupNode } from '../form-factory/form-node';\r\nimport { Form } from '../form-factory/form';\r\nimport { ValueAdapter } from './value.adapter';\r\nimport { ObsAdapterHelper } from './obs-adapter-helper';\r\n\r\n@Injectable()\r\nexport class ObsValueAdapter implements ValueAdapter {\r\n\r\n    constructor(private helper: ObsAdapterHelper) { }\r\n\r\n    generateFormPayload(form: Form) {\r\n        return this.helper.getObsNodePayload(form.rootNode);\r\n        // TODO: Get rid of the section below when the helper is stable.\r\n        // // Traverse  to get all nodes\r\n        // let pages = this.traverse(form.rootNode);\r\n        // // Extract actual question nodes\r\n        // let questionNodes = this.getQuestionNodes(pages);\r\n        // // Get obs Payload\r\n        // return this.getObsPayload(questionNodes);\r\n    }\r\n\r\n    populateForm(form: Form, payload) {\r\n        this.helper.setNodeValue(form.rootNode, payload);\r\n\r\n        // TODO: Get rid of the section below when the helper is stable.\r\n        // // Traverse  to get all nodes\r\n        // let pages = this.traverse(form.rootNode);\r\n        // // Extract actual question nodes\r\n        // let questionNodes = this.getQuestionNodes(pages);\r\n        // // Extract set obs\r\n        // this.setValues(questionNodes, payload);\r\n    }\r\n\r\n    // TODO: Get rid of all the functions below as they will not be needed\r\n    // once the helper is stable\r\n\r\n    setValues(nodes, payload?, forcegroup?) {\r\n        if (nodes) {\r\n            for (const node of nodes) {\r\n                if (node instanceof LeafNode) {\r\n                    this.setObsValue(node, payload);\r\n                    if (node.question.enableHistoricalValue && node.initialValue !== undefined) {\r\n                        node.question.setHistoricalValue(false);\r\n                    }\r\n\r\n                } else if (node.question && node.question.extras && node.question.renderingType === 'group' || forcegroup) {\r\n                    const groupObs = _.find(payload, (o: any) => {\r\n                        return o.concept.uuid === node.question.extras.questionOptions.concept && o.groupMembers;\r\n                    });\r\n                    if (groupObs) {\r\n                        if (node.node) {\r\n                            node.node['initialValue'] = groupObs;\r\n                        }\r\n\r\n                        this.setValues(node.groupMembers, groupObs.groupMembers);\r\n                    }\r\n                    if (forcegroup && node.payload) {\r\n                        this.setValues(node.groupMembers, node.payload.groupMembers);\r\n                    }\r\n\r\n\r\n                } else if (node instanceof GroupNode && node.question.extras.type === 'complex-obs') {\r\n                    this.setComplexObsValue(node, payload);\r\n                } else if (node.question && node.question.extras && node.question.renderingType === 'repeating' && !forcegroup) {\r\n                    this.setRepeatingGroupValues(node, payload);\r\n                    node.node.control.updateValueAndValidity();\r\n                } else {\r\n                    throw new Error('not implemented');\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    setObsValue(node, payload) {\r\n        if (node.question && node.question.extras &&\r\n            (node.question.extras.type === 'obs' ||\r\n            (node.question.extras.type === 'complex-obs-child' &&\r\n            node.question.extras.questionOptions.obsField === 'value')) &&\r\n            node.question.extras.questionOptions.rendering !== 'multiCheckbox' ||\r\n            node.question.extras.questionOptions.rendering !== 'checkbox' ||\r\n            node.question.extras.questionOptions.rendering !== 'multi-select') {\r\n            const obs = _.find(payload, (o: any) => {\r\n                return o.concept.uuid === node.question.extras.questionOptions.concept;\r\n            });\r\n            if (obs) {\r\n                if (obs.value instanceof Object) {\r\n                    node.control.setValue(obs.value.uuid);\r\n                    node.control.updateValueAndValidity();\r\n                } else {\r\n                    node.control.setValue(obs.value);\r\n                    node.control.updateValueAndValidity();\r\n                }\r\n                node['initialValue'] = { obsUuid: obs.uuid, value: obs.value };\r\n            }\r\n        } else {\r\n            const multiObs = _.filter(payload, (o: any) => {\r\n                return o.concept.uuid === node.question.extras.questionOptions.concept;\r\n            });\r\n            if (multiObs && multiObs.length > 0) {\r\n                node.control.setValue(this.getMultiselectValues(multiObs));\r\n                node.control.updateValueAndValidity();\r\n                node['initialValue'] = multiObs;\r\n            }\r\n        }\r\n    }\r\n\r\n    setComplexObsValue(node, payload) {\r\n        let valueField: any;\r\n        let dateField: any;\r\n\r\n        // tslint:disable-next-line:forin\r\n        for (const o in node.children) {\r\n            if ((node.children[o] as LeafNode).question.extras.questionOptions.obsField === 'value') {\r\n                valueField = node.children[o];\r\n            }\r\n\r\n            if ((node.children[o] as LeafNode).question.extras.questionOptions.obsField === 'obsDatetime') {\r\n                dateField = node.children[o];\r\n            }\r\n        }\r\n        // set the usual obs value\r\n        this.setObsValue(valueField, payload);\r\n\r\n        // set the obs date\r\n        const obs = _.find(payload, (o: any) => {\r\n            return o.concept.uuid === node.question.extras.questionOptions.concept;\r\n        });\r\n\r\n        if (obs) {\r\n            dateField['initialValue'] = { obsUuid: obs.uuid, value: obs.obsDatetime };\r\n            (dateField as LeafNode).control.setValue(obs.obsDatetime);\r\n            (dateField as LeafNode).control.updateValueAndValidity();\r\n        }\r\n    }\r\n\r\n    getMultiselectValues(multiObs) {\r\n        const values = [];\r\n        for (const m of multiObs) {\r\n            values.push(m.value.uuid);\r\n        }\r\n        return values;\r\n    }\r\n\r\n    setRepeatingGroupValues(node, payload) {\r\n        const groupRepeatingObs = _.filter(payload, (o: any) => {\r\n            const found = o.concept.uuid === node.question.extras.questionOptions.concept;\r\n            let intersect = false;\r\n            if (found && o.groupMembers) {\r\n                const obs = o.groupMembers.map((a) => {\r\n                    return a.concept.uuid;\r\n                });\r\n\r\n                const schemaQuestions = node.question.questions.map((a) => {\r\n                    return a.extras.questionOptions.concept;\r\n                });\r\n\r\n                intersect = (_.intersection(obs, schemaQuestions).length > 0);\r\n            }\r\n            return found && intersect;\r\n        });\r\n        if (groupRepeatingObs.length > 0) {\r\n            node.node['initialValue'] = groupRepeatingObs;\r\n            for (let i = 0; i < groupRepeatingObs.length; i++) {\r\n                node.node.createChildNode();\r\n            }\r\n        }\r\n        const groups = [];\r\n        let index = 0;\r\n        for (const child of node.node.children) {\r\n            const children = Object.keys(child.children).map(function (key) { return child.children[key]; });\r\n            const groupPayload = groupRepeatingObs[index];\r\n            groups.push({ question: node.question, groupMembers: children, payload: groupPayload });\r\n            index++;\r\n        }\r\n        this.setValues(groups, groupRepeatingObs, true);\r\n    }\r\n\r\n    getQuestionNodes(pages) {\r\n        const merged = [];\r\n        const arrays = [];\r\n        for (const page of pages) {\r\n            for (const section of page.page) {\r\n                arrays.push(section.section);\r\n            }\r\n        }\r\n        return merged.concat.apply([], arrays);\r\n    }\r\n\r\n    repeatingGroup(nodes) {\r\n        const toReturn = [];\r\n        for (const node of nodes) {\r\n            toReturn.push({ question: node.question, groupMembers: this.traverse(node) });\r\n        }\r\n        return toReturn;\r\n    }\r\n\r\n    processGroup(obs, obsPayload) {\r\n        if (obs.question && obs.question.extras && obs.question.extras.questionOptions.rendering === 'group') {\r\n            const members = _.filter(this.getObsPayload(obs.groupMembers), (o: any) => {\r\n                return o.value !== '';\r\n            });\r\n\r\n            const mappedMembers = members.map((a) => {\r\n                return a.voided;\r\n            });\r\n            if (members.length > 0 && mappedMembers.every(Boolean)) {\r\n                obsPayload.push({\r\n                    uuid: obs.node.initialValue.uuid,\r\n                    voided: true\r\n                });\r\n            } else if (members.length > 0) {\r\n                if (obs.node.initialValue) {\r\n                    obsPayload.push({\r\n                        uuid: obs.node.initialValue.uuid,\r\n                        groupMembers: members\r\n                    });\r\n                } else {\r\n                    obsPayload.push({\r\n                        concept: obs.question.extras.questionOptions.concept,\r\n                        groupMembers: members\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    mapInitialGroup(group) {\r\n        let current = {};\r\n        for (const member of group.groupMembers) {\r\n            let value: any = '';\r\n            if (member.value instanceof Object) {\r\n                value = member.value.uuid;\r\n            } else if (member.value) {\r\n                value = member.value;\r\n            } else if (member.groupMembers && member.groupMembers.length > 0) {\r\n                current = this.mapInitialGroup(group);\r\n            }\r\n            current[member.concept.uuid + ':' + value] = value;\r\n        }\r\n        return current;\r\n    }\r\n\r\n    mapModelGroup(node, value) {\r\n        const current = {};\r\n        for (const key in value) {\r\n            if (value.hasOwnProperty(key)) {\r\n                const groupQuestion: any = _.find(node.question.questions, { key: key });\r\n                const modelValue = value[key];\r\n                if (modelValue instanceof Object) {\r\n                } else if (modelValue !== '') {\r\n                    current[groupQuestion.extras.questionOptions.concept + ':'\r\n                        + modelValue] = modelValue;\r\n                }\r\n            }\r\n\r\n        }\r\n        return current;\r\n    }\r\n\r\n    processRepeatingGroups(node, obsPayload) {\r\n        const initialValues = [];\r\n        if (node.node.initialValue) {\r\n            for (const group of node.node.initialValue) {\r\n                initialValues.push({ uuid: group.uuid, value: this.mapInitialGroup(group) });\r\n            }\r\n        }\r\n        const repeatingModel = [];\r\n        for (const value of node.node.control.value) {\r\n            repeatingModel.push({ value: this.mapModelGroup(node, value) });\r\n        }\r\n        const deleted = this.leftOuterJoinArrays(initialValues, repeatingModel);\r\n        const newObs = this.leftOuterJoinArrays(repeatingModel, initialValues);\r\n        const groupConcept = node.question.extras.questionOptions.concept;\r\n        let newObsPayload = [];\r\n        if (deleted.length > 0) {\r\n            const deletedObs = this.createGroupDeletedObs(deleted);\r\n            for (const d of deletedObs) {\r\n                obsPayload.push(d);\r\n            }\r\n            if (newObs.length > 0) {\r\n                newObsPayload = this.createGroupNewObs(newObs, groupConcept);\r\n            }\r\n        } else {\r\n            newObsPayload = this.createGroupNewObs(newObs, groupConcept);\r\n        }\r\n\r\n        if (newObsPayload.length > 0) {\r\n            for (const p of newObsPayload) {\r\n                obsPayload.push(p);\r\n            }\r\n        }\r\n    }\r\n\r\n    leftOuterJoinArrays(first, second) {\r\n        const unique = first.filter(function (obj) {\r\n            return !second.some(function (obj2) {\r\n                return _.isEqual(obj.value, obj2.value);\r\n            });\r\n        });\r\n        return unique;\r\n    }\r\n\r\n    createGroupNewObs(payload, groupConcept) {\r\n        const newPayload = [];\r\n        for (const obs of payload) {\r\n            const groupPayload = [];\r\n            /* tslint:disable */\r\n            for (let key in obs.value) {\r\n                let concept = key.split(':')[0];\r\n                let value = key.split(':')[1];\r\n                groupPayload.push({ concept: concept, value: value });\r\n            }\r\n            newPayload.push({ concept: groupConcept, groupMembers: groupPayload })\r\n            /* tslint:enable */\r\n        }\r\n        return newPayload;\r\n    }\r\n\r\n    createGroupDeletedObs(payload) {\r\n        const deletedObs = [];\r\n        for (const d of payload) {\r\n            deletedObs.push({ uuid: d.uuid, voided: true });\r\n        }\r\n        return deletedObs;\r\n    }\r\n\r\n    getExactTime(datetime: string) {\r\n        return datetime.substring(0, 19).replace('T', ' ');\r\n    }\r\n\r\n    processObs(obs, obsPayload) {\r\n        if (obs.control && obs.question.extras) {\r\n            const obsValue = {\r\n                concept: obs.question.extras.questionOptions.concept,\r\n                value: (obs.question.extras.questionOptions.rendering === 'date' && !this.isEmpty(obs.control.value)) ?\r\n                    this.getExactTime(obs.control.value) : obs.control.value\r\n            };\r\n\r\n            if (obs.question.extras.questionOptions.rendering === 'multiCheckbox' ||\r\n            obs.question.extras.questionOptions.rendering === 'checkbox' ||\r\n            obs.question.extras.questionOptions.rendering === 'multi-select') {\r\n                const multis = this.processMultiSelect(obs.question.extras.questionOptions.concept, obs.control.value);\r\n                if (obs.initialValue) {\r\n                    const mappedInitial = obs.initialValue.map((a) => {\r\n                        return { uuid: a.uuid, value: { concept: a.concept.uuid, value: a.value.uuid } };\r\n                    });\r\n                    const mappedCurrent = multis.map((a) => {\r\n                        return { value: a };\r\n                    });\r\n                    const deletedObs = this.leftOuterJoinArrays(mappedInitial, mappedCurrent);\r\n                    const newObs = this.leftOuterJoinArrays(mappedCurrent, mappedInitial);\r\n                    this.processDeletedMultiSelectObs(deletedObs, obsPayload);\r\n                    this.processNewMultiSelectObs(newObs, obsPayload);\r\n                } else {\r\n                    this.processNewMultiSelectObs(multis, obsPayload);\r\n                }\r\n            } else {\r\n                if (obs.initialValue && obs.initialValue.value && obsValue) {\r\n                    this.updateOrVoidObs(obsValue, obs.initialValue, obsPayload);\r\n                } else if (obsValue.value !== '' && obsValue.value !== null) {\r\n                    obsPayload.push(obsValue);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    processComplexObs(node, obsPayload) {\r\n        let valueField: any;\r\n        let dateField: any;\r\n\r\n        // tslint:disable-next-line:forin\r\n        for (const o in node.children) {\r\n            if ((node.children[o] as LeafNode).question.extras.questionOptions.obsField === 'value') {\r\n                valueField = node.children[o];\r\n            }\r\n\r\n            if ((node.children[o] as LeafNode).question.extras.questionOptions.obsField === 'obsDatetime') {\r\n                dateField = node.children[o];\r\n            }\r\n        }\r\n\r\n        if (valueField) {\r\n            // process obs as usual\r\n            this.processObs(valueField, obsPayload);\r\n\r\n            // obtain the last inserted obs and set the obsDatetime\r\n            const createdPayload = obsPayload.length > 0 ? obsPayload[obsPayload.length - 1] : undefined;\r\n            if (createdPayload &&\r\n                ((createdPayload.concept && createdPayload.concept === node.question.extras.questionOptions.concept) ||\r\n                    (valueField.initialValue && createdPayload.uuid === valueField.initialValue.obsUuid))) {\r\n                if (dateField.initialValue && dateField.control.value !== dateField.initialValue.value) {\r\n                    createdPayload.obsDatetime = dateField.control.value;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    processDeletedMultiSelectObs(values, obsPayload) {\r\n        for (const value of values) {\r\n            obsPayload.push({ uuid: value.uuid, voided: true });\r\n        }\r\n    }\r\n\r\n    processNewMultiSelectObs(values, obsPayload) {\r\n        for (const multi of values) {\r\n            if (multi.value instanceof Object) {\r\n                obsPayload.push(multi.value);\r\n            } else {\r\n                obsPayload.push(multi);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateOrVoidObs(obsValue, initialValue, obsPayload) {\r\n        if (this.isEmpty(obsValue.value) && initialValue.value) {\r\n            obsPayload.push({ uuid: initialValue.obsUuid, voided: true });\r\n        } else if (!this.isEmpty(obsValue.value) && initialValue.value) {\r\n            obsPayload.push({ uuid: initialValue.obsUuid, value: obsValue.value });\r\n        }\r\n    }\r\n\r\n    isEmpty(value): boolean {\r\n        if (value === '' ||\r\n            value === null ||\r\n            value === undefined\r\n            // || value === [] ||\r\n            // value === {}\r\n        ) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    traverse(o, type?) {\r\n        const questions = [];\r\n        if (o.children) {\r\n            if (o.children instanceof Array) {\r\n                const returned = this.repeatingGroup(o.children);\r\n                return returned;\r\n            }\r\n            if (o.children instanceof Object) {\r\n                for (const key in o.children) {\r\n                    if (o.children.hasOwnProperty(key)) {\r\n                        switch (o.children[key].question.renderingType) {\r\n                            case 'page':\r\n                                const page = this.traverse(o.children[key]);\r\n                                questions.push({ page: page, label: o.children[key].question.label });\r\n                                break;\r\n                            case 'section':\r\n                                const section = this.traverse(o.children[key]);\r\n                                questions.push({ section: section, node: o.children[key], label: o.children[key].question.label });\r\n                                break;\r\n                            case 'group':\r\n                                const qs = this.traverse(o.children[key]);\r\n                                questions.push({ node: o.children[key], question: o.children[key].question, groupMembers: qs });\r\n                                break;\r\n                            case 'repeating':\r\n                                const rep = this.repeatingGroup(o.children[key].children);\r\n                                questions.push({ node: o.children[key], question: o.children[key].question, groupMembers: rep });\r\n                                break;\r\n                            default:\r\n                                questions.push(o.children[key]);\r\n                                break;\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        return questions;\r\n    }\r\n\r\n    processMultiSelect(concept, values) {\r\n        const multiSelectObs = [];\r\n        if (values && values !== null) {\r\n            for (const value of values) {\r\n                const obs = {\r\n                    concept: concept,\r\n                    value: value\r\n                };\r\n                multiSelectObs.push(obs);\r\n            }\r\n        }\r\n        return multiSelectObs;\r\n    }\r\n\r\n\r\n    isObs(node) {\r\n        return (node.question.extras.type === 'obs' ||\r\n            node.question.extras.type === 'obsGroup' ||\r\n            node.question.extras.type === 'complex-obs');\r\n    }\r\n\r\n    getObsPayload(nodes) {\r\n        const obsPayload = [];\r\n        for (const node of nodes) {\r\n            if (this.isObs(node)) {\r\n                if (node.groupMembers, node.question.extras.questionOptions.rendering === 'group') {\r\n\r\n                    this.processGroup(node, obsPayload);\r\n\r\n                } else if (node.groupMembers, node.question.extras.questionOptions.rendering === 'repeating') {\r\n                    this.processRepeatingGroups(node, obsPayload);\r\n                } else if (node instanceof GroupNode && (node as GroupNode).question.extras.type === 'complex-obs') {\r\n                    this.processComplexObs(node, obsPayload);\r\n                } else {\r\n                    this.processObs(node, obsPayload);\r\n                }\r\n            }\r\n        }\r\n        return obsPayload;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Form } from '../form-factory/form';\r\nimport { ValueAdapter } from './value.adapter';\r\nimport * as _ from 'lodash';\r\n@Injectable()\r\nexport class OrderValueAdapter implements ValueAdapter {\r\n    formOrderNodes = [];\r\n    private provider = '';\r\n\r\n    generateFormPayload(form: Form) {\r\n        this.formOrderNodes = [];\r\n        this._setOrderProvider(form);\r\n        this._findTestOrderQuestionNodes(form.rootNode);\r\n        return this._createOrdersPayload(this.formOrderNodes, form);\r\n    }\r\n\r\n    populateForm(form: Form, payload) {\r\n        form.existingOrders = payload;\r\n        this.formOrderNodes = [];\r\n        this._findTestOrderQuestionNodes(form.rootNode);\r\n        const existingOrders = this._getExistingOrders(form);\r\n        this._setOrderValues(this.formOrderNodes, existingOrders);\r\n    }\r\n\r\n    private _setOrderProvider(form: Form) {\r\n        if (form.valueProcessingInfo.providerUuid) {\r\n            this.provider = form.valueProcessingInfo.providerUuid;\r\n        }\r\n    }\r\n\r\n    private _createOrdersPayload(orderNodes, form: Form) {\r\n        const payload = [];\r\n        const selectedOrders = [];\r\n        let deletedOrders = [];\r\n        const existingOrders = this._getExistingOrders(form);\r\n        for (const orderNode of orderNodes) {\r\n            const orderNodeValues = orderNode.control.value;\r\n            const orders = [];\r\n            if (existingOrders) {\r\n                existingOrders.map(function (obj) {\r\n                    orders[obj.concept] = obj.concept;\r\n                });\r\n            }\r\n\r\n\r\n            for (const order in orderNodeValues) {\r\n                if (orderNodeValues.hasOwnProperty(order)) {\r\n\r\n                    const orderValue = orderNodeValues[order][orderNode.question.key];\r\n\r\n                    const payloadOrder = this._createPayloadOrder(orderValue, orderNode.question.extras);\r\n\r\n                    if (orders[orderValue] !== orderValue && payloadOrder.concept !== '') {\r\n\r\n                        payload.push(payloadOrder);\r\n                    }\r\n                    selectedOrders[orderValue] = orderValue;\r\n                    if (payloadOrder.orderNumber === '') {\r\n                        delete payloadOrder.orderNumber;\r\n                    }\r\n                    if (payloadOrder.uuid === '') {\r\n                        delete payloadOrder.uuid;\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        deletedOrders = this._getDeletedOrders(selectedOrders, existingOrders);\r\n        return this._addDeletedOrdersToPayload(deletedOrders, payload);\r\n\r\n    }\r\n\r\n    private _getExistingOrders(form: Form) {\r\n        if (form.existingOrders && form.existingOrders.orders) {\r\n            let existingOrders = form.existingOrders.orders.map((o) => {\r\n                return {\r\n                    concept: o.concept.uuid,\r\n                    orderNumber: o.orderNumber,\r\n                    orderUuid: o.uuid,\r\n                    voided: o.voided,\r\n                    dateVoided: o.auditInfo.dateVoided\r\n                };\r\n            });\r\n\r\n            return existingOrders = _.filter(existingOrders, (order: any) => {\r\n                if (order.voided === true || order.dateVoided) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            });\r\n        } else {\r\n            return;\r\n        }\r\n\r\n    }\r\n\r\n    private _setOrderValues(node, existingOrders) {\r\n        this._findTestOrderQuestionNodes(node);\r\n\r\n        const orderNodes = this.formOrderNodes;\r\n        for (const orderNode of orderNodes) {\r\n            this._setOrderNodeValues(orderNode, existingOrders);\r\n        }\r\n    }\r\n\r\n    private _addDeletedOrdersToPayload(deletedOrders, payload): any {\r\n        for (const order in deletedOrders) {\r\n            if (deletedOrders.hasOwnProperty(order)) {\r\n                payload.push({ uuid: deletedOrders[order], voided: true });\r\n            }\r\n        }\r\n        return payload;\r\n    }\r\n\r\n    private _createPayloadOrder(orderConcept, quesitonExtras): any {\r\n        const order = {\r\n            concept: '',\r\n            type: '',\r\n            orderer: '',\r\n            careSetting: ''\r\n        };\r\n        order.concept = orderConcept;\r\n        order.type = quesitonExtras.questionOptions.orderType;\r\n        order.orderer = this.provider;\r\n        order.careSetting = quesitonExtras.questionOptions.orderSettingUuid;\r\n\r\n        // delete orderer if provider not provided\r\n        if (order.orderer === '') {\r\n            delete order.orderer;\r\n        }\r\n\r\n        return order;\r\n    }\r\n\r\n    private _getDeletedOrders(selectedOrders, existingOrders): any {\r\n        const deleteOrders = [];\r\n        if (selectedOrders) {\r\n            for (const order in existingOrders) {\r\n                if (existingOrders.hasOwnProperty(order)) {\r\n                    const existingOrderConcept = existingOrders[order].concept;\r\n                    const selectedOrder = selectedOrders[existingOrderConcept];\r\n                    if (selectedOrder !== existingOrderConcept) {\r\n                        deleteOrders.push(existingOrders[order].orderUuid);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // console.log('Deleted Orders ', deleteOrders);\r\n        return deleteOrders;\r\n    }\r\n\r\n    private _setOrderNodeValues(node, orders) {\r\n        let index = 0;\r\n        node['initialValue'] = orders;\r\n        for (const order of orders) {\r\n            node.createChildNode();\r\n            const value = {};\r\n            value[node.question.key] = order.concept;\r\n            const childNode = node.children[index];\r\n            childNode.control.setValue(value);\r\n            childNode['initialValue'] = value;\r\n            childNode['orderNumber'] = order.orderNumber;\r\n            // console.log('Set Value', node.children[index].control.value, node, childNode);\r\n            index++;\r\n        }\r\n    }\r\n\r\n    private _findTestOrderQuestionNodes(formNode) {\r\n\r\n        if (formNode.children) {\r\n            if (formNode.children instanceof Object) {\r\n                for (const key in formNode.children) {\r\n                    if (formNode.children.hasOwnProperty(key)) {\r\n                        switch (formNode.children[key].question.renderingType) {\r\n                            case 'page':\r\n                                this._findTestOrderQuestionNodes(formNode.children[key]);\r\n                                break;\r\n                            case 'section':\r\n                                this._findTestOrderQuestionNodes(formNode.children[key]);\r\n                                break;\r\n                            case 'group':\r\n                                this._findTestOrderQuestionNodes(formNode.children[key]);\r\n\r\n                                break;\r\n                            case 'repeating':\r\n                                if (formNode.children) {\r\n                                    // tslint:disable-next-line:forin\r\n                                    for (const node in formNode.children) {\r\n                                        const question = formNode.children[node].question;\r\n                                        if (question.extras && question.extras.type === 'testOrder') {\r\n                                            this.formOrderNodes.push(formNode.children[node]);\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                                break;\r\n                            default:\r\n                                break;\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { NodeBase, GroupNode, ArrayNode } from '../form-factory/form-node';\r\nimport { Form } from '../form-factory/form';\r\n\r\nimport { ValueAdapter } from './value.adapter';\r\nimport { ObsValueAdapter } from './obs.adapter';\r\nimport { OrderValueAdapter } from './order.adapter';\r\n\r\nimport * as moment_ from 'moment';\r\n\r\nconst moment = moment_;\r\n\r\n@Injectable()\r\nexport class EncounterAdapter implements ValueAdapter {\r\n\r\n    constructor(public ordersAdapter: OrderValueAdapter, public obsAdapter: ObsValueAdapter) { }\r\n\r\n    populateForm(form: Form, payload) {\r\n        this.populateNode(form.rootNode, payload);\r\n\r\n        if (Array.isArray(payload.orders)) {\r\n            this.ordersAdapter.populateForm(form, payload);\r\n        }\r\n        if (Array.isArray(payload.obs)) {\r\n            this.obsAdapter.populateForm(form, payload.obs);\r\n        }\r\n    }\r\n\r\n    populateNode(rootNode: NodeBase, payload) {\r\n\r\n        if (payload === undefined || payload === null) {\r\n            throw new Error('Expected payload');\r\n        }\r\n\r\n        const nodes = this.getEncounterNodes(rootNode);\r\n\r\n        nodes.forEach(node => {\r\n            switch (node.question.extras.type) {\r\n                case 'encounterDatetime':\r\n                    if (payload['encounterDatetime']) {\r\n                        // console.log('date', payload['encounterDatetime']);\r\n                        node.control.setValue(moment(payload['encounterDatetime']).toDate());\r\n                        node.initialValue = moment(payload['encounterDatetime']).toDate();\r\n                    }\r\n                    break;\r\n                case 'encounterProvider':\r\n                    if (Array.isArray(payload['encounterProviders']) && payload['encounterProviders'].length > 0) {\r\n                        const firstProvider: any = payload['encounterProviders'][0].provider;\r\n                        if (firstProvider && firstProvider.uuid) {\r\n                            //Very weird work around for an issue with setting the value\r\n                            node.control.setValue(firstProvider.uuid);\r\n                            setTimeout(()=>{\r\n                                node.control.setValue(firstProvider.uuid);\r\n                            });\r\n                            node.initialValue = firstProvider.uuid;\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'encounterLocation':\r\n                    if (payload['location'] && payload['location'].uuid) {\r\n                        node.control.setValue(payload['location'].uuid);\r\n                        node.initialValue = payload['location'].uuid;\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    generateFormPayload(form: Form) {\r\n        const payload = this.generateNodePayload(form.rootNode);\r\n\r\n        this.setNonFilledPayloadMembers(form, payload);\r\n\r\n        payload['obs'] = this.obsAdapter.generateFormPayload(form) || [];\r\n\r\n        payload['orders'] = this.ordersAdapter.generateFormPayload(form) || [];\r\n\r\n        return payload;\r\n    }\r\n\r\n    generateNodePayload(rootNode: NodeBase) {\r\n        const nodes = this.getEncounterNodes(rootNode);\r\n        const payload = {};\r\n\r\n        nodes.forEach(node => {\r\n            if (node.control.value !== null &&\r\n                node.control.value !== undefined &&\r\n                node.control.value !== '') {\r\n                switch (node.question.extras.type) {\r\n                    case 'encounterDatetime':\r\n                        const dateValue = moment(node.control.value)\r\n                            .utcOffset(rootNode.form.valueProcessingInfo.utcOffset || '+0300');\r\n                        payload['encounterDatetime'] = dateValue.format('YYYY-MM-DD HH:mm:ss');\r\n                        break;\r\n                    case 'encounterProvider':\r\n                        if (node.control.value && node.control.value !== '') {\r\n                            const providers = [];\r\n                            providers.push({\r\n                                provider: node.control.value,\r\n                                encounterRole: 'a0b03050-c99b-11e0-9572-0800200c9a66' // unknown provider role in the encounter as default\r\n                            });\r\n                            payload['encounterProviders'] = providers;\r\n                        }\r\n                        break;\r\n                    case 'encounterLocation':\r\n                        payload['location'] = node.control.value;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n\r\n        return payload;\r\n    }\r\n\r\n    getEncounterNodes(rootNode: NodeBase): Array<NodeBase> {\r\n        const results: Array<NodeBase> = [];\r\n        this._getEncounterNodes(rootNode, results);\r\n        return results;\r\n    }\r\n\r\n    setNonFilledPayloadMembers(form: Form, payload) {\r\n        if (form.valueProcessingInfo.patientUuid) {\r\n            this.setPayloadPatientUuid(payload, form.valueProcessingInfo.patientUuid);\r\n        }\r\n\r\n        if (form.valueProcessingInfo.visitUuid) {\r\n            this.setPayloadVisitUuid(payload, form.valueProcessingInfo.visitUuid);\r\n        }\r\n\r\n        if (form.valueProcessingInfo.encounterTypeUuid) {\r\n            this.setPayloadEncounterTypeUuid(payload, form.valueProcessingInfo.encounterTypeUuid);\r\n        }\r\n\r\n        if (form.valueProcessingInfo.formUuid) {\r\n            this.setPayloadFormUuid(payload, form.valueProcessingInfo.formUuid);\r\n        }\r\n\r\n        if (form.valueProcessingInfo.encounterUuid) {\r\n            this.setPayloadEncounterUuid(payload, form.valueProcessingInfo.encounterUuid);\r\n        }\r\n    }\r\n\r\n    setPayloadPatientUuid(payload, patientUuid: string) {\r\n        payload['patient'] = patientUuid;\r\n    }\r\n\r\n    setPayloadVisitUuid(payload, visitUuid: string) {\r\n        payload['visit'] = visitUuid;\r\n    }\r\n\r\n    setPayloadEncounterTypeUuid(payload, encounterTypeUuid: string) {\r\n        payload['encounterType'] = encounterTypeUuid;\r\n    }\r\n\r\n    setPayloadFormUuid(payload, formUuid: string) {\r\n        payload['form'] = formUuid;\r\n    }\r\n\r\n    setPayloadEncounterUuid(payload, encounterUuid: string) {\r\n        payload['uuid'] = encounterUuid;\r\n    }\r\n\r\n    private _getEncounterNodes(rootNode: NodeBase, array: Array<NodeBase>) {\r\n        if (this._isEncounterNode(rootNode)) {\r\n            array.push(rootNode);\r\n        }\r\n\r\n        if (rootNode instanceof GroupNode) {\r\n            const node = rootNode as GroupNode;\r\n            // tslint:disable-next-line:forin\r\n            for (const o in node.children) {\r\n                if (node.children[o] instanceof NodeBase) {\r\n                    this._getEncounterNodes(node.children[o], array);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (rootNode instanceof ArrayNode) {\r\n            const node = rootNode as ArrayNode;\r\n            node.children.forEach(child => {\r\n                this._getEncounterNodes(child, array);\r\n            });\r\n        }\r\n    }\r\n\r\n    private _isEncounterNode(node: NodeBase): boolean {\r\n        if (node.question.extras &&\r\n            (node.question.extras.type === 'encounterDatetime' ||\r\n                node.question.extras.type === 'encounterProvider' ||\r\n                node.question.extras.type === 'encounterLocation')) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { NodeBase, GroupNode, ArrayNode } from '../form-factory/form-node';\r\nimport { Form } from '../form-factory/form';\r\nimport { ValueAdapter } from './value.adapter';\r\n\r\n@Injectable()\r\nexport class PersonAttribuAdapter implements ValueAdapter {\r\n    constructor() { }\r\n\r\n    generateFormPayload(form: Form) {\r\n        return this.generateNodePayload(form.rootNode);\r\n    }\r\n\r\n    generateNodePayload(rootNode: NodeBase) {\r\n        const nodes = this.getPersonAttributeNodes(rootNode);\r\n        const payload = [];\r\n        nodes.forEach(node => {\r\n            if (node.control.value !== null &&\r\n                node.control.value !== undefined &&\r\n                node.control.value !== '' &&\r\n                node.initialValue !== node.control.value) {\r\n\r\n                if (node.question.extras.questionOptions.isSimpleValue === true) {\r\n                    payload.push({\r\n                        attributeType: node.question.extras.questionOptions.attributeType,\r\n                        value: node.control.value\r\n                    });\r\n                } else {\r\n                    payload.push({\r\n                        attributeType: node.question.extras.questionOptions.attributeType,\r\n                        hydratedObject: node.control.value\r\n                    });\r\n                }\r\n\r\n            }\r\n        });\r\n        return payload;\r\n    }\r\n\r\n    populateForm(form: Form, payload) {\r\n        this.populateNode(form.rootNode, payload);\r\n    }\r\n\r\n    populateNode(rootNode: NodeBase, payload) {\r\n        if (!Array.isArray(payload)) {\r\n            throw new Error('Expected an array of attributes');\r\n        }\r\n\r\n        const nodes = this.getPersonAttributeNodes(rootNode);\r\n\r\n        nodes.forEach(node => {\r\n            payload.forEach(element => {\r\n                if (element.attributeType.uuid\r\n                    === node.question.extras.questionOptions.attributeType) {\r\n                    if (element.value.uuid) {\r\n                        node.control.setValue(element.value.uuid);\r\n                        node.initialValue = element.value.uuid;\r\n                    } else {\r\n                        node.control.setValue(element.value);\r\n                        node.initialValue = element.value;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    getPersonAttributeNodes(rootNode: NodeBase): Array<NodeBase> {\r\n        const results: Array<NodeBase> = [];\r\n        this._getPersonAttributesNodes(rootNode, results);\r\n        return results;\r\n    }\r\n\r\n    private _getPersonAttributesNodes(rootNode: NodeBase, array: Array<NodeBase>) {\r\n        if (rootNode.question.extras &&\r\n            rootNode.question.extras.type === 'personAttribute') {\r\n            array.push(rootNode);\r\n        }\r\n\r\n        if (rootNode instanceof GroupNode) {\r\n            const node = rootNode as GroupNode;\r\n            // tslint:disable-next-line:forin\r\n            for (const o in node.children) {\r\n                if (node.children[o] instanceof NodeBase) {\r\n                    this._getPersonAttributesNodes(node.children[o], array);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (rootNode instanceof ArrayNode) {\r\n            const node = rootNode as ArrayNode;\r\n            node.children.forEach(child => {\r\n                this._getPersonAttributesNodes(child, array);\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { Component, OnInit, Input, forwardRef, ViewChild, Output, EventEmitter, Renderer2 } from '@angular/core';\r\nimport { SelectComponent } from '../../components/select/select.component';\r\nimport {\r\n    ControlValueAccessor,\r\n    NG_VALUE_ACCESSOR\r\n} from '@angular/forms';\r\nimport { DataSource } from '../../form-entry/question-models/interfaces/data-source';\r\nimport * as _ from 'lodash';\r\n@Component({\r\n    selector: 'remote-select',\r\n    template: `<div>\r\n    <ng-select [id]=\"componentID\" [noFilter]=\"0\" (selected)=\"selected($event)\" (deselected)=\"removed($event)\" [options]=\"items\" [allowClear]=\"true\"\r\n        [placeholder]=\"placeholder\" [notFoundMsg]=\"notFoundMsg\" (typed)=\"typed($event)\" tabindex=\"0\">\r\n    </ng-select>\r\n    <div *ngIf=\"loading\">\r\n        resolving....\r\n    </div>\r\n</div>\r\n`,\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => RemoteSelectComponent),\r\n            multi: true,\r\n        }]\r\n})\r\nexport class RemoteSelectComponent implements OnInit, ControlValueAccessor {\r\n    // @Input() dataSource: DataSource;\r\n    @Input() placeholder = 'Search...';\r\n    @Input() componentID: string;\r\n    items = [];\r\n    value = [];\r\n    loading = false;\r\n    searchText = '';\r\n    notFoundMsg = 'match no found';\r\n    @Output() done: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    characters = [];\r\n    @ViewChild(SelectComponent) private selectC: SelectComponent;\r\n\r\n\r\n    private _dataSource: DataSource;\r\n    @Input()\r\n    public get dataSource(): DataSource {\r\n        return this._dataSource;\r\n    }\r\n    public set dataSource(v: DataSource) {\r\n        this._dataSource = v;\r\n        if (this._dataSource && this._dataSource.dataFromSourceChanged) {\r\n            this.subscribeToDataSourceDataChanges();\r\n        }\r\n    }\r\n\r\n\r\n    constructor(private renderer: Renderer2) { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    subscribeToDataSourceDataChanges() {\r\n        this._dataSource.dataFromSourceChanged.subscribe((results) => {\r\n            if (results.length > 0) {\r\n                this.items = results;\r\n                this.notFoundMsg = '';\r\n                // console.log('updating items', results, this.selectC.value);\r\n                this.restoreSelectedValue(this.selectC.value, results);\r\n            } else {\r\n                this.notFoundMsg = 'Not found';\r\n                this.items = [];\r\n            }\r\n        });\r\n    }\r\n\r\n    public typed(value: any): void {\r\n        this.search(value);\r\n    }\r\n    search(value: string) {\r\n        if (this.dataSource) {\r\n            this.searchText = value;\r\n            this.notFoundMsg = 'Loading.........';\r\n            this.dataSource.searchOptions(value)\r\n                .subscribe((result) => {\r\n                    if (result.length > 0) {\r\n                        const existing = _.map(this.value, _.clone);\r\n                        const concat = existing.concat(result);\r\n                        this.items = _.uniqBy(concat, 'value');\r\n                    }\r\n                    this.notFoundMsg = '';\r\n                }, (error) => {\r\n                    this.notFoundMsg = 'Errored';\r\n                });\r\n        }\r\n    }\r\n\r\n    restoreSelectedValue(value, results) {\r\n        let found = false;\r\n        _.each(results, (item) => {\r\n            if (item.value === value) {\r\n                setTimeout(() => {\r\n                    this.selectC.select(value);\r\n                    this.selectC.value = value;\r\n                });\r\n                found = true;\r\n            }\r\n        });\r\n        if (!found) {\r\n            // console.log('not found after loading items', value, results);\r\n            setTimeout(() => {\r\n                this.selectC.select('');\r\n                this.selectC.value = '';\r\n            });\r\n        }\r\n    }\r\n\r\n    canSearch(searchText: string) {\r\n        return (searchText.length - this.searchText.length >= 2 ||\r\n            (searchText.length - this.searchText.length <= 2 && searchText !== '')) && this.loading === false;\r\n    }\r\n\r\n    // this is the initial value set to the component\r\n    public writeValue(value: any) {\r\n        if (value && value !== '') {\r\n            if (this.dataSource) {\r\n                this.loading = true;\r\n                this.dataSource.resolveSelectedValue(value).subscribe((result: any) => {\r\n                    this.items = [result];\r\n                    setTimeout(() => {\r\n                        this.selectC.select(result.value);\r\n                        this.selectC.value = result.value;\r\n                    });\r\n                    this.loading = false;\r\n                }, (error) => {\r\n                    this.loading = false;\r\n                });\r\n            }\r\n        }\r\n    }\r\n    // registers 'fn' that will be fired when changes are made\r\n    // this is how we emit the changes back to the form\r\n    public registerOnChange(fn: any) {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    // not used, used for touch input\r\n    public registerOnTouched() { }\r\n    // change events from the textarea\r\n    onChange(event) {\r\n        this.propagateChange(event.id);\r\n        // .....\r\n        // update the form\r\n        // this.propagateChange(this.data);\r\n    }\r\n    removed(event) {\r\n        console.log('Removed');\r\n        this.propagateChange('');\r\n    }\r\n    selected(event) {\r\n        this.propagateChange(event.value);\r\n    }\r\n\r\n    // the method set in registerOnChange, it is just\r\n    // a placeholder for a method that takes one parameter,\r\n    // we use it to emit changes back to the form\r\n    private propagateChange = (change: any) => { };\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\n// import { SelectModule } from 'ng2-select/ng2-select';\r\nimport { SelectModule } from '../../components/select/select.module';\r\nimport { RemoteSelectComponent } from './remote-select.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, SelectModule, FormsModule],\r\n    exports: [RemoteSelectComponent],\r\n    declarations: [RemoteSelectComponent],\r\n    providers: [],\r\n})\r\nexport class RemoteSelectModule { }\r\n","import { Component, OnInit, OnChanges, Input } from '@angular/core';\r\n\r\nimport { LeafNode } from '../../form-entry/form-factory/form-node';\r\nimport * as moment_ from 'moment';\r\n\r\nconst moment = moment_;\r\n\r\n@Component({\r\n  selector: 'appointments-overview',\r\n  template: `<div *ngIf=\"showAppointments\" class=\"appointments\">\r\n  <p *ngIf=\"loadingAppointments\">\r\n    <span *ngIf=\"!appointmentsLoaded && errorLoadingAppointments\">Error checking appointments</span>\r\n    <span *ngIf=\"loadingAppointments\"><span\r\n      class=\"fa fa-spinner fa-spin\"></span>Checking appointments...</span>\r\n  </p>\r\n  <div *ngIf=\"appointmentsLoaded && !errorLoadingAppointments\">\r\n    <table *ngIf=\"appointments.length>0\" class=\"table table-stripped table-bordered\">\r\n      <thead>\r\n      <tr>\r\n        <th *ngFor=\"let appointment of appointments\" [ngClass]=\"{'active': appointment.date === today}\">\r\n          <span>{{appointment.date}}</span>\r\n        </th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr>\r\n        <td *ngFor=\"let appointment of appointments\"\r\n            [ngClass]=\"{'active': appointment.date === today}\">\r\n          <span><strong><em>{{appointment.count}}</em></strong></span>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n`,\r\n  styles: [`.appointments{margin-top:12px;font-size:12px;color:#999}.appointments p{padding-top:12px}.appointments th{border-bottom:0!important;color:#333}.appointments td span,.appointments th span{display:block}.appointments td.active,.appointments th.active{background-color:#3c8dbc;color:#fff!important;padding:0}.appointments td.active span,.appointments th.active span{padding:4px}.appointments span.fa{display:inline-block;margin-right:7px}`]\r\n})\r\nexport class AppointmentsOverviewComponent implements OnInit, OnChanges {\r\n  @Input() node: LeafNode;\r\n  showAppointments = false;\r\n  loadingAppointments = false;\r\n  errorLoadingAppointments = false;\r\n  appointmentsLoaded = false;\r\n  appointments: Array<any> = [];\r\n  today = '';\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.node.control.valueChanges.subscribe((v) => {\r\n      this.resetProperties();\r\n      const node = this.node;\r\n      if (node.question.extras.questionOptions.concept\r\n        && (node.question.extras.questionOptions.concept === 'a8a666ba-1350-11df-a1f1-0026b9348838'\r\n        || node.question.extras.questionOptions.concept === 'a89d2398-1350-11df-a1f1-0026b9348838')) {\r\n        // console.log('what change is here', this.showAppointments);\r\n        if (!this.showAppointments) {\r\n          this.loadingAppointments = true;\r\n          this.showAppointments = true;\r\n          let dataSource;\r\n          if (node.form && node.form.dataSourcesContainer.dataSources) {\r\n            dataSource = node.form.dataSourcesContainer.dataSources.monthlyScheduleResourceService;\r\n          }\r\n          const locationUuid = node.form.dataSourcesContainer.dataSources.userLocation.uuid;\r\n          if (dataSource && locationUuid) {\r\n            const startDate = moment(v).startOf('week').add(1, 'day').format('YYYY-MM-DD');\r\n            const endDate = moment(v).endOf('week').subtract(1, 'day').format('YYYY-MM-DD');\r\n            this.today = moment(v).format('DD-MM-YYYY');\r\n            // create 5 week days\r\n            const _data = [];\r\n            const programTypes = ['781d85b0-1359-11df-a1f1-0026b9348838', '781d897a-1359-11df-a1f1-0026b9348838',\r\n              '96047aaf-7ab3-45e9-be6a-b61810fe617d', 'c19aec66-1a40-4588-9b03-b6be55a8dd1d', 'f7793d42-11ac-4cfd-9b35-e0a21a7a7c31',\r\n              '334c9e98-173f-4454-a8ce-f80b20b7fdf0', '96ba279b-b23b-4e78-aba9-dcbd46a96b7b', '781d8880-1359-11df-a1f1-0026b9348838'];\r\n            const programTypeParams = programTypes.join();\r\n            for (let i = 1; i <= 5; i++) {\r\n              _data.push({\r\n                date: moment(v).startOf('week').add(i, 'day').format('DD-MM-YYYY'),\r\n                count: 0\r\n              });\r\n            }\r\n            dataSource.getMonthlySchedule({\r\n              startDate: startDate,\r\n              endDate: endDate,\r\n              limit: 5,\r\n              locationUuids: locationUuid,\r\n              programType: programTypeParams\r\n            }).subscribe((data) => {\r\n              this.appointmentsLoaded = true;\r\n              this.loadingAppointments = false;\r\n              _data.map((appointment, index) => {\r\n                appointment.count = data[index] !== undefined ? data[index].count.scheduled : 0;\r\n              });\r\n              this.appointments = _data;\r\n            }, (error) => {\r\n              this.loadingAppointments = false;\r\n              this.errorLoadingAppointments = true;\r\n              this.showAppointments = false;\r\n              console.error(error);\r\n            });\r\n          } else {\r\n            this.showAppointments = false;\r\n            this.errorLoadingAppointments = true;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  resetProperties() {\r\n    this.loadingAppointments = false;\r\n    this.appointmentsLoaded = false;\r\n    this.errorLoadingAppointments = false;\r\n    this.showAppointments = false;\r\n    this.appointments = [];\r\n    this.today = '';\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { GroupNode, LeafNode, ArrayNode, NodeBase } from '../form-entry/form-factory/form-node';\r\nimport * as _ from 'lodash';\r\nimport { DataSource } from '../form-entry/question-models/interfaces/data-source';\r\nimport { Observable } from 'rxjs';\r\nimport { SelectOption } from '../form-entry/question-models/interfaces/select-option';\r\nconst comma = ', ';\r\nconst newLine = '\\n';\r\n\r\n@Injectable()\r\nexport class EncounterViewerService implements DataSource {\r\n\r\n    constructor() {}\r\n    public resolveSelectedValue(value: any): Observable<SelectOption> {\r\n        return;\r\n    }\r\n    public searchOptions(searchText: any): Observable<SelectOption[]> {\r\n        return;\r\n    }\r\n    public fileUpload(data: any): Observable<any> {\r\n        return;\r\n    }\r\n    public fetchFile(url: any): Observable<any> {\r\n        return;\r\n    }\r\n\r\n    public resolveSelectedValueFromSchema( answerUuid: string, schema: any): string {\r\n        let label;\r\n        if (schema.pages) {\r\n            _.forEach(schema.pages, (page) => {\r\n              const l = this.resolveSelectedValueFromSchema(answerUuid, page);\r\n              if (l) { label = l; }\r\n            }); }\r\n\r\n        if (schema.sections) {\r\n            _.forEach(schema.sections, (section) => {\r\n                const l = this.resolveSelectedValueFromSchema(answerUuid, section);\r\n                if (l) { label = l; }\r\n            });\r\n        }\r\n\r\n        if (schema.questions) {\r\n            _.forEach(schema.questions, (question) => {\r\n                 if (question.questions) {\r\n                    const l = this.resolveSelectedValueFromSchema(answerUuid, question);\r\n                    if (l) { label = l; }\r\n                } else {\r\n                    if (question.questionOptions.answers) {\r\n                    _.forEach(question.questionOptions.answers, (answer) => {\r\n                        if (answer.concept === answerUuid) {\r\n                            label = answer.label;\r\n                        }\r\n                    });\r\n                } else if (question.questionOptions.selectableOrders) {\r\n                    _.forEach(question.questionOptions.selectableOrders, (order) => {\r\n                        if (order.concept === answerUuid) { label = order.label; }\r\n                    });\r\n                }\r\n\r\n                }\r\n            });\r\n        }\r\n        return label;\r\n\r\n\r\n    }\r\n\r\n    public hasAnswer(node: NodeBase) {\r\n        let answered = false;\r\n        if (node.initialValue) {\r\n            answered = true;\r\n        }\r\n        return answered;\r\n    }\r\n\r\n    public questionsAnswered(node: any, answered?: boolean[]) {\r\n        const $answered = answered || [];\r\n        if (node.question.renderingType === 'page') {\r\n            _.forEach(node.children, (childNode: any) => {\r\n                this.questionsAnswered(childNode, $answered); });\r\n\r\n        } else if (node.question.renderingType === 'section') {\r\n            _.forEach(node.children, (childNode) => {\r\n                if (childNode.question.renderingType === 'group') {\r\n                   _.forEach(childNode.children, (child) => {\r\n                       const ans = this.questionsAnswered(child, $answered);\r\n                       if (ans) { $answered.push(ans); }\r\n                   });\r\n                } else if (this.hasAnswer(childNode)) { $answered.push(true); }\r\n            });\r\n        } else { return this.hasAnswer(node); }\r\n\r\n        if ($answered.length > 0) {return true; } else { return false; }\r\n    }\r\n\r\n\r\n    public isDate(val: any) {\r\n        if (Date.parse(val)) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    public convertTime(unixTimestamp: number) {\r\n        const a = new Date(unixTimestamp);\r\n        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May',\r\n                        'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n        const year = a.getFullYear();\r\n        const month = months[a.getMonth()];\r\n        const date = a.getDate();\r\n        const hour = a.getHours();\r\n        const min = a.getMinutes();\r\n        const sec = a.getSeconds();\r\n        const suffix = hour < 12 ? 'AM' : 'PM';\r\n        let time;\r\n        if (hour === 0 && min === 0) {\r\n            time = date + ' ' + month + ' ' + year;\r\n        } else {\r\n            time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + suffix + ' (EAT)';\r\n        }\r\n        return time;\r\n\r\n    }\r\n}\r\n","import { Component, OnInit, Input, Inject } from '@angular/core';\r\nimport { NodeBase, GroupNode, LeafNode } from '../../form-entry/form-factory/form-node';\r\nimport { QuestionBase } from '../../form-entry/question-models/question-base';\r\nimport * as _ from 'lodash';\r\n\r\nimport { AfeFormGroup } from '../../abstract-controls-extension/afe-form-group';\r\nimport { DataSources } from '../../form-entry/data-sources/data-sources';\r\nimport { DataSource } from '../../form-entry/question-models/interfaces/data-source';\r\n\r\nimport { EncounterViewerService } from '../encounter-viewer.service';\r\n\r\n@Component({\r\n    selector: 'encounter-viewer',\r\n    template: `<div class=\"viewer\">\r\n\r\n  <div *ngIf=\"rootNode.question.renderingType === 'form'\" class=\"form\">\r\n    <div *ngFor=\"let question of rootNode.question.questions; let i = index;\">\r\n      <div *ngIf=\"questionsAnswered(rootNode.children[question.key])\">\r\n        <div [attr.id]=\"'page'+i\" class=\"panel panel-default\">\r\n          <p class=\"page-label panel-heading text-primary\">{{question.label}}</p>\r\n          <div class=\"panel-body\">\r\n            <encounter-viewer [node]=\"rootNode.children[question.key]\" [schema]=\"_schema\" [parentComponent]=\"this\" [parentGroup]=\"rootNode.control\"></encounter-viewer>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"rootNode.question.renderingType === 'page'\" class=\"page\">\r\n    <encounter-viewer *ngFor=\"let question of rootNode.question.questions\" [parentComponent]=\"this\" [node]=\"rootNode.children[question.key]\"\r\n      [schema]=\"_schema\" [parentGroup]=\"parentGroup\"></encounter-viewer>\r\n  </div>\r\n\r\n\r\n  <div *ngIf=\"rootNode.question.renderingType === 'section'&& questionsAnswered(rootNode)\"\r\n    class=\"section\">\r\n    <div class=\"panel panel-primary\">\r\n      <p class=\"panel-heading section-label\">{{ rootNode.question.label }}</p>\r\n    </div>\r\n    <div *ngFor=\"let question of rootNode.question.questions\">\r\n      <encounter-viewer [node]=\"rootNode.children[question.key]\" [parentComponent]=\"this\" [schema]=\"_schema\" [parentGroup]=\"parentGroup\"></encounter-viewer>\r\n    </div>\r\n  </div>\r\n\r\n  <!--Leaf Controls-->\r\n  <div style=\"margin-left:10px;\">\r\n  <form *ngIf=\"rootNode.question.controlType === 0\" [formGroup]=\"parentGroup\">\r\n    <div *ngIf=\"rootNode.control.value\">\r\n    <div class=\"question-answer\">\r\n      <label *ngIf=\"rootNode.question.label\" [attr.for]=\"rootNode.question.key\" style=\"font-weight:400;\">\r\n          {{ rootNode.question.label }}\r\n      </label>\r\n      <span *ngIf=\"checkForColon(rootNode.question.label)\">:</span>\r\n      <div [ngSwitch]=\"rootNode.question.renderingType\" style=\"display:inline-block; font-weight:bold;\">\r\n          <div *ngSwitchCase=\" 'file' \">\r\n            <file-preview [formControlName]=\"rootNode.question.key\" [id]=\"rootNode.question.key + 'id'\" [dataSource]=\"fileDataSource\"></file-preview>\r\n          </div>\r\n          <div *ngSwitchCase=\"'remote-select'\">\r\n            <remote-answer [formControlName]=\"rootNode.question.key\" [id]=\"rootNode.question.key + 'id'\" [dataSource]=\"remoteDataSource\"></remote-answer>\r\n          </div>\r\n          <div *ngSwitchDefault style=\"display:inline-block\">\r\n              <question-control [schema]=\"_schema\" [value]=\"rootNode.control.value\" [dataSource]=\"customDataSource\"></question-control>\r\n            </div>\r\n      </div>\r\n     \r\n    </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n\r\n  <!--Array Controls-->\r\n  <div *ngIf=\"rootNode.question.controlType === 1 && questionsAnswered(rootNode)\">\r\n    <div [ngSwitch]=\"rootNode.question.renderingType\">\r\n      <div *ngSwitchCase=\" 'repeating' \">\r\n        <div [ngSwitch]=\"rootNode.question.extras.type\">\r\n          <div *ngSwitchCase=\"'testOrder'\">\r\n            <label>{{rootNode.question.label}}:</label>\r\n            <div *ngFor=\"let child of rootNode.children; let i=index \">\r\n              <encounter-viewer *ngFor=\"let question of child.question.questions \" [parentComponent]=\"this\" [node]=\"child.children[question.key]\r\n                \" [parentGroup]=\"child.control \" [schema]=\"_schema\"></encounter-viewer>\r\n            </div>\r\n          </div>\r\n          \r\n          <div *ngSwitchCase=\"'obsGroup'\">\r\n            <div *ngFor=\"let child of rootNode.children; let i=index \">\r\n              <encounter-viewer *ngFor=\"let question of child.question.questions \" [parentComponent]=\"this\" [node]=\"child.children[question.key]\r\n                \" [parentGroup]=\"child.control \" [schema]=\"_schema\"></encounter-viewer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"rootNode.question.controlType === 2\">\r\n\r\n    <!--GROUP-->\r\n    <div [ngSwitch]=\"rootNode.question.renderingType \">\r\n      <div *ngSwitchCase=\" 'group' \">\r\n        <encounter-viewer *ngFor=\"let question of rootNode.question.questions \" [parentComponent]=\"this\" [node]=\"rootNode.children[question.key]\r\n                  \" [parentGroup]=\"rootNode.control \" [schema]=\"_schema\"></encounter-viewer>\r\n      </div>\r\n      <div *ngSwitchCase=\" 'field-set' \">\r\n        <encounter-viewer *ngFor=\"let question of rootNode.question.questions \" [parentComponent]=\"this\" [node]=\"rootNode.children[question.key]\r\n                  \" [parentGroup]=\"rootNode.control \" [schema]=\"_schema\"></encounter-viewer>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n  </div>\r\n`,\r\n    styles: [`.page-label{font-size:20px;font-weight:700}.section-label{font-size:18px;font-weight:500}.panel-primary{border:none!important}.question-answer{font-size:16px}.panel{margin-bottom:5px}div.section{margin-bottom:15px!important}.line-breaker{white-space:pre-line}hr{margin:10px}`],\r\n})\r\nexport class EncounterViewerComponent implements OnInit {\r\n    public rootNode: NodeBase;\r\n    public enc: any;\r\n    public fileDataSource: DataSource;\r\n    public remoteDataSource: DataSource;\r\n    public customDataSource: DataSource;\r\n    public _schema;\r\n    @Input() public parentGroup: AfeFormGroup;\r\n    @Input() public parentComponent: EncounterViewerComponent;\r\n    @Input() set node(rootNode: NodeBase) {\r\n        this.rootNode = rootNode;\r\n    }\r\n\r\n    @Input() public set schema(schema: any) {\r\n        this._schema = schema;\r\n    }\r\n\r\n    @Input() public set encounter(enc: any) {\r\n        this.enc = enc;\r\n    }\r\n     @Input() set form(form: any) {\r\n         this.rootNode = form.rootNode;\r\n         this._schema = form.schema;\r\n         console.log(this.getQuestionNodes(this.traverse(this.rootNode)));\r\n    }\r\n\r\n    constructor(\r\n        private encounterViewerService: EncounterViewerService,\r\n        private dataSources: DataSources) {}\r\n    \r\n    getQuestionNodes(pages) {\r\n        const merged = [];\r\n        const arrays = [];\r\n        for (const page of pages) {\r\n            arrays.push(page.page);\r\n        }\r\n        return merged.concat.apply([], arrays);\r\n    }\r\n    public ngOnInit() {\r\n        if(this.rootNode){\r\n            \r\n        }\r\n        if (this.rootNode && this.rootNode.question.extras\r\n            && this.rootNode.question.renderingType === 'file') {\r\n                this.fileDataSource =\r\n                this.dataSources.dataSources[this.rootNode.question.dataSource];\r\n        } else if (this.rootNode && this.rootNode.question.extras\r\n            && this.rootNode.question.renderingType === 'remote-select') {\r\n                this.remoteDataSource =\r\n                this.dataSources.dataSources[this.rootNode.question.dataSource];\r\n            } else {\r\n                this.customDataSource = this.encounterViewerService;\r\n            }\r\n    }\r\n\r\n    public questionsAnswered(node: any) {\r\n        const $answered = this.encounterViewerService.questionsAnswered(node);\r\n        return $answered;\r\n    }\r\n\r\n    public questionAnswered(node: NodeBase) {\r\n        const answered = this.encounterViewerService.hasAnswer(node);\r\n        return answered;\r\n    }\r\n\r\n    public checkForColon(questionLabel: string) {\r\n        if (questionLabel.indexOf(':') === -1) { return true; } else { return false; }\r\n    }\r\n\r\n    traverse(o, type?) {\r\n        const questions = [];\r\n        if (o.children) {\r\n            if (o.children instanceof Array) {\r\n                const returned = this.repeatingGroup(o.children);\r\n                return returned;\r\n            }\r\n            if (o.children instanceof Object) {\r\n                for (const key in o.children) {\r\n                    if (o.children.hasOwnProperty(key)) {\r\n                        switch (o.children[key].question.renderingType) {\r\n                            case 'page':\r\n                                const page = this.traverse(o.children[key]);\r\n                                questions.push({ page: page });\r\n                                break;\r\n                            case 'section':\r\n                                const section = this.traverse(o.children[key]);\r\n                                questions.push({ section: section });\r\n                                break;\r\n                            case 'group':\r\n                                const qs = this.traverse(o.children[key]);\r\n                                questions.push({ node: o.children[key], question: o.children[key].question, groupMembers: qs });\r\n                                break;\r\n                            case 'repeating':\r\n                                const rep = this.repeatingGroup(o.children[key].children);\r\n                                questions.push({ node: o.children[key], question: o.children[key].question, groupMembers: rep });\r\n                                break;\r\n                            default:\r\n                                questions.push(o.children[key]);\r\n                                break;\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }else{\r\n                console.log('Console.log',o);\r\n            }\r\n\r\n        }\r\n        return questions;\r\n    }\r\n\r\n    repeatingGroup(nodes) {\r\n        const toReturn = [];\r\n        for (const node of nodes) {\r\n            toReturn.push({ question: node.question, groupMembers: this.traverse(node) });\r\n        }\r\n        return toReturn;\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Form } from '../form-entry/form-factory/form';\r\nimport { ObsValueAdapter } from '../form-entry/value-adapters/obs.adapter';\r\nimport { EncounterViewerService } from './encounter-viewer.service';\r\nimport { DataSources } from '../form-entry/data-sources/data-sources';\r\nimport { DataSource } from '../form-entry/question-models/interfaces/data-source';\r\n\r\nimport { combineLatest, BehaviorSubject } from 'rxjs';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport * as moment_ from 'moment';\r\nimport * as _ from 'lodash';\r\nimport * as pdfMake from 'pdfmake/build/pdfmake.js';\r\nimport 'pdfmake/build/vfs_fonts.js';\r\nimport * as pdfFonts from 'pdfmake/build/vfs_fonts';\r\n\r\nconst moment = moment_;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class EncounterPdfViewerService {\r\n  private remoteDataSource: DataSource;\r\n  public error: boolean;\r\n  public errorMessage: string;\r\n  public showLoader: boolean;\r\n  public subscribedAnswers: any = {\r\n    questions: {\r\n      stack: []\r\n    },\r\n    answers: []\r\n  };\r\n\r\n  constructor(\r\n    private encounterViewerService: EncounterViewerService,\r\n    private obsValueAdapter: ObsValueAdapter,\r\n    private dataSources: DataSources\r\n  ) {}\r\n\r\n  getPages(pages: any, form: Form, remoteSelectsOnly?: boolean, remoteAns?: any): any[] {\r\n    const content = [];\r\n    let remoteQuestions = [];\r\n\r\n    for (const page of pages) {\r\n      if (remoteSelectsOnly) {\r\n        remoteQuestions = remoteQuestions.concat(this.getSections(page.page, form, false, remoteAns));\r\n      } else {\r\n        for (const question of form.rootNode.question.questions) {\r\n          if (page.label === form.rootNode.children[question.key].question.label &&\r\n            this.encounterViewerService.questionsAnswered(form.rootNode.children[question.key])) {\r\n            content.push({\r\n              style: 'tableExample',\r\n              table: {\r\n                widths: ['*'],\r\n                headerRows: 1,\r\n                keepWithHeaderRows: 1,\r\n                body: [\r\n                  [{ text: page.label, style: 'tableHeader' }],\r\n                  [\r\n                    {\r\n                      style: 'tableExample',\r\n                      table: {\r\n                        widths: ['*'],\r\n                        body: this.getSections(page.page, form, true, remoteAns)\r\n                      },\r\n                      layout: 'noBorders',\r\n                      margin: [5, 0, 0, 0]\r\n                    }\r\n                  ]\r\n                ]\r\n              },\r\n              layout: {\r\n                hLineWidth: function(i, node) {\r\n                  return (i === 0 || i === node.table.body.length) ? 0.5 : 0.5;\r\n                },\r\n                vLineWidth: function(i, node) {\r\n                  return (i === 0 || i === node.table.widths.length) ? 0.5 : 0.5;\r\n                },\r\n                hLineColor: function(i, node) {\r\n                  return (i === 0 || i === node.table.body.length) ? '#ddd' : '#ddd';\r\n                },\r\n                vLineColor: function(i, node) {\r\n                  return (i === 0 || i === node.table.body.length) ? '#ddd' : '#ddd';\r\n                }\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return remoteSelectsOnly ? remoteQuestions : content;\r\n  }\r\n\r\n  getSections(sections: any, form: Form, resolve: any, remoteAns: any): any[] {\r\n    const content = [];\r\n    const answeredSections = [];\r\n    let questions: Array<Observable<any>> = [];\r\n\r\n    sections.map(s => {\r\n      if (this.encounterViewerService.questionsAnswered(s.node)) {\r\n        answeredSections.push(s);\r\n      }\r\n    });\r\n\r\n    for (const section of answeredSections) {\r\n      questions = questions.concat(this.getRemoteSectionData(section.section));\r\n    }\r\n\r\n    if (resolve && remoteAns) {\r\n      for (const section of answeredSections) {\r\n        content.push([\r\n          {\r\n            table: {\r\n              widths: ['*'],\r\n              body: [\r\n                [{ text: section.label, style: 'tableSubheader' }],\r\n                [ this.getSectionData(section.section, remoteAns, form) ]\r\n              ]\r\n            },\r\n            layout: 'noBorders'\r\n          }\r\n        ]);\r\n      }\r\n      return content;\r\n    } else {\r\n      return questions;\r\n    }\r\n  }\r\n\r\n  private appendResolvedAnswer(resolvedAnswer: any, questions: any, node?: any) {\r\n    if (resolvedAnswer) {\r\n      questions.stack.push({\r\n        text: [\r\n          `${(node) ? node.question.label : 'Question label' }${\r\n            (node) ? (node.question.label.indexOf(':') > 1 ? '' : ':') : ''\r\n          } `,\r\n          { text: `${resolvedAnswer}`, bold: true }\r\n        ], style: 'answers'\r\n      });\r\n    }\r\n  }\r\n\r\n  // get remote selects only\r\n  getRemoteSectionData(section: any): any {\r\n    const questions: Array<Observable<any>> = [];\r\n    this.subscribedAnswers.questions.stack = [];\r\n\r\n    for (const node of section) {\r\n      if (node.question.renderingType === 'remote-select') {\r\n        this.remoteDataSource = this.dataSources.dataSources[node.question.dataSource];\r\n        if (node.control.value !== '') {\r\n          if (this.remoteDataSource) {\r\n            questions.push(this.remoteDataSource.resolveSelectedValue(node.control.value));\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return questions;\r\n  }\r\n\r\n  // merge remote selects\r\n  getSectionData(section: any, remoteAns: any[], form: Form): any {\r\n    const questions = {\r\n      stack: []\r\n    };\r\n\r\n    let resolvedAnswer = '';\r\n\r\n    for (const node of section) {\r\n      switch (node.question.renderingType) {\r\n        case 'group':\r\n          if (node.groupMembers) {\r\n            questions.stack.push(this.getSectionData(node.groupMembers, remoteAns, form));\r\n          }\r\n          break;\r\n\r\n        case 'field-set':\r\n          if (node.children) {\r\n            const groupMembers = [];\r\n            const result = Object.keys(node.children).map((key) => node.children[key]);\r\n\r\n            if (result) {\r\n              groupMembers.push(result);\r\n              questions.stack.push(this.getSectionData(groupMembers[0], remoteAns, form));\r\n            }\r\n          }\r\n          break;\r\n\r\n        case 'repeating':\r\n          if (node.groupMembers) {\r\n            questions.stack.push(this.getSectionData(node.groupMembers, remoteAns, form));\r\n          }\r\n          break;\r\n\r\n        case 'remote-select':\r\n          this.remoteDataSource = this.dataSources.dataSources[node.question.dataSource];\r\n          for (const ans of remoteAns) {\r\n            if (ans.value === node.control.value) {\r\n              this.appendResolvedAnswer(ans.label, questions, node);\r\n            }\r\n          }\r\n          break;\r\n\r\n        default:\r\n          const answer = node.control.value;\r\n          if (answer) {\r\n            resolvedAnswer = this.resolveValue(answer, form);\r\n            this.appendResolvedAnswer(resolvedAnswer, questions, node);\r\n          }\r\n      }\r\n    }\r\n\r\n    return questions;\r\n  }\r\n\r\n  resolveValue(answer: any, form: Form, arrayElement?: boolean): any {\r\n    if (answer !== '') {\r\n      if (this.isUuid(answer)) {\r\n        const val = this.encounterViewerService.resolveSelectedValueFromSchema(answer, form.schema);\r\n        if (!arrayElement) {\r\n          if (val) {\r\n            return val.toUpperCase();\r\n          } else {\r\n            return answer;\r\n          }\r\n        } else {\r\n          return val;\r\n        }\r\n      } else if (_.isArray(answer)) {\r\n        const arr = [];\r\n        _.forEach(answer, elem => {\r\n          arr.push(this.resolveValue(elem, form, true));\r\n        });\r\n        return arr.toString();\r\n      } else if (this.isDate(answer)) {\r\n        if (!arrayElement) {\r\n          return this.encounterViewerService.convertTime(answer);\r\n        } else {\r\n          return this.encounterViewerService.convertTime(answer);\r\n        }\r\n      } else if (typeof answer === 'object') {\r\n        const values = [];\r\n        const result = Object.keys(answer).map((key) => [key, answer[key]]);\r\n\r\n        values.push(result);\r\n        return values;\r\n      } else {\r\n       return answer;\r\n      }\r\n    }\r\n  }\r\n\r\n  generatePdfDefinition(form: Form): any {\r\n    const docDefinition$ = new BehaviorSubject<any>({});\r\n    const remoteSelects = this.getPages((this.obsValueAdapter.traverse(form.rootNode)), form, true);\r\n\r\n    combineLatest(remoteSelects).subscribe(remoteAns => {\r\n      if (remoteAns) {\r\n        const docDefinition = {\r\n          pageSize: 'A4',\r\n          content: this.getPages(this.obsValueAdapter.traverse(form.rootNode), form, false, remoteAns),\r\n          styles: {\r\n            answers: {\r\n              fontSize: 8\r\n            },\r\n            banner: {\r\n              fontSize: 9,\r\n              bold: true,\r\n              margin: [50, 15, 30, 0]\r\n            },\r\n            bannerItem: {\r\n              margin: [2, 2, 2, 2]\r\n            },\r\n            bannerLabel: {\r\n              color: '#2f4f4f'\r\n            },\r\n            confidential: {\r\n              color: 'red',\r\n              fontSize: 8,\r\n              bold: true,\r\n              margin: [60, 0, 0, 0]\r\n            },\r\n            footer: {\r\n              alignment: 'center',\r\n              fontSize: 8,\r\n              bold: true\r\n            },\r\n            header: {\r\n              fontSize: 9,\r\n              bold: true,\r\n              margin: [5, 5, 5, 5]\r\n            },\r\n            pageNumber: {\r\n              color: '#2f4f4f',\r\n              fontSize: 6\r\n            },\r\n            tableExample: {\r\n              fontSize: 10,\r\n              margin: [5, 0, 0, 5]\r\n            },\r\n            tableHeader: {\r\n              fillColor: '#f5f5f5',\r\n              width: ['100%'],\r\n              borderColor: '#333',\r\n              fontSize: 9,\r\n              bold: true,\r\n              margin: [5, 0, 5, 0]\r\n            },\r\n            tableSubheader: {\r\n              fillColor: '#337ab7',\r\n              width: ['100%'],\r\n              fontSize: 9,\r\n              color: 'white',\r\n              margin: [5, 0, 5, 0]\r\n            },\r\n            timestamp: {\r\n              bold: true,\r\n              color: '#2f4f4f'\r\n            }\r\n          },\r\n          defaultStyle: {\r\n            fontSize: 7\r\n          }\r\n        };\r\n        docDefinition$.next(docDefinition);\r\n      }\r\n    });\r\n\r\n    return docDefinition$;\r\n  }\r\n\r\n  displayPdf(form) {\r\n    const pdf = pdfMake;\r\n    let patient;\r\n    pdf.vfs = pdfFonts.pdfMake.vfs;\r\n\r\n    if (form.dataSourcesContainer.dataSources._dataSources) {\r\n      patient = form.dataSourcesContainer.dataSources._dataSources['patientInfo'];\r\n    }\r\n\r\n    this.generatePdfDefinition(form).subscribe(docDefinition => {\r\n      if (!(_.isEmpty(docDefinition))) {\r\n        if (typeof patient !== 'undefined') {\r\n          const banner = [];\r\n\r\n          if (patient.name) {\r\n            banner.push({\r\n              text: [\r\n                { text: 'Name: ', style: 'bannerLabel' },\r\n                { text: `${this.titleize(patient.name)}` }\r\n              ],\r\n              style: 'bannerItem'\r\n            });\r\n          }\r\n\r\n          if (patient.nid) {\r\n            banner.push({\r\n              text: [\r\n                { text: 'ID: ', style: 'bannerLabel' },\r\n                { text: `${patient.nid}` }\r\n              ],\r\n              style: 'bannerItem'\r\n            });\r\n          }\r\n\r\n          if (patient.birthdate) {\r\n            banner.push({\r\n              text: [\r\n                { text: 'DOB: ', style: 'bannerLabel' },\r\n                { text: `${moment(patient.birthdate).format('l')} (${patient.age} yo)` }\r\n              ],\r\n              style: 'bannerItem'\r\n            });\r\n          }\r\n\r\n          if (patient.mui) {\r\n            banner.push({\r\n              text: [\r\n                { text: 'MUI: ', style: 'bannerLabel' },\r\n                { text: `${patient.mui}` }\r\n              ],\r\n              style: 'bannerItem'\r\n            });\r\n          }\r\n\r\n          if (patient.mhn) {\r\n            banner.push({\r\n              text: [\r\n                { text: 'MTRH No: ', style: 'bannerLabel' },\r\n                { text: `${patient.mhn}` }\r\n              ],\r\n              style: 'bannerItem'\r\n            });\r\n          }\r\n\r\n          docDefinition.header = {\r\n            style: 'banner',\r\n            table: {\r\n              body: [ banner ]\r\n            },\r\n            layout: 'noBorders'\r\n          };\r\n        }\r\n\r\n        docDefinition.footer = (currentPage, pageCount) => {\r\n          return \t{\r\n            style: 'footer',\r\n            widths: ['*', 'auto'],\r\n            table: {\r\n              body: [\r\n                [\r\n                  {\r\n                    text: 'Note: Confidentiality is one of the core duties of all medical practitioners. '\r\n                      + 'Patients\\' personal health information should be kept private.', style: 'confidential'\r\n                  }, ''\r\n                ],\r\n                [\r\n                  { text: `Generated on ${new Date().toUTCString()}`, style: 'timestamp' },\r\n                  { text: `${currentPage.toString()} of ${pageCount}`, style: 'pageNumber' }\r\n                ],\r\n              ]\r\n            },\r\n            layout: 'noBorders'\r\n          };\r\n        };\r\n\r\n        const win = window.open('', '_blank');\r\n        pdf.createPdf(docDefinition).open({}, win);\r\n      }\r\n    }, (error) => {\r\n      console.log('Error: ', error);\r\n    });\r\n  }\r\n\r\n  isDate(val: any) {\r\n    return moment(val, moment.ISO_8601, true).isValid();\r\n  }\r\n\r\n  isUuid(value: string) {\r\n    return (value.length === 36 && value.indexOf(' ') === -1 && value.indexOf('.') === -1);\r\n  }\r\n\r\n  titleize(str) {\r\n    return str.replace(/\\w\\S*/g, s => s.charAt(0).toUpperCase() + s.substr(1).toLowerCase());\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Form } from '../../form-entry/form-factory/form';\r\nimport { NodeBase } from '../../form-entry/form-factory/form-node';\r\nimport { EncounterAdapter } from '../../form-entry/value-adapters/encounter.adapter';\r\n\r\nimport { EncounterPdfViewerService } from '../encounter-pdf-viewer.service';\r\n\r\n@Component({\r\n    selector: 'encounter-renderer',\r\n    template: `<a type=\"button\" style=\"display: block; font-size: 28px; cursor: pointer\" class=\"text-right\" (click)=\"displayPdf()\">\r\n  <span class=\"glyphicon text-primary glyphicon-print\"></span>\r\n</a>\r\n<encounter-viewer class=\"card\" [form]=\"$form\" [encounter]=\"$enc\"></encounter-viewer>`,\r\n    styles: [`.card{box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12)}`]\r\n})\r\nexport class EncounterContainerComponent implements OnInit {\r\n    public $form: Form;\r\n    public $enc: any;\r\n\r\n    @Input() public set form(form) {\r\n        this.$form = form;\r\n    }\r\n    @Input() public set encounter(enc) {\r\n        this.$enc = enc;\r\n    }\r\n\r\n    constructor(\r\n        private encAdapter: EncounterAdapter,\r\n        private encounterPdfViewerService: EncounterPdfViewerService) { }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    displayPdf() {\r\n        this.encounterPdfViewerService.displayPdf(this.$form);\r\n    }\r\n}\r\n","import {Component, OnInit, Input} from '@angular/core';\r\nimport { EncounterViewerService } from '../encounter-viewer.service';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n    selector: 'question-control',\r\n    styles: [`input{border:none;box-shadow:none;color:#000;background:#fff!important;padding-top:23px;display:block;position:relative}`],\r\n    template: `<div>\r\n    {{innerValue}}\r\n</div>`,\r\n  })\r\nexport class QuestionControlComponent implements OnInit {\r\n    @Input() public set schema(schema: any) {\r\n      this._schema = schema;\r\n    }\r\n    @Input() public set value(value) {\r\n      this._value = value;\r\n    }\r\n    @Input() public set dataSource(dataSource: any) {\r\n      this._dataSource = dataSource;\r\n    }\r\n    // The internal data model\r\n    public innerValue: any = '';\r\n    private _value: any;\r\n    private _schema: any;\r\n    private _dataSource: EncounterViewerService;\r\n    constructor() {}\r\n\r\n    ngOnInit() {\r\n      this.writeValue(this._value);\r\n    }\r\n    public isUuid(value: string) {\r\n      if (value.length === 36 && value.indexOf(' ') === -1 && value.indexOf('.') === -1) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    // Current time string.\r\n\r\n    public writeValue(v: any, arrayElement?: boolean) {\r\n      if (v !== this.innerValue) {\r\n          if (this.isUuid(v)) {\r\n            if (!arrayElement) {\r\n              const val =\r\n              this._dataSource.resolveSelectedValueFromSchema(v, this._schema);\r\n              if (val) { this.innerValue = val.toUpperCase(); } else { this.innerValue = v; }\r\n            } else { return this._dataSource.resolveSelectedValueFromSchema(v, this._schema); }\r\n          } else if (_.isArray(v)) {\r\n            const arr = [];\r\n            _.forEach(v, (el) => {\r\n              arr.push(this.writeValue(el, true));\r\n            });\r\n            this.innerValue = arr;\r\n          } else if (this.isDate(v)) {\r\n              if (!arrayElement) { this.innerValue = this._dataSource.convertTime(v); } else {\r\n                  return  this._dataSource.convertTime(v);\r\n              }\r\n          } else {\r\n              if (!arrayElement) { this.innerValue = v; } else {\r\n                return v;\r\n              }\r\n          }\r\n\r\n      }\r\n    }\r\n\r\n    public isDate(str: string) {\r\n      return this._dataSource.isDate(str) && !_.isNumber(str);\r\n    }\r\n\r\n  }\r\n","import {\r\n    Component, OnInit, Input, forwardRef,\r\n    OnChanges, Output, EventEmitter\r\n  } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { EncounterViewerService } from '../encounter-viewer.service';\r\nimport { DataSource } from '../../form-entry/question-models/interfaces/data-source';\r\nconst noop = () => {};\r\n\r\n@Component({\r\n    selector: 'file-preview',\r\n    styles: [``],\r\n    template: `<div *ngIf=\"innerValue\">\r\n              <img class=\"img-responsive\"\r\n                [src]=\"innerValue | secure:this._dataSource.fetchFile\" alt=\"image\" />\r\n                </div>`,\r\n    providers: [\r\n      {\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => FilePreviewComponent),\r\n        multi: true\r\n      }\r\n    ]\r\n  })\r\nexport class FilePreviewComponent implements ControlValueAccessor {\r\n    @Input() public source: any;\r\n    public innerValue = null;\r\n    public _dataSource: DataSource;\r\n    @Input()\r\n    public get dataSource(): DataSource {\r\n        return this._dataSource;\r\n    }\r\n    public set dataSource(v: DataSource) {\r\n        this._dataSource = v;\r\n    }\r\n    // Placeholders for the callbacks which are later providesd\r\n    // by the Control Value Accessor\r\n    private onTouchedCallback: () => void = noop;\r\n    private onChangeCallback: (_: any) => void = noop;\r\n    constructor(private encounterService: EncounterViewerService) {}\r\n    // get accessor\r\n    get value(): any {\r\n      return this.innerValue;\r\n    }\r\n\r\n    // set accessor including call the onchange callback\r\n    set value(v: any) {\r\n      if (v !== this.innerValue) {\r\n        this.innerValue = v;\r\n      }\r\n    }\r\n    // Current time string.\r\n\r\n    public writeValue(v: any) {\r\n      if (v !== this.innerValue) {\r\n          this.innerValue = v;\r\n      }\r\n    }\r\n\r\n    // From ControlValueAccessor interface\r\n    public registerOnChange(fn: any) {\r\n      this.onChangeCallback = fn;\r\n    }\r\n\r\n    // From ControlValueAccessor interface\r\n    public registerOnTouched(fn: any) {\r\n      this.onTouchedCallback = fn;\r\n    }\r\n\r\n    public onBlur() {\r\n      this.onTouchedCallback();\r\n    }\r\n\r\n    public onChange(event: any) {\r\n      // const files = event.srcElement.files;\r\n      // const fileToLoad = files[0];\r\n\r\n      // const fileReader = new FileReader();\r\n\r\n      // fileReader.onload = (fileLoadedEvent) => {\r\n      //   const data = fileReader.result;\r\n      //   const fileType = data.substring('data:image/'.length, data.indexOf(';base64'));\r\n      //   const payload = {\r\n      //     data,\r\n      //     extension: fileType\r\n      //   };\r\n      // };\r\n\r\n      // fileReader.readAsDataURL(fileToLoad);\r\n    }\r\n  }\r\n","import {\r\n    Component, OnInit, Input, forwardRef,\r\n    OnChanges, Output, EventEmitter\r\n  } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DataSource } from '../../form-entry/question-models/interfaces/data-source';\r\nconst noop = () => {};\r\n\r\n@Component({\r\n    selector: 'remote-answer',\r\n    styles: [],\r\n    template: `\r\n    <div *ngIf=\"innerValue\">\r\n      {{innerValue}}\r\n      </div>\r\n`,\r\n    providers: [\r\n      {\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => RemoteAnswerComponent),\r\n        multi: true\r\n      }\r\n    ]\r\n  })\r\nexport class RemoteAnswerComponent implements ControlValueAccessor {\r\n    @Input() public source: any;\r\n    public innerValue = null;\r\n    private _dataSource: DataSource;\r\n    @Input()\r\n    public get dataSource(): DataSource {\r\n        return this._dataSource;\r\n    }\r\n    public set dataSource(v: DataSource) {\r\n        this._dataSource = v;\r\n    }\r\n    // Placeholders for the callbacks which are later providesd\r\n    // by the Control Value Accessor\r\n    private onTouchedCallback: () => void = noop;\r\n    private onChangeCallback: (_: any) => void = noop;\r\n    constructor() {}\r\n    // get accessor\r\n    get value(): any {\r\n      return this.innerValue;\r\n    }\r\n\r\n    // set accessor including call the onchange callback\r\n    set value(v: any) {\r\n      if (v !== this.innerValue) {\r\n        this.innerValue = v;\r\n      }\r\n    }\r\n    // Current time string.\r\n\r\n    public writeValue(v: any) {\r\n      if (v !== this.innerValue) {\r\n        if (this._dataSource) {\r\n          this._dataSource.resolveSelectedValue(v).subscribe((ans) => {\r\n            this.innerValue = ans.label;\r\n        });\r\n        } else {\r\n          this.innerValue = v;\r\n        }\r\n      }\r\n    }\r\n\r\n    // From ControlValueAccessor interface\r\n    public registerOnChange(fn: any) {\r\n      this.onChangeCallback = fn;\r\n    }\r\n\r\n    // From ControlValueAccessor interface\r\n    public registerOnTouched(fn: any) {\r\n      this.onTouchedCallback = fn;\r\n    }\r\n\r\n    public onBlur() {\r\n      this.onTouchedCallback();\r\n    }\r\n\r\n    public onChange(event: any) {\r\n    }\r\n  }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { EncounterViewerComponent } from './encounter-view/encounter-viewer.component';\r\nimport { EncounterContainerComponent } from './encounter-container/encounter-container.component';\r\nimport { EncounterViewerService } from './encounter-viewer.service';\r\nimport { EncounterPdfViewerService } from './encounter-pdf-viewer.service';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { QuestionControlComponent } from './display-controls/question-control.component';\r\nimport { FilePreviewComponent } from './display-controls/file-preview.component';\r\nimport { RemoteAnswerComponent } from './display-controls/remote-answer.component';\r\nimport { HttpModule } from '@angular/http';\r\nimport { SharedModule } from '../shared.module';\r\n@NgModule({\r\n    declarations: [\r\n        EncounterViewerComponent,\r\n        EncounterContainerComponent,\r\n        QuestionControlComponent,\r\n        FilePreviewComponent,\r\n        RemoteAnswerComponent\r\n    ],\r\n    imports: [\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        CommonModule,\r\n        HttpModule,\r\n        SharedModule\r\n    ],\r\n    providers: [\r\n        EncounterViewerService,\r\n        EncounterPdfViewerService\r\n    ],\r\n    exports: [\r\n        EncounterContainerComponent,\r\n        HttpModule\r\n    ],\r\n})\r\nexport class EncounterViewerModule {}\r\n","import { Component, Input, forwardRef, OnInit, AfterViewInit } from '@angular/core';\r\n\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport { DataSource } from '../../form-entry/question-models/interfaces/data-source';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'checkbox',\r\n  template: `<div *ngFor=\"let option of options; let i = index;\">\r\n    <label class=\"form-control no-border\">\r\n        <input type=\"checkbox\" id=\"i + 'id'\" (change)=\"selectOpt(option, $event)\" value=\"option.value\">\r\n        {{ option.label }}\r\n    </label>\r\n</div>`,\r\n  providers: [\r\n    {\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => CheckboxControlComponent),\r\n        multi: true,\r\n    }],\r\n  styles: [`\r\n  .no-border {\r\n    border: 0;\r\n    box-shadow: none;\r\n  }`]\r\n})\r\nexport class CheckboxControlComponent implements OnInit, AfterViewInit {\r\n\r\n  @Input() public options;\r\n\r\n  public _value: Array<any> = [];\r\n\r\n  public ngOnInit() {}\r\n\r\n  public ngAfterViewInit() {}\r\n\r\n  public writeValue(value: any) {\r\n    this.value = value;\r\n  }\r\n\r\n  public registerOnChange(fn: (_: any) => void) {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  public registerOnTouched(fn: () => void) {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  get value(): any {\r\n    if (this._value.length === 0) {\r\n        return '';\r\n    } else {\r\n        return this._value || this._value[0];\r\n    }\r\n  }\r\n\r\n  set value(v: any) {\r\n    if (typeof v === 'undefined' || v === null || v === '') {\r\n        v = [];\r\n    } else if (typeof v === 'string') {\r\n        v = [v];\r\n    } else if (!Array.isArray(v)) {\r\n        throw new TypeError('Value must be a string or an array.');\r\n    }\r\n  }\r\n\r\n  public selectOpt(option, event) {\r\n    if (event.target.checked) {\r\n      this._value.push(option.value);\r\n    } else {\r\n      this.options.forEach((o) => {\r\n        if (o.value === option.value) {\r\n          this._value.splice(o, 1);\r\n        }\r\n      });\r\n    }\r\n\r\n    this.onChange(this.value);\r\n  }\r\n\r\n  private onChange = ( change: any) => { };\r\n  private onTouched = () => { };\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CheckboxControlComponent } from './checkbox.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        CheckboxControlComponent\r\n    ],\r\n    exports: [\r\n        CheckboxControlComponent\r\n    ],\r\n    imports: [CommonModule, FormsModule]\r\n})\r\nexport class CheckboxModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { MatTabsModule , MatIconModule , MatCardModule} from '@angular/material';\r\n// import { NoopAnimationsModule} from '@angular/platform-browser/animations';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { DebugModeService } from '../form-entry/services/debug-mode.service';\r\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\r\nimport { FormErrorsService } from './services/form-errors.service';\r\nimport { FormControlService } from './form-factory/form-control.service';\r\nimport { ValidationFactory } from './form-factory/validation.factory';\r\nimport { FormRendererComponent } from './form-renderer/form-renderer.component';\r\nimport { ErrorRendererComponent } from './error-renderer/error-renderer.component';\r\nimport { HistoricalValueDirective } from './directives/historical-value-directive';\r\nimport { HistoricalFieldHelperService } from './helpers/historical-field-helper-service';\r\nimport { SelectModule } from '../components/select/select.module';\r\n// import { NgSelectModule } from '@ng-select/ng-select';\r\nimport { RemoteFileUploadModule } from '../components/file-upload/file-upload.module';\r\nimport { DateTimePickerModule } from '../components/date-time-picker/date-time-picker.module';\r\nimport { NgxDateTimePickerModule } from '../components/ngx-date-time-picker/ngx-date-time-picker.module';\r\nimport { AfeNgSelectComponent } from '../components/afe-ng-select.component';\r\nimport { HidersDisablersFactory } from './form-factory/hiders-disablers.factory';\r\nimport { AlertsFactory } from './form-factory/show-messages.factory';\r\nimport { ExpressionRunner } from './expression-runner/expression-runner';\r\nimport { JsExpressionHelper } from './helpers/js-expression-helper';\r\nimport { FormSchemaCompiler } from './services/form-schema-compiler.service';\r\nimport { FormFactory } from './form-factory/form.factory';\r\nimport { QuestionFactory } from './form-factory/question.factory';\r\nimport { ControlRelationsFactory } from './form-factory/control-relations.factory';\r\nimport { EncounterAdapter } from './value-adapters/encounter.adapter';\r\nimport { PersonAttribuAdapter } from './value-adapters/person-attribute.adapter';\r\nimport { OrderValueAdapter } from './value-adapters/order.adapter';\r\nimport { ObsAdapterHelper } from './value-adapters/obs-adapter-helper';\r\nimport { ObsValueAdapter } from './value-adapters/obs.adapter';\r\nimport { RemoteSelectModule } from '../components/remote-select/remote-select.module';\r\nimport { AppointmentsOverviewComponent} from '../components/appointments-overview/appointments-overview.component';\r\nimport { EncounterViewerModule } from '../encounter-viewer/encounter-viewer.module';\r\nimport { CheckboxModule } from '../components/check-box/checkbox.module';\r\nimport { SharedModule } from '../shared.module';\r\nimport { TimeAgoPipe } from 'time-ago-pipe';\r\n\r\n\r\n@NgModule({\r\n    imports: [CommonModule,\r\n        ReactiveFormsModule,\r\n        CollapseModule,\r\n        // NgSelectModule,\r\n        SelectModule,\r\n        DateTimePickerModule,\r\n        RemoteSelectModule,\r\n        // NoopAnimationsModule,\r\n        RemoteFileUploadModule,\r\n        EncounterViewerModule,\r\n        CheckboxModule,\r\n        MatIconModule,\r\n        MatTabsModule,\r\n        MatCardModule,\r\n        NgxDateTimePickerModule,\r\n        SharedModule\r\n    ],\r\n    declarations: [\r\n        FormRendererComponent,\r\n        AfeNgSelectComponent,\r\n        AppointmentsOverviewComponent,\r\n        HistoricalValueDirective,\r\n        ErrorRendererComponent,\r\n        TimeAgoPipe\r\n    ],\r\n    providers: [\r\n        FormBuilder,\r\n        FormControlService,\r\n        FormErrorsService,\r\n        ValidationFactory,\r\n        HidersDisablersFactory,\r\n        AlertsFactory,\r\n        ExpressionRunner,\r\n        JsExpressionHelper,\r\n        HistoricalFieldHelperService,\r\n        FormSchemaCompiler,\r\n        FormFactory,\r\n        QuestionFactory,\r\n        ValidationFactory,\r\n        ControlRelationsFactory,\r\n        ObsAdapterHelper,\r\n        ObsValueAdapter,\r\n        EncounterAdapter,\r\n        PersonAttribuAdapter,\r\n        OrderValueAdapter,\r\n        DebugModeService\r\n    ],\r\n    exports: [FormRendererComponent, AfeNgSelectComponent,\r\n        ErrorRendererComponent, DateTimePickerModule, EncounterViewerModule , NgxDateTimePickerModule]\r\n})\r\nexport class FormEntryModule {\r\n\r\n}\r\n","\r\nexport class Pair {\r\n\r\n  key: string;\r\n\r\n  value: any;\r\n\r\n  constructor(key: string, value: any) {\r\n    this.key = key;\r\n    this.value = value;\r\n  }\r\n}\r\n","export enum RenderingType {\r\n    Form,\r\n    Page,\r\n    Section,\r\n    Select,\r\n    DropDown\r\n}\r\n"],"names":["Injectable","Subject","AbstractControl","tslib_1.__extends","FormControl","FormGroup","FormArray","_.first","_.forEach","_.last","_.findIndex","_.filter","Validators","Component","Inject","DOCUMENT","Input","_.isArray","_.each","EventEmitter","_.isUndefined","Directive","Output","HostListener","tslib_1.__values","NG_VALUE_ACCESSOR","forwardRef","_","ViewEncapsulation","ViewChild","STYLE","NgModule","CommonModule","FormsModule","BehaviorSubject","WrappedValue","Pipe","ChangeDetectorRef","DomSanitizer","Renderer2","NgxFileUploaderModule","moment","_.chunk","ChangeDetectionStrategy","MAT_DATE_FORMATS","DateAdapter","MomentDateAdapter","ReactiveFormsModule","MatDatepickerModule","MatFormFieldModule","MatNativeDateModule","MatInputModule","MatSelectModule","Option","_.isEmpty","_.includes","of","_.sortBy","_.isNil","_.extend","_.has","_.find","_.intersection","_.isEqual","_.map","_.clone","_.uniqBy","combineLatest","pdfFonts.pdfMake","_.isNumber","noop","HttpModule","CollapseModule","MatIconModule","MatTabsModule","MatCardModule","TimeAgoPipe","FormBuilder"],"mappings":"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b,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,GAAG;YAC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"}
